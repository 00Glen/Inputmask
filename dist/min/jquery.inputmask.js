/*
 Input Mask plugin for jquery
 http://github.com/RobinHerbots/jquery.inputmask
 Copyright (c) 2010 - 2013 Robin Herbots
 Licensed under the MIT license (http://www.opensource.org/licenses/mit-license.php)
 Version: 2.3.35
*/
(function(b){void 0==b.fn.inputmask&&(b.inputmask={defaults:{placeholder:"_",optionalmarker:{start:"[",end:"]"},quantifiermarker:{start:"{",end:"}"},groupmarker:{start:"(",end:")"},escapeChar:"\\",mask:null,oncomplete:b.noop,onincomplete:b.noop,oncleared:b.noop,repeat:0,greedy:!0,autoUnmask:!1,clearMaskOnLostFocus:!0,insertMode:!0,clearIncomplete:!1,aliases:{},onKeyUp:b.noop,onKeyDown:b.noop,showMaskOnFocus:!0,showMaskOnHover:!0,onKeyValidation:b.noop,skipOptionalPartCharacter:" ",showTooltip:!1,
numericInput:!1,isNumeric:!1,radixPoint:"",skipRadixDance:!1,rightAlignNumerics:!0,definitions:{9:{validator:"[0-9]",cardinality:1},a:{validator:"[A-Za-z\u0410-\u044f\u0401\u0451]",cardinality:1},"*":{validator:"[A-Za-z\u0410-\u044f\u0401\u04510-9]",cardinality:1}},keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,
NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91},ignorables:[8,9,13,19,27,33,34,35,36,37,38,39,40,45,46,93,112,113,114,115,116,117,118,119,120,121,122,123],getMaskLength:function(b,A,C,F){var v=b.length;A||("*"==C?v=F.length+1:1<C&&(v+=b.length*(C-1)));return v}},escapeRegex:function(b){return b.replace(RegExp("(\\/|\\.|\\*|\\+|\\?|\\||\\(|\\)|\\[|\\]|\\{|\\}|\\\\)","gim"),"\\$1")}},b.fn.inputmask=function(B,
A){function C(a){var b=document.createElement("input"),a="on"+a,c=a in b;c||(b.setAttribute(a,"return;"),c="function"==typeof b[a]);return c}function F(e,f){var c=a.aliases[e];return c?(c.alias&&F(c.alias),b.extend(!0,a,c),b.extend(!0,a,f),!0):!1}function v(e){a.numericInput&&(e=e.split("").reverse().join(""));var f=!1,c=0,d=a.greedy,k=a.repeat;"*"==k&&(d=!1);!0==d&&""==a.placeholder&&(a.placeholder=" ");1==e.length&&!1==d&&(a.placeholder="");for(var e=b.map(e.split(""),function(b){var h=[];if(b==
a.escapeChar)f=true;else if(b!=a.optionalmarker.start&&b!=a.optionalmarker.end||f){var k=a.definitions[b];if(k&&!f)for(b=0;b<k.cardinality;b++)h.push(L(c+b));else{h.push(b);f=false}c=c+h.length;return h}}),h=e.slice(),U=1;U<k&&d;U++)h=h.concat(e.slice());return{mask:h,repeat:k,greedy:d}}function H(e){a.numericInput&&(e=e.split("").reverse().join(""));var f=!1,c=!1,d=!1;return b.map(e.split(""),function(b){var h=[];if(b==a.escapeChar)c=!0;else if(b==a.optionalmarker.start&&!c)d=f=!0;else if(b==a.optionalmarker.end&&
!c)f=!1,d=!0;else{var e=a.definitions[b];if(e&&!c){for(var j=e.prevalidator,p=j?j.length:0,g=1;g<e.cardinality;g++){var o=p>=g?j[g-1]:[],q=o.validator,o=o.cardinality;h.push({fn:q?"string"==typeof q?RegExp(q):new function(){this.test=q}:/./,cardinality:o?o:1,optionality:f,newBlockMarker:!0==f?d:!1,offset:0,casing:e.casing,def:e.definitionSymbol|b});!0==f&&(d=!1)}h.push({fn:e.validator?"string"==typeof e.validator?RegExp(e.validator):new function(){this.test=e.validator}:/./,cardinality:e.cardinality,
optionality:f,newBlockMarker:d,offset:0,casing:e.casing,def:e.definitionSymbol|b})}else h.push({fn:null,cardinality:0,optionality:f,newBlockMarker:d,offset:0,casing:null,def:b}),c=!1;d=!1;return h}})}function G(){function e(b){var c=b.length;for(i=0;i<c&&b.charAt(i)!=a.optionalmarker.start;i++);var e=[b.substring(0,i)];i<c&&e.push(b.substring(i+1,c));return e}function f(k,h,n){var j=0,p=0,g=h.length;for(i=0;i<g&&!(h.charAt(i)==a.optionalmarker.start&&j++,h.charAt(i)==a.optionalmarker.end&&p++,0<j&&
j==p);i++);j=[h.substring(0,i)];i<g&&j.push(h.substring(i+1,g));p=e(j[0]);if(1<p.length){if(h=k+p[0]+(a.optionalmarker.start+p[1]+a.optionalmarker.end)+(1<j.length?j[1]:""),-1==b.inArray(h,d)&&(d.push(h),g=v(h),c.push({mask:h,_buffer:g.mask,buffer:g.mask.slice(),tests:H(h),lastValidPosition:void 0,greedy:g.greedy,repeat:g.repeat,metadata:n})),h=k+p[0]+(1<j.length?j[1]:""),-1==b.inArray(h,d)&&(d.push(h),g=v(h),c.push({mask:h,_buffer:g.mask,buffer:g.mask.slice(),tests:H(h),lastValidPosition:void 0,
greedy:g.greedy,repeat:g.repeat,metadata:n})),1<e(p[1]).length&&f(k+p[0],p[1]+j[1],n),1<j.length&&1<e(j[1]).length)f(k+p[0]+(a.optionalmarker.start+p[1]+a.optionalmarker.end),j[1],n),f(k+p[0],j[1],n)}else h=k+j,-1==b.inArray(h,d)&&(d.push(h),g=v(h),c.push({mask:h,_buffer:g.mask,buffer:g.mask.slice(),tests:H(h),lastValidPosition:void 0,greedy:g.greedy,repeat:g.repeat,metadata:n}))}var c=[],d=[];b.isFunction(a.mask)&&(a.mask=a.mask.call(this));b.isArray(a.mask)?b.each(a.mask,function(a,b){b.mask!=void 0?
f("",b.mask.toString(),b):f("",b.toString())}):f("",a.mask.toString());return a.greedy?c:c.sort(function(a,b){return a.mask.length-b.mask.length})}function L(b){return a.placeholder.charAt(b%a.placeholder.length)}function D(e,f){function c(){return e[f]}function d(){return c().tests}function k(){return c()._buffer}function h(){return c().buffer}function n(m,h,P){function I(b,c){for(var m=g(b),e=h?1:0,f="",y=c.buffer,k=c.tests[m].cardinality;k>e;k--)f+=J(y,m-(k-1));h&&(f+=h);return null!=c.tests[m].fn?
c.tests[m].fn.test(f,y,b,P,a):!1}if(P=!0===P){var y=I(m,c());!0===y&&(y={pos:m});return y}var d=[],y=!1,j=f;b.each(e,function(b,P){if("object"==typeof P){f=b;var g=m;if(j!=f&&!p(g)&&c().lastValidPosition==t(g)){if(h==k()[g]||h==a.skipOptionalPartCharacter)return d.push({activeMasksetIndex:b,result:{refresh:!0,c:k()[g]}}),c().lastValidPosition=g,!1;e[j].lastValidPosition>=g?c().lastValidPosition=-1:g=q(m)}if((void 0==c().lastValidPosition&&g==q(-1)||c().lastValidPosition>=t(g))&&0<=g&&g<o()){y=I(g,
c());if(!1!==y&&(!0===y&&(y={pos:g}),g=y.pos||g,void 0==c().lastValidPosition||c().lastValidPosition<g))c().lastValidPosition=g;d.push({activeMasksetIndex:b,result:y})}}});f=j;return d}function j(){var a=f,O={activeMasksetIndex:0,lastValidPosition:-1};b.each(e,function(a,b){"object"==typeof b&&(void 0!=this.lastValidPosition&&this.lastValidPosition>O.lastValidPosition)&&(O.activeMasksetIndex=a,O.lastValidPosition=this.lastValidPosition)});f=O.activeMasksetIndex;a!=f&&(F(h(),q(O.lastValidPosition),
o()),c().writeOutBuffer=!0)}function p(a){a=g(a);a=d()[a];return void 0!=a?a.fn:!1}function g(a){return a%d().length}function o(){return a.getMaskLength(k(),c().greedy,c().repeat,h(),a)}function q(a){var b=o();if(a>=b)return b;for(;++a<b&&!p(a););return a}function t(a){if(0>=a)return 0;for(;0<--a&&!p(a););return a}function B(a,b,c,h){h&&(b=v(a,b));var h=d()[g(b)],e=c;if(void 0!=e)switch(h.casing){case "upper":e=c.toUpperCase();break;case "lower":e=c.toLowerCase()}a[b]=e}function J(a,b,c){c&&(b=v(a,
b));return a[b]}function v(a,b){for(var c;void 0==a[b]&&a.length<o();)for(c=0;void 0!==k()[c];)a.push(k()[c++]);return b}function z(a,b,c){a._valueSet(b.join(""));void 0!=c&&u(a,c)}function F(a,b,c){for(var h=o();b<c&&b<h;b++)B(a,b,J(k().slice(),b,!0))}function A(a,b){var c=g(b);B(a,b,J(k(),c))}function C(a,h,g,d){d=void 0!=d?d.slice():H(a._valueGet()).split("");b.each(e,function(a,b){"object"==typeof b&&(b.buffer=b._buffer.slice(),b.lastValidPosition=void 0,b.p=0)});!0!==g&&(f=0);h&&a._valueSet("");
o();b.each(d,function(e,f){var d=c().lastValidPosition,o=c().p,o=void 0==d?e:o,d=void 0==d?-1:d;(g&&p(e)||(f!=J(k().slice(),e,!0)||p(e))&&-1==b.inArray(f,k().slice(d+1,o)))&&b(a).trigger("keypress",[!0,f.charCodeAt(0),h,g,e])});!0===g&&(c().lastValidPosition=t(c().p))}function D(a){return b.inputmask.escapeRegex.call(this,a)}function H(a){return a.replace(RegExp("("+D(k().join(""))+")*$"),"")}function G(a){var b=h(),c=b.slice(),e,f;for(f=c.length-1;0<=f;f--)if(e=g(f),d()[e].optionality)if(!p(f)||
!n(f,b[f],!0))c.pop();else break;else break;z(a,c)}function T(a,c){return d()&&(!0===c||!a.hasClass("hasDatepicker"))?b.map(h(),function(a,b){return p(b)&&n(b,a,!0)?a:null}).join(""):a[0]._valueGet()}function u(c,e,f){function g(a){E&&"number"==typeof a&&(a=h().length-a);return a}var d=c.jquery&&0<c.length?c[0]:c;if("number"==typeof e)e=g(e),f=g(f),b(c).is(":visible")&&(f="number"==typeof f?f:e,!1==a.insertMode&&e==f&&f++,d.setSelectionRange?(d.selectionStart=e,d.selectionEnd=Q?e:f):d.createTextRange&&
(c=d.createTextRange(),c.collapse(!0),c.moveEnd("character",f),c.moveStart("character",e),c.select()));else{if(!b(c).is(":visible"))return{begin:0,end:0};d.setSelectionRange?(e=d.selectionStart,f=d.selectionEnd):document.selection&&document.selection.createRange&&(c=document.selection.createRange(),e=0-c.duplicate().moveStart("character",-1E5),f=e+c.text.length);e=g(e);f=g(f);return{begin:e,end:f}}}function R(a){var c=!1,h=0,d=f;b.each(e,function(b,e){if("object"==typeof e){f=b;var d=t(o());if(void 0!=
e.lastValidPosition&&e.lastValidPosition>=h&&e.lastValidPosition==d){for(var n=!0,j=0;j<=d;j++){var q=p(j),u=g(j);if(q&&(void 0==a[j]||a[j]==L(j))||!q&&a[j]!=k()[u]){n=!1;break}}if(c=c||n)return!1}h=e.lastValidPosition}});f=d;return c}function Y(b,c){return E?1<b-c||1==b-c&&a.insertMode:1<c-b||1==c-b&&a.insertMode}var E=!1,N=h().join("");this.unmaskedvalue=function(a,b){E=a.data("_inputmask").isRTL;return T(a,b)};this.isComplete=function(a){return R(a)};this.mask=function(m){function v(a){a=b._data(a).events;
b.each(a,function(a,c){b.each(c,function(a,b){if("inputmask"==b.namespace){var c=b.handler;b.handler=function(a){if(this.readOnly||this.disabled)a.preventDefault;else return c.apply(this,arguments)}}})})}function D(a){var c;Object.getOwnPropertyDescriptor&&(c=Object.getOwnPropertyDescriptor(a,"value"));if(c&&c.get){if(!a._valueGet){var e=c.get,h=c.set;a._valueGet=function(){return E?e.call(this).split("").reverse().join(""):e.call(this)};a._valueSet=function(a){h.call(this,E?a.split("").reverse().join(""):
a)};Object.defineProperty(a,"value",{get:function(){var a=b(this),c=b(this).data("_inputmask"),h=c.masksets,f=c.activeMasksetIndex;return c&&c.opts.autoUnmask?a.inputmask("unmaskedvalue"):e.call(this)!=h[f]._buffer.join("")?e.call(this):""},set:function(a){h.call(this,a);b(this).triggerHandler("setvalue.inputmask")}})}}else if(document.__lookupGetter__&&a.__lookupGetter__("value"))a._valueGet||(e=a.__lookupGetter__("value"),h=a.__lookupSetter__("value"),a._valueGet=function(){return E?e.call(this).split("").reverse().join(""):
e.call(this)},a._valueSet=function(a){h.call(this,E?a.split("").reverse().join(""):a)},a.__defineGetter__("value",function(){var a=b(this),c=b(this).data("_inputmask"),h=c.masksets,f=c.activeMasksetIndex;return c&&c.opts.autoUnmask?a.inputmask("unmaskedvalue"):e.call(this)!=h[f]._buffer.join("")?e.call(this):""}),a.__defineSetter__("value",function(a){h.call(this,a);b(this).triggerHandler("setvalue.inputmask")}));else if(a._valueGet||(a._valueGet=function(){return E?this.value.split("").reverse().join(""):
this.value},a._valueSet=function(a){this.value=E?a.split("").reverse().join(""):a}),void 0==b.valHooks.text||!0!=b.valHooks.text.inputmaskpatch)e=b.valHooks.text&&b.valHooks.text.get?b.valHooks.text.get:function(){return this.value},h=b.valHooks.text&&b.valHooks.text.set?b.valHooks.text.set:function(a){return this.value=a},jQuery.extend(b.valHooks,{text:{get:function(a){var c=b(a);if(c.data("_inputmask")){if(c.data("_inputmask").opts.autoUnmask)return c.inputmask("unmaskedvalue");a=e.call(a);c=c.data("_inputmask");
return a!=c.masksets[c.activeMasksetIndex]._buffer.join("")?a:""}return e.call(a)},set:function(a,c){var e=b(a),f=h.call(a,c);e.data("_inputmask")&&e.triggerHandler("setvalue.inputmask");return f},inputmaskpatch:!0}})}function I(a,b,e){for(var f=h();!p(a)&&0<=a-1;)a--;for(var l=a;l<b&&l<o();l++)if(p(l)){A(f,l);var j=q(l),m=J(f,j);if(m!=L(j))if(j<o()&&!1!==n(l,m,!0)&&d()[g(l)].def==d()[g(j)].def)B(f,l,J(f,j),!0),j<b&&A(f,j);else if(p(l))break}else A(f,l);void 0!=e&&B(f,t(b),e);if(!1==c().greedy){b=
H(f.join("")).split("");f.length=b.length;l=0;for(e=f.length;l<e;l++)f[l]=b[l];0==f.length&&(c().buffer=k().slice())}return a}function y(a,b,e,f){for(var l=h();a<=b&&a<o();a++)if(p(a)){var j=J(l,a,!0);B(l,a,e,!0);if(j!=L(a))if(e=q(a),e<o())if(!1!==n(e,j,!0)&&d()[g(a)].def==d()[g(e)].def)e=j;else if(p(e))break;else e=j;else break;else if(e=j,!0!==f)break}else A(l,a);f=l.length;if(!1==c().greedy){e=H(l.join("")).split("");l.length=e.length;a=0;for(j=l.length;a<j;a++)l[a]=e[a];0==l.length&&(c().buffer=
k().slice())}return b-(f-l.length)}function Q(g){S=!1;var d=this,x=g.keyCode,s=u(d);if(x==a.keyCode.BACKSPACE||x==a.keyCode.DELETE||aa&&127==x||g.ctrlKey&&88==x){g.preventDefault();if(a.numericInput||E)switch(x){case a.keyCode.BACKSPACE:x=a.keyCode.DELETE;break;case a.keyCode.DELETE:x=a.keyCode.BACKSPACE}if(Y(s.begin,s.end)){if(E){var l=s.end;s.end=s.begin;s.begin=l}F(h(),s.begin,s.end);if(0==s.begin&&s.end==o())b.each(e,function(a,c){"object"==typeof c&&(c.buffer=c._buffer.slice(),c.lastValidPosition=
void 0,c.p=0)});else{l=o();if(!1==a.greedy)I(s.begin,l);else for(var n=s.begin;n<s.end;n++)p(n)&&I(s.begin,l);C(d,!1,!0,h())}}else b.each(e,function(b,e){if("object"==typeof e){f=b;var d=Z?s.end:s.begin,g=h(),j=q(-1),l=o();if(x==a.keyCode.DELETE)d<j&&(d=j),d<l&&(a.isNumeric&&(""!=a.radixPoint&&g[d]==a.radixPoint)&&(d=g.length-1==d?d:q(d)),d=I(d,l),void 0!=c().lastValidPosition&&(-1!=c().lastValidPosition&&h()[c().lastValidPosition]==k()[c().lastValidPosition]&&(c().lastValidPosition=0==c().lastValidPosition?
-1:t(c().lastValidPosition)),c().lastValidPosition<j?(c().lastValidPosition=void 0,c().p=j):(c().writeOutBuffer=!0,c().p=d)));else if(x==a.keyCode.BACKSPACE)if(d>j){if(d-=1,a.isNumeric&&""!=a.radixPoint&&g[d]==a.radixPoint?(d=y(0,g.length-1==d?d:d-1,L(d),!0),d++):d=I(d,l),void 0!=c().lastValidPosition)-1!=c().lastValidPosition&&h()[c().lastValidPosition]==k()[c().lastValidPosition]&&(c().lastValidPosition=0==c().lastValidPosition?-1:t(c().lastValidPosition)),c().lastValidPosition<j?(c().lastValidPosition=
void 0,c().p=j):(c().writeOutBuffer=!0,c().p=d)}else 0<f&&(c().lastValidPosition=void 0,c().writeOutBuffer=!0,c().p=j,f=0,c().buffer=k().slice(),c().p=q(-1),c().lastValidPosition=void 0)}});j();z(d,h(),c().p);d._valueGet()==k().join("")&&b(d).trigger("cleared");a.showTooltip&&w.prop("title",c().mask)}else x==a.keyCode.END||x==a.keyCode.PAGE_DOWN?setTimeout(function(){var b=q(c().lastValidPosition);!a.insertMode&&(b==o()&&!g.shiftKey)&&b--;u(d,g.shiftKey?s.begin:b,b)},0):x==a.keyCode.HOME&&!g.shiftKey||
x==a.keyCode.PAGE_UP?u(d,0,g.shiftKey?s.begin:0):x==a.keyCode.ESCAPE?C(d,!0,!0,N):x==a.keyCode.INSERT&&!g.shiftKey&&!g.ctrlKey?(a.insertMode=!a.insertMode,u(d,!a.insertMode&&s.begin==o()?s.begin-1:s.begin)):!1==a.insertMode&&!g.shiftKey&&(x==a.keyCode.RIGHT?setTimeout(function(){var a=u(d);u(d,a.begin)},0):x==a.keyCode.LEFT&&setTimeout(function(){var a=u(d);u(d,a.begin-1)},0));l=u(d);a.onKeyDown.call(this,g,h(),a);u(d,l.begin,l.end);V=-1!=b.inArray(x,a.ignorables)}function T(d,g,k,s,l,m){if(void 0==
k&&S)return!1;S=!0;var w=b(this),d=d||window.event,k=k||d.which||d.charCode||d.keyCode,v=String.fromCharCode(k);if((!d.ctrlKey||!d.altKey)&&(d.ctrlKey||d.metaKey||V)&&!0!==g)return!0;if(k){var r,A;g?(k=l?m:c().p,r={begin:k,end:k}):r=u(this);var k=Y(r.begin,r.end),D=!1;k&&(E&&(m=r.end,r.end=r.begin,r.begin=m),m=f,b.each(e,function(b,e){if(typeof e=="object"){f=b;c().undoBuffer=h().join("");var d=r.end<o()?r.end:o();c().lastValidPosition>r.begin&&c().lastValidPosition<d?c().lastValidPosition=t(r.begin):
D=true;F(h(),r.begin,d);var g=o();if(a.greedy==false)I(r.begin,g);else for(var j=r.begin;j<d;j++)p(j)&&I(r.begin,g)}}),!0===D&&(f=m,C(this,!1,!0,h()),a.insertMode||b.each(e,function(a,b){if(typeof b=="object"){f=a;y(r.begin,o(),L(r.begin),true);c().lastValidPosition=q(c().lastValidPosition)}})),f=m);a.isNumeric&&(v==a.radixPoint&&!0!==g)&&(m=h().join("").indexOf(a.radixPoint),-1!=m&&(r.begin=r.begin==m?q(m):m,r.end=r.begin,u(this,r.begin)));var K=q(r.begin-1),m=n(K,v,l);!0===l&&(m=[{activeMasksetIndex:f,
result:m}]);b.each(m,function(b,e){f=e.activeMasksetIndex;c().writeOutBuffer=true;var d=e.result;if(d!==false){var g=false,j=h();if(d!==true){g=d.refresh;K=d.pos!=void 0?d.pos:K;v=d.c!=void 0?d.c:v}if(g!==true)if(a.insertMode==true){d=o();for(g=j.slice();J(g,d,true)!=L(d)&&d>=K;)d=d==0?-1:t(d);if(d>=K){y(K,j.length,v);j=c().lastValidPosition;d=q(j);d!=o()&&(j>=K&&J(h(),d)!=L(d))&&(c().lastValidPosition=d)}else c().writeOutBuffer=false}else B(j,K,v,true);c().p=q(K)}});!0!==l&&j();if(!1!==s&&(b.each(m,
function(a,b){if(b.activeMasksetIndex==f){A=b;return false}}),void 0!=A)){var H=this;setTimeout(function(){a.onKeyValidation.call(H,A.result,a)},0);if(c().writeOutBuffer&&!1!==A.result){var G=h();z(this,G,g?void 0:a.numericInput?t(c().p):c().p);!0!==g&&setTimeout(function(){R(G)&&w.trigger("complete")},0)}else k&&(c().buffer=c().undoBuffer.split(""))}a.showTooltip&&w.prop("title",c().mask);d.preventDefault()}}function $(c){var e=b(this),d=c.keyCode,f=h(),g=u(this);a.onKeyUp.call(this,c,f,a);u(this,
g.begin,g.end);d==a.keyCode.TAB&&(e.hasClass("focus.inputmask")&&0==this._valueGet().length&&a.showMaskOnFocus)&&(f=k().slice(),z(this,f),u(this,0),N=h().join(""))}var w=b(m);if(w.is(":input")){w.data("_inputmask",{masksets:e,activeMasksetIndex:f,opts:a,isRTL:!1});a.showTooltip&&w.prop("title",c().mask);c().greedy=c().greedy?c().greedy:0==c().repeat;if(null!=w.attr("maxLength")){var M=w.prop("maxLength");-1<M&&b.each(e,function(a,b){"object"==typeof b&&"*"==b.repeat&&(b.repeat=M)});o()>M&&-1<M&&(M<
k().length&&(k().length=M),!1==c().greedy&&(c().repeat=Math.round(M/k().length)),w.prop("maxLength",2*o()))}D(m);var S=!1,V=!1;a.numericInput&&(a.isNumeric=a.numericInput);("rtl"==m.dir||a.numericInput&&a.rightAlignNumerics||a.isNumeric&&a.rightAlignNumerics)&&w.css("text-align","right");if("rtl"==m.dir||a.numericInput){m.dir="ltr";w.removeAttr("dir");var W=w.data("_inputmask");W.isRTL=!0;w.data("_inputmask",W);E=!0}w.unbind(".inputmask");w.removeClass("focus.inputmask");w.closest("form").bind("submit",
function(){N!=h().join("")&&w.change()}).bind("reset",function(){b.each(e,function(a,b){if(typeof b=="object"){b.buffer=b._buffer.slice();b.lastValidPosition=void 0;b.p=-1}})});w.bind("mouseenter.inputmask",function(){!b(this).hasClass("focus.inputmask")&&a.showMaskOnHover&&this._valueGet()!=h().join("")&&z(this,h())}).bind("blur.inputmask",function(){var c=b(this),d=this._valueGet(),g=h();c.removeClass("focus.inputmask");N!=h().join("")&&c.change();a.clearMaskOnLostFocus&&d!=""&&(d==k().join("")?
this._valueSet(""):G(this));if(!R(g)){c.trigger("incomplete");if(a.clearIncomplete){b.each(e,function(a,b){if(typeof b=="object"){b.buffer=b._buffer.slice();b.lastValidPosition=void 0;b.p=0}});f=0;if(a.clearMaskOnLostFocus)this._valueSet("");else{g=k().slice();z(this,g)}}}}).bind("focus.inputmask",function(){var e=b(this),d=this._valueGet();a.showMaskOnFocus&&!e.hasClass("focus.inputmask")&&(!a.showMaskOnHover||a.showMaskOnHover&&d=="")&&this._valueGet()!=h().join("")&&z(this,h(),c().p);e.addClass("focus.inputmask");
N=h().join("");e.click()}).bind("mouseleave.inputmask",function(){var c=b(this);a.clearMaskOnLostFocus&&(c.hasClass("focus.inputmask")||(this._valueGet()==k().join("")||this._valueGet()==""?this._valueSet(""):G(this)))}).bind("click.inputmask",function(){var e=this;setTimeout(function(){var d=u(e),f=h();if(d.begin==d.end){var d=d.begin,g=c().lastValidPosition,g=a.isNumeric?a.skipRadixDance===false&&a.radixPoint!=""&&b.inArray(a.radixPoint,f)!=-1?a.numericInput?q(b.inArray(a.radixPoint,f)):b.inArray(a.radixPoint,
f):o():q(g==void 0?-1:g);u(e,d<g&&(n(d,f[d],true)!==false||!p(d))?d:g)}},0)}).bind("dblclick.inputmask",function(){var a=this;c().lastValidPosition!=void 0&&setTimeout(function(){u(a,0,q(c().lastValidPosition))},0)}).bind("keydown.inputmask",Q).bind("keypress.inputmask",T).bind("keyup.inputmask",$).bind(ba+".inputmask dragdrop.inputmask drop.inputmask",function(a){var c=this,d=b(c);if(a.type=="propertychange"&&c._valueGet().length<=o())return true;setTimeout(function(){C(c,true,false);R(h())&&d.trigger("complete");
d.click()},0)}).bind("setvalue.inputmask",function(){C(this,true);N=h().join("");this._valueGet()==k().join("")&&this._valueSet("")}).bind("complete.inputmask",a.oncomplete).bind("incomplete.inputmask",a.onincomplete).bind("cleared.inputmask",a.oncleared);C(m,!0,!1);var X;try{X=document.activeElement}catch(ca){}X===m?(w.addClass("focus.inputmask"),u(m,c().p)):a.clearMaskOnLostFocus?h().join("")==k().join("")?m._valueSet(""):G(m):z(m,h());v(m)}};return this}var a=b.extend(!0,{},b.inputmask.defaults,
A),aa=null!==navigator.userAgent.match(/iphone/i),Q=null!==navigator.userAgent.match(/android.*safari.*/i),ba=C("paste")?"paste":C("input")?"input":"propertychange",Z,n,t=0;if(Q){var z=navigator.userAgent.match(/safari.*/i);Z=537>=parseInt(RegExp(/[0-9]+/).exec(z))}if("string"===typeof B)switch(B){case "mask":return F(a.alias,A),n=G(),this.each(function(){D(b.extend(!0,{},n),0).mask(this)});case "unmaskedvalue":return z=b(this),z.data("_inputmask")?(n=z.data("_inputmask").masksets,t=z.data("_inputmask").activeMasksetIndex,
a=z.data("_inputmask").opts,D(n,t).unmaskedvalue(z)):z.val();case "remove":return this.each(function(){var e=b(this);if(e.data("_inputmask")){n=e.data("_inputmask").masksets;t=e.data("_inputmask").activeMasksetIndex;a=e.data("_inputmask").opts;this._valueSet(D(n,t).unmaskedvalue(e,!0));e.removeData("_inputmask");e.unbind(".inputmask");e.removeClass("focus.inputmask");var f;Object.getOwnPropertyDescriptor&&(f=Object.getOwnPropertyDescriptor(this,"value"));f&&f.get?this._valueGet&&Object.defineProperty(this,
"value",{get:this._valueGet,set:this._valueSet}):document.__lookupGetter__&&this.__lookupGetter__("value")&&this._valueGet&&(this.__defineGetter__("value",this._valueGet),this.__defineSetter__("value",this._valueSet));try{delete this._valueGet,delete this._valueSet}catch(c){this._valueSet=this._valueGet=void 0}}});case "getemptymask":return this.data("_inputmask")?(n=this.data("_inputmask").masksets,t=this.data("_inputmask").activeMasksetIndex,n[t]._buffer.join("")):"";case "hasMaskedValue":return this.data("_inputmask")?
!this.data("_inputmask").opts.autoUnmask:!1;case "isComplete":return n=this.data("_inputmask").masksets,t=this.data("_inputmask").activeMasksetIndex,a=this.data("_inputmask").opts,D(n,t).isComplete(this[0]._valueGet().split(""));case "getmetadata":if(this.data("_inputmask"))return n=this.data("_inputmask").masksets,t=this.data("_inputmask").activeMasksetIndex,n[t].metadata;return;default:return F(B,A)||(a.mask=B),n=G(),this.each(function(){D(b.extend(true,{},n),t).mask(this)})}else{if("object"==typeof B)return a=
b.extend(!0,{},b.inputmask.defaults,B),F(a.alias,B),n=G(),this.each(function(){D(b.extend(!0,{},n),t).mask(this)});if(void 0==B)return this.each(function(){var e=b(this).attr("data-inputmask");if(e&&""!=e)try{var e=e.replace(RegExp("'","g"),'"'),f=b.parseJSON("{"+e+"}");b.extend(!0,f,A);a=b.extend(!0,{},b.inputmask.defaults,f);F(a.alias,f);a.alias=void 0;b(this).inputmask(a)}catch(c){}})}return this})})(jQuery);
