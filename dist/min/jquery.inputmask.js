/*
 Input Mask plugin for jquery
 http://github.com/RobinHerbots/jquery.inputmask
 Copyright (c) 2010 - 2014 Robin Herbots
 Licensed under the MIT license (http://www.opensource.org/licenses/mit-license.php)
 Version: 3.0.58
*/
(function(f){if(void 0===f.fn.inputmask){var T=function(f){var e=document.createElement("input");f="on"+f;var d=f in e;d||(e.setAttribute(f,"return;"),d="function"==typeof e[f]);return d},E=function(c,e,d){return(c=d.aliases[c])?(c.alias&&E(c.alias,void 0,d),f.extend(!0,d,c),f.extend(!0,d,e),!0):!1},J=function(c,e){function d(d){function f(d,e,c,k){this.matches=[];this.isGroup=d||!1;this.isOptional=e||!1;this.isQuantifier=c||!1;this.isAlternator=k||!1;this.quantifier={min:1,max:1}}function e(d,f,
k){var m=c.definitions[f],g=0==d.matches.length;k=void 0!=k?k:d.matches.length;if(m&&!z){for(var t=m.prevalidator,u=t?t.length:0,v=1;v<m.cardinality;v++){var r=u>=v?t[v-1]:[],w=r.validator,r=r.cardinality;d.matches.splice(k++,0,{fn:w?"string"==typeof w?RegExp(w):new function(){this.test=w}:/./,cardinality:r?r:1,optionality:d.isOptional,newBlockMarker:g,casing:m.casing,def:m.definitionSymbol||f,placeholder:m.placeholder,mask:f})}d.matches.splice(k++,0,{fn:m.validator?"string"==typeof m.validator?RegExp(m.validator):
new function(){this.test=m.validator}:/./,cardinality:m.cardinality,optionality:d.isOptional,newBlockMarker:g,casing:m.casing,def:m.definitionSymbol||f,placeholder:m.placeholder,mask:f})}else d.matches.splice(k++,0,{fn:null,cardinality:0,optionality:d.isOptional,newBlockMarker:g,casing:null,def:f,placeholder:void 0,mask:f}),z=!1}for(var r=/(?:[?*+]|\{[0-9\+\*]+(?:,[0-9\+\*]*)?\})\??|[^.?*+^${[]()|\\]+|./g,z=!1,t=new f,g,k=[],D=[];g=r.exec(d);)switch(g=g[0],g.charAt(0)){case c.optionalmarker.end:case c.groupmarker.end:g=
k.pop();0<k.length?k[k.length-1].matches.push(g):t.matches.push(g);break;case c.optionalmarker.start:k.push(new f(!1,!0));break;case c.groupmarker.start:k.push(new f(!0));break;case c.quantifiermarker.start:var u=new f(!1,!1,!0);g=g.replace(/[{}]/g,"");var v=g.split(",");g=isNaN(v[0])?v[0]:parseInt(v[0]);v=1==v.length?g:isNaN(v[1])?v[1]:parseInt(v[1]);if("*"==v||"+"==v)g="*"==v?0:1;u.quantifier={min:g,max:v};if(0<k.length){v=k[k.length-1].matches;g=v.pop();if(!g.isGroup){var s=new f(!0);s.matches.push(g);
g=s}v.push(g);v.push(u)}else g=t.matches.pop(),g.isGroup||(s=new f(!0),s.matches.push(g),g=s),t.matches.push(g),t.matches.push(u);break;case c.escapeChar:z=!0;break;case c.alternatormarker:u=new f(!1,!1,!1,!0);0<k.length?(v=k[k.length-1].matches,g=v.pop(),u.matches.push(g),v.push(u)):(g=t.matches.pop(),u.matches.push(g));k.push(u);break;default:if(0<k.length){if(e(k[k.length-1],g),g=k[k.length-1],g.isAlternator){g=k.pop();for(u=0;u<g.matches.length;u++)g.matches[u].isGroup=!1;0<k.length?k[k.length-
1].matches.push(g):t.matches.push(g)}}else 0<t.matches.length&&(u=t.matches[t.matches.length-1],u.isGroup&&(u.isGroup=!1,e(u,c.groupmarker.start,0),e(u,c.groupmarker.end))),e(t,g)}if(0<k.length){g=k[k.length-1];if(g.isAlternator)for(u=0;u<g.matches.length;u++)g.matches[u].isGroup=!1;t.matches=t.matches.concat(k)}0<t.matches.length&&(u=t.matches[t.matches.length-1],u.isGroup&&(u.isGroup=!1,e(u,c.groupmarker.start,0),e(u,c.groupmarker.end)),D.push(t));return D}function D(e,r){if(c.numericInput&&!0!==
c.multi){e=e.split("").reverse();for(var w=0;w<e.length;w++)e[w]==c.optionalmarker.start?e[w]=c.optionalmarker.end:e[w]==c.optionalmarker.end?e[w]=c.optionalmarker.start:e[w]==c.groupmarker.start?e[w]=c.groupmarker.end:e[w]==c.groupmarker.end&&(e[w]=c.groupmarker.start);e=e.join("")}if(void 0!=e&&""!=e){if(0<c.repeat||"*"==c.repeat||"+"==c.repeat)e=c.groupmarker.start+e+c.groupmarker.end+c.quantifiermarker.start+("*"==c.repeat?0:"+"==c.repeat?1:c.repeat)+","+c.repeat+c.quantifiermarker.end;void 0==
f.inputmask.masksCache[e]&&(f.inputmask.masksCache[e]={mask:e,maskToken:d(e),validPositions:{},_buffer:void 0,buffer:void 0,tests:{},metadata:r});return f.extend(!0,{},f.inputmask.masksCache[e])}}var z=[];f.isFunction(c.mask)&&(c.mask=c.mask.call(this,c));if(f.isArray(c.mask))if(e)f.each(c.mask,function(d,f){void 0!=f.mask?z.push(D(f.mask.toString(),f)):z.push(D(f.toString()))});else var r="("+c.mask.join(")|(")+")",z=D(r);else 1==c.mask.length&&!1==c.greedy&&0!=c.repeat&&(c.placeholder=""),z=void 0!=
c.mask.mask?D(c.mask.mask.toString(),c.mask):D(c.mask.toString());return z},ia="function"===typeof ScriptEngineMajorVersion?ScriptEngineMajorVersion():10<=(new Function("/*@cc_on return @_jscript_version; @*/"))(),s=navigator.userAgent,ja=null!==s.match(/iphone/i),ka=null!==s.match(/android.*safari.*/i),la=null!==s.match(/android.*chrome.*/i),ma=null!==s.match(/android.*firefox.*/i),na=/Kindle/i.test(s)||/Silk/i.test(s)||/KFTT/i.test(s)||/KFOT/i.test(s)||/KFJWA/i.test(s)||/KFJWI/i.test(s)||/KFSOWI/i.test(s)||
/KFTHWA/i.test(s)||/KFTHWI/i.test(s)||/KFAPWA/i.test(s)||/KFAPWI/i.test(s),Y=T("paste")?"paste":T("input")?"input":"propertychange",L=function(c,e,d){function D(a,b,n){b=b||0;var f=[],p,l=0,c;do{if(!0===a&&e.validPositions[l]){var q=e.validPositions[l];c=q.match;p=q.locator.slice();f.push(null==c.fn?c.def:!0===n?q.input:c.placeholder||d.placeholder.charAt(l%d.placeholder.length))}else p=b>l?t(l,p,l-1)[0]:w(l,p,l-1),c=p.match,p=p.locator.slice(),f.push(null==c.fn?c.def:c.placeholder||d.placeholder.charAt(l%
d.placeholder.length));l++}while((void 0==N||l-1<N)&&null!=c.fn||null==c.fn&&""!=c.def||b>=l);f.pop();return f}function z(a){var b=e;b.buffer=void 0;b.tests={};!0!==a&&(b._buffer=void 0,b.validPositions={},b.p=-1)}function r(a){var b=-1,n=e.validPositions;void 0==a&&(a=-1);var d=b,f;for(f in n){var c=parseInt(f);if(-1==a||null!=n[c].match.fn)c<a&&(d=c),c>=a&&(b=c)}return 1<a-d||b<a?d:b}function m(a,b,n){if(d.insertMode&&void 0!=e.validPositions[a]&&void 0==n){n=f.extend(!0,{},e.validPositions);var c=
r(),p;for(p=a;p<=c;p++)delete e.validPositions[p];e.validPositions[a]=b;b=!0;for(p=a;p<=c;p++){a=n[p];if(void 0!=a){var l=null==a.match.fn?p+1:C(p);b=L(l,a.match.def)?b&&!1!==v(l,a.input,!0,!0):!1}if(!b)break}if(!b)return e.validPositions=f.extend(!0,{},n),!1}else e.validPositions[a]=b;return!0}function s(a,b){var d,f=a;for(d=a;d<b;d++)delete e.validPositions[d];for(d=b;d<=r();){var c=e.validPositions[d],l=e.validPositions[f];void 0!=c&&void 0==l?(L(f,c.match.def)&&!1!==v(f,c.input,!0)&&(delete e.validPositions[d],
d++),f++):d++}for(d=r();0<d&&(void 0==e.validPositions[d]||null==e.validPositions[d].match.fn);)delete e.validPositions[d],d--;z(!0)}function w(a,b,n){a=t(a,b,n);var f;for(b=0;b<a.length&&(f=a[b],!d.greedy&&(!f.match||!1!==f.match.optionality&&!1!==f.match.newBlockMarker||!0===f.match.optionalQuantifier));b++);return f}function E(a){return e.validPositions[a]?e.validPositions[a].match:t(a)[0].match}function L(a,b){for(var d=!1,f=t(a),e=0;e<f.length;e++)if(f[e].match&&f[e].match.def==b){d=!0;break}return d}
function t(a,b,n){function c(b,n,e,k){function p(e,k,m){if(l==a&&void 0==e.matches)return x.push({match:e,locator:k.reverse()}),!0;if(void 0!=e.matches)if(e.isGroup&&!0!==m){if(e=p(b.matches[g+1],k))return!0}else if(e.isOptional){var h=e;if(e=c(e,n,k,m))e=x[x.length-1].match,(e=0==f.inArray(e,h.matches))&&(q=!0),l=a}else if(e.isAlternator){var h=x.slice(),I,t=k.length;I=0<n.length?n.shift():-1;if(-1==I){var r=l;x=[];c(e.matches[0],n.slice(),[0].concat(k),m);I=x.slice();l=r;x=[];e=c(e.matches[1],n,
[1].concat(k),m);k=x.slice();x=[];for(m=0;m<I.length;m++){r=I[m];h.push(r);for(var v=0;v<k.length;v++)if(r.match.mask==k[v].match.mask){k.splice(v,1);r.locator[t]=-1;break}}x=h.concat(k)}else e=p(e.matches[I],[I].concat(k),m);if(e)return!0}else if(e.isQuantifier&&!0!==m)for(h=e,d.greedy=d.greedy&&isFinite(h.quantifier.max),t=0<n.length&&!0!==m?n.shift():0;t<(isNaN(h.quantifier.max)?t+1:h.quantifier.max)&&l<=a;t++){if(I=b.matches[f.inArray(h,b.matches)-1],e=p(I,[t].concat(k),!0))if(e=x[x.length-1].match,
e.optionalQuantifier=t>h.quantifier.min-1,e=0==f.inArray(e,I.matches))if(t>h.quantifier.min-1){q=!0;l=a;break}else return!0;else return!0}else{if(e=c(e,n,k,m))return!0}else l++}for(var g=0<n.length?n.shift():0;g<b.matches.length;g++)if(!0!==b.matches[g].isQuantifier){var m=p(b.matches[g],[g].concat(e),k);if(m&&l==a)return m;if(l>a)break}}var k=e.maskToken,l=b?n:0;n=b||[0];var x=[],q=!1;if(void 0==b){b=a-1;for(var g;void 0==(g=e.validPositions[b])&&-1<b;)b--;if(void 0!=g&&-1<b)l=b,n=g.locator.slice();
else{for(b=a-1;void 0==(g=e.tests[b])&&-1<b;)b--;void 0!=g&&-1<b&&(l=b,n=g[0].locator.slice())}}for(b=n.shift();b<k.length&&!(c(k[b],n,[b])&&l==a||l>a);b++);(0==x.length||q)&&x.push({match:{fn:null,cardinality:0,optionality:!0,casing:null,def:""},locator:[]});return e.tests[a]=x}function g(){void 0==e._buffer&&(e._buffer=D(!1,1));return e._buffer}function k(){void 0==e.buffer&&(e.buffer=D(!0,r(),!0));return e.buffer}function J(a,b){var n=k().slice();if(!0===a)z(),a=0,b=n.length;else for(var f=a;f<
b;f++)delete e.validPositions[f],delete e.tests[f];for(f=a;f<b;f++)n[f]!=d.skipOptionalPartCharacter&&v(f,n[f],!0,!0)}function u(a,b){switch(b.casing){case "upper":a=a.toUpperCase();break;case "lower":a=a.toLowerCase()}return a}function v(a,b,n,c){function p(a,b,n,c){var g=!1;f.each(t(a),function(l,q){var p=q.match,M=b?1:0,h="";k();for(var x=p.cardinality;x>M;x--)h+=void 0==e.validPositions[a-(x-1)]?U(a-(x-1)):e.validPositions[a-(x-1)].input;b&&(h+=b);g=null!=p.fn?p.fn.test(h,e,a,n,d):b!=p.def&&b!=
d.skipOptionalPartCharacter||""==p.def?!1:{c:p.def,pos:a};if(!1!==g){M=void 0!=g.c?g.c:b;M=M==d.skipOptionalPartCharacter&&null===p.fn?p.def:M;h=a;void 0!=g.remove&&s(g.remove,g.remove+1);if(g.refreshFromBuffer){h=g.refreshFromBuffer;n=!0;J(!0===h?h:h.start,h.end);if(void 0==g.pos&&void 0==g.c)return g.pos=r(),!1;h=void 0!=g.pos?g.pos:a;if(h!=a)return g=f.extend(g,v(h,M,!0)),!1}else if(!0!==g&&void 0!=g.pos&&g.pos!=a&&(h=g.pos,J(a,h),h!=a))return g=f.extend(g,v(h,M,!0)),!1;if(!0!=g&&void 0==g.pos&&
void 0==g.c)return!1;0<l&&z(!0);m(h,f.extend({},q,{input:u(M,p)}),c)||(g=!1);return!1}});return g}n=!0===n;for(var l=k(),g=a-1;-1<g&&(!e.validPositions[g]||null!=e.validPositions[g].fn);g--)if((!P(g)||l[g]!=U(g))&&1<t(g).length){p(g,l[g],!0);break}if(a>=Q())return!1;l=p(a,b,n,c);if(!n&&!1===l)if((g=e.validPositions[a])&&null==g.match.fn&&(g.match.def==b||b==d.skipOptionalPartCharacter))l={caret:C(a)};else if((d.insertMode||void 0==e.validPositions[C(a)])&&!P(a))for(var g=a+1,q=C(a);g<=q;g++)if(l=
p(g,b,n,c),!1!==l){a=g;break}!0===l&&(l={pos:a});return l}function P(a){a=E(a);return null!=a.fn?a.fn:!1}function Q(){var a;N=h.prop("maxLength");-1==N&&(N=void 0);if(!1==d.greedy){var b;b=r();a=e.validPositions[b];var f=void 0!=a?a.locator.slice():void 0;for(b+=1;void 0==a||null!=a.match.fn||null==a.match.fn&&""!=a.match.def;b++)a=w(b,f,b-1),f=a.locator.slice();a=b}else a=k().length;return void 0==N||a<N?a:N}function C(a){var b=Q();if(a>=b)return b;for(;++a<b&&!P(a)&&(!0!==d.nojumps||d.nojumpsThreshold>
a););return a}function W(a){if(0>=a)return 0;for(;0<--a&&!P(a););return a}function H(a,b,d){a._valueSet(b.join(""));void 0!=d&&y(a,d)}function U(a,b){b=b||E(a);return b.placeholder||(null==b.fn?b.def:d.placeholder.charAt(a%d.placeholder.length))}function R(a,b,n,c,p){c=void 0!=c?c.slice():ha(a._valueGet()).split("");z();b&&a._valueSet("");f.each(c,function(b,d){if(!0===p){var c=e.p,c=-1==c?c:W(c),k=-1==c?b:C(c);-1==f.inArray(d,g().slice(c+1,k))&&Z.call(a,void 0,!0,d.charCodeAt(0),!1,n,b)}else Z.call(a,
void 0,!0,d.charCodeAt(0),!1,n,b),n=n||0<b&&b>e.p});b&&(b=d.onKeyPress.call(this,void 0,k(),0,d),X(a,b),H(a,k(),f(a).is(":focus")?C(r(0)):void 0))}function T(a){return f.inputmask.escapeRegex.call(this,a)}function ha(a){return a.replace(RegExp("("+T(g().join(""))+")*$"),"")}function ca(a){if(a.data("_inputmask")&&!a.hasClass("hasDatepicker")){var b=[],n=e.validPositions,c;for(c in n)n[c].match&&null!=n[c].match.fn&&b.push(n[c].input);b=(B?b.reverse():b).join("");n=(B?k().reverse():k()).join("");f.isFunction(d.onUnMask)&&
(b=d.onUnMask.call(a,n,b,d));return b}return a[0]._valueGet()}function O(a){!B||"number"!=typeof a||d.greedy&&""==d.placeholder||(a=k().length-a);return a}function y(a,b,e){a=a.jquery&&0<a.length?a[0]:a;if("number"==typeof b){b=O(b);e=O(e);e="number"==typeof e?e:b;var c=f(a).data("_inputmask")||{};c.caret={begin:b,end:e};f(a).data("_inputmask",c);f(a).is(":visible")&&(a.scrollLeft=a.scrollWidth,!1==d.insertMode&&b==e&&e++,a.setSelectionRange?(a.selectionStart=b,a.selectionEnd=e):a.createTextRange&&
(a=a.createTextRange(),a.collapse(!0),a.moveEnd("character",e),a.moveStart("character",b),a.select()))}else return c=f(a).data("_inputmask"),!f(a).is(":visible")&&c&&void 0!=c.caret?(b=c.caret.begin,e=c.caret.end):a.setSelectionRange?(b=a.selectionStart,e=a.selectionEnd):document.selection&&document.selection.createRange&&(a=document.selection.createRange(),b=0-a.duplicate().moveStart("character",-1E5),e=b+a.text.length),b=O(b),e=O(e),{begin:b,end:e}}function $(a){var b=k(),d=b.length,c,g=r(),l={},
h=void 0!=e.validPositions[g]?e.validPositions[g].locator.slice():void 0,q;for(c=g+1;c<b.length;c++)q=w(c,h,c-1),h=q.locator.slice(),l[c]=f.extend(!0,{},q);for(c=d-1;c>g;c--)if(q=l[c].match,(q.optionality||q.optionalQuantifier)&&b[c]==U(c,q))d--;else break;return a?{l:d,def:l[d]?l[d].match:void 0}:d}function aa(a){var b=k().slice(),d=$();b.length=d;H(a,b)}function S(a){if(f.isFunction(d.isComplete))return d.isComplete.call(h,a,d);if("*"!=d.repeat){var b=!1,e=$(!0),c=W(e.l);if(r()==c&&(void 0==e.def||
e.def.newBlockMarker||e.def.optionalQuantifier))for(b=!0,e=0;e<=c;e++){var g=P(e);if(g&&(void 0==a[e]||a[e]==U(e))||!g&&a[e]!=U(e)){b=!1;break}}return b}}function oa(a){a=f._data(a).events;f.each(a,function(a,d){f.each(d,function(a,b){if("inputmask"==b.namespace&&"setvalue"!=b.type){var d=b.handler;b.handler=function(a){if(this.readOnly||this.disabled)a.preventDefault;else return d.apply(this,arguments)}}})})}function pa(a){function b(a){if(void 0==f.valHooks[a]||!0!=f.valHooks[a].inputmaskpatch){var b=
f.valHooks[a]&&f.valHooks[a].get?f.valHooks[a].get:function(a){return a.value},d=f.valHooks[a]&&f.valHooks[a].set?f.valHooks[a].set:function(a,b){a.value=b;return a};f.valHooks[a]={get:function(a){var d=f(a);if(d.data("_inputmask")){if(d.data("_inputmask").opts.autoUnmask)return d.inputmask("unmaskedvalue");a=b(a);d=(d=d.data("_inputmask").maskset._buffer)?d.join(""):"";return a!=d?a:""}return b(a)},set:function(a,b){var e=f(a),c=e.data("_inputmask");c?(c=d(a,f.isFunction(c.opts.onBeforeMask)?c.opts.onBeforeMask.call(A,
b,c.opts):b),e.triggerHandler("setvalue.inputmask")):c=d(a,b);return c},inputmaskpatch:!0}}}function d(){var a=f(this),b=f(this).data("_inputmask");return b?b.opts.autoUnmask?a.inputmask("unmaskedvalue"):l.call(this)!=g().join("")?l.call(this):"":l.call(this)}function e(a){var b=f(this).data("_inputmask");b?(h.call(this,f.isFunction(b.opts.onBeforeMask)?b.opts.onBeforeMask.call(A,a,b.opts):a),f(this).triggerHandler("setvalue.inputmask")):h.call(this,a)}function c(a){f(a).bind("mouseenter.inputmask",
function(a){a=f(this);this._valueGet()!=k().join("")&&a.trigger("setvalue")});if(a=f._data(a).events.mouseover){for(var b=a[a.length-1],d=a.length-1;0<d;d--)a[d]=a[d-1];a[0]=b}}var l,h;a._valueGet||(Object.getOwnPropertyDescriptor&&Object.getOwnPropertyDescriptor(a,"value"),document.__lookupGetter__&&a.__lookupGetter__("value")?(l=a.__lookupGetter__("value"),h=a.__lookupSetter__("value"),a.__defineGetter__("value",d),a.__defineSetter__("value",e)):(l=function(){return a.value},h=function(b){a.value=
b},b(a.type),c(a)),a._valueGet=function(){return B?l.call(this).split("").reverse().join(""):l.call(this)},a._valueSet=function(a){h.call(this,B?a.split("").reverse().join(""):a)})}function da(a,b,c){if(d.numericInput||B)b==d.keyCode.BACKSPACE?b=d.keyCode.DELETE:b==d.keyCode.DELETE&&(b=d.keyCode.BACKSPACE),B&&(a=c.end,c.end=c.begin,c.begin=a);b==d.keyCode.BACKSPACE&&1>=c.end-c.begin?c.begin=W(c.begin):b==d.keyCode.DELETE&&c.begin==c.end&&c.end++;s(c.begin,c.end);b=r(c.begin);e.p=b<c.begin?C(b):c.begin}
function X(a,b,d){if(b&&b.refreshFromBuffer){var e=b.refreshFromBuffer;J(!0===e?e:e.start,e.end);z(!0);void 0!=d&&(H(a,k()),y(a,b.caret||d.begin,b.caret||d.end))}}function ea(a){ba=!1;var b=this,c=f(b),h=a.keyCode,p=y(b);h==d.keyCode.BACKSPACE||h==d.keyCode.DELETE||ja&&127==h||a.ctrlKey&&88==h?(a.preventDefault(),88==h&&(K=k().join("")),da(b,h,p),H(b,k(),e.p),b._valueGet()==g().join("")&&c.trigger("cleared"),d.showTooltip&&c.prop("title",e.mask)):h==d.keyCode.END||h==d.keyCode.PAGE_DOWN?setTimeout(function(){var c=
C(r());d.insertMode||c!=Q()||a.shiftKey||c--;y(b,a.shiftKey?p.begin:c,c)},0):h==d.keyCode.HOME&&!a.shiftKey||h==d.keyCode.PAGE_UP?y(b,0,a.shiftKey?p.begin:0):h==d.keyCode.ESCAPE||90==h&&a.ctrlKey?(R(b,!0,!1,K.split("")),c.click()):h!=d.keyCode.INSERT||a.shiftKey||a.ctrlKey?!1!=d.insertMode||a.shiftKey||(h==d.keyCode.RIGHT?setTimeout(function(){var a=y(b);y(b,a.begin)},0):h==d.keyCode.LEFT&&setTimeout(function(){var a=y(b);y(b,B?a.begin+1:a.begin-1)},0)):(d.insertMode=!d.insertMode,y(b,d.insertMode||
p.begin!=Q()?p.begin:p.begin-1));var c=y(b),l=d.onKeyDown.call(this,a,k(),c.begin,d);X(b,l,c);fa=-1!=f.inArray(h,d.ignorables)}function Z(a,b,c,g,h,l){if(void 0==c&&ba)return!1;ba=!0;var x=f(this);a=a||window.event;c=b?c:a.which||a.charCode||a.keyCode;if(!(!0===b||a.ctrlKey&&a.altKey)&&(a.ctrlKey||a.metaKey||fa))return!0;if(c){!0!==b&&46==c&&!1==a.shiftKey&&","==d.radixPoint&&(c=44);var q,u;c=String.fromCharCode(c);b?(l=h?l:r()+1,q={begin:l,end:l}):q=y(this);if(l=B?1<q.begin-q.end||1==q.begin-q.end&&
d.insertMode:1<q.end-q.begin||1==q.end-q.begin&&d.insertMode)e.undoPositions=f.extend(!0,{},e.validPositions),da(this,d.keyCode.DELETE,q),d.insertMode||(d.insertMode=!d.insertMode,m(q.begin,h),d.insertMode=!d.insertMode),l=!d.multi;e.writeOutBuffer=!0;q=B&&!l?q.end:q.begin;var w=v(q,c,h);!1!==w&&(!0!==w&&(q=void 0!=w.pos?w.pos:q,c=void 0!=w.c?w.c:c),z(!0),void 0!=w.caret?u=w.caret:(h=e.validPositions,u=void 0!=h[q+1]&&1<t(q+1,h[q].locator.slice(),q).length?q+1:C(q)),e.p=u);if(!1!==g){var s=this;setTimeout(function(){d.onKeyValidation.call(s,
w,d)},0);if(e.writeOutBuffer&&!1!==w){var D=k();H(this,D,b?void 0:d.numericInput?W(u):u);!0!==b&&setTimeout(function(){!0===S(D)&&x.trigger("complete");V=!0;x.trigger("input")},0)}else l&&(e.buffer=void 0,e.validPositions=e.undoPositions)}else l&&(e.buffer=void 0,e.validPositions=e.undoPositions);d.showTooltip&&x.prop("title",e.mask);a&&!0!=b&&(a.preventDefault?a.preventDefault():a.returnValue=!1,b=y(this),a=d.onKeyPress.call(this,a,k(),b.begin,d),X(this,a,b));for(var A in e.validPositions);}}function qa(a){var b=
f(this),c=a.keyCode,e=k(),g=y(this);a=d.onKeyUp.call(this,a,e,g.begin,d);X(this,a,g);c==d.keyCode.TAB&&d.showMaskOnFocus&&(b.hasClass("focus-inputmask")&&0==this._valueGet().length?(z(),e=k(),H(this,e),y(this,0),K=k().join("")):(H(this,e),y(this,O(0),O(Q()))))}function ga(a){if(!0===V&&"input"==a.type)return V=!1,!0;var b=f(this),c=this._valueGet();if("propertychange"==a.type&&this._valueGet().length<=Q())return!0;"paste"==a.type&&(window.clipboardData&&window.clipboardData.getData?c=window.clipboardData.getData("Text"):
a.originalEvent&&a.originalEvent.clipboardData&&a.originalEvent.clipboardData.getData&&(c=a.originalEvent.clipboardData.getData("text/plain")));a=f.isFunction(d.onBeforePaste)?d.onBeforePaste.call(this,c,d):c;R(this,!0,!1,a.split(""),!0);b.click();!0===S(k())&&b.trigger("complete");return!1}function ra(a){if(!0===V&&"input"==a.type)return V=!1,!0;var b=y(this),c=this._valueGet(),c=c.replace(RegExp("("+T(g().join(""))+")*"),"");b.begin>c.length&&(y(this,c.length),b=y(this));1!=k().length-c.length||
c.charAt(b.begin)==k()[b.begin]||c.charAt(b.begin+1)==k()[b.begin]||P(b.begin)||(a.keyCode=d.keyCode.BACKSPACE,ea.call(this,a));a.preventDefault()}function sa(a){h=f(a);if(h.is(":input")&&"number"!=h.attr("type")){h.data("_inputmask",{maskset:e,opts:d,isRTL:!1});d.showTooltip&&h.prop("title",e.mask);("rtl"==a.dir||d.rightAlign)&&h.css("text-align","right");if("rtl"==a.dir||d.numericInput){a.dir="ltr";h.removeAttr("dir");var b=h.data("_inputmask");b.isRTL=!0;h.data("_inputmask",b);B=!0}h.unbind(".inputmask");
h.removeClass("focus-inputmask");h.closest("form").bind("submit",function(){K!=k().join("")&&h.change();d.autoUnmask&&d.removeMaskOnSubmit&&h.inputmask("remove")}).bind("reset",function(){setTimeout(function(){h.trigger("setvalue")},0)});h.bind("mouseenter.inputmask",function(){!f(this).hasClass("focus-inputmask")&&d.showMaskOnHover&&this._valueGet()!=k().join("")&&H(this,k())}).bind("blur.inputmask",function(){var a=f(this);if(a.data("_inputmask")){var c=this._valueGet(),b=k();a.removeClass("focus-inputmask");
K!=k().join("")&&a.change();d.clearMaskOnLostFocus&&""!=c&&(c==g().join("")?this._valueSet(""):aa(this));!1===S(b)&&(a.trigger("incomplete"),d.clearIncomplete&&(z(),d.clearMaskOnLostFocus?this._valueSet(""):(b=g().slice(),H(this,b))))}}).bind("focus.inputmask",function(){var a=f(this),b=this._valueGet();d.showMaskOnFocus&&!a.hasClass("focus-inputmask")&&(!d.showMaskOnHover||d.showMaskOnHover&&""==b)&&this._valueGet()!=k().join("")&&H(this,k(),C(r()));a.addClass("focus-inputmask");K=k().join("")}).bind("mouseleave.inputmask",
function(){var a=f(this);d.clearMaskOnLostFocus&&(a.hasClass("focus-inputmask")||this._valueGet()==a.attr("placeholder")||(this._valueGet()==g().join("")||""==this._valueGet()?this._valueSet(""):aa(this)))}).bind("click.inputmask",function(){var a=this;f(a).is(":focus")&&setTimeout(function(){var b=y(a);if(b.begin==b.end){var b=B?O(b.begin):b.begin,c=r(b),c=C(c);b<c?P(b)?y(a,b):y(a,C(b)):y(a,c)}},0)}).bind("dblclick.inputmask",function(){var a=this;setTimeout(function(){y(a,0,C(r()))},0)}).bind(Y+
".inputmask dragdrop.inputmask drop.inputmask",ga).bind("setvalue.inputmask",function(){R(this,!0);K=k().join("")}).bind("complete.inputmask",d.oncomplete).bind("incomplete.inputmask",d.onincomplete).bind("cleared.inputmask",d.oncleared);h.bind("keydown.inputmask",ea).bind("keypress.inputmask",Z).bind("keyup.inputmask",qa);if(ka||ma||la||na)"input"==Y&&h.unbind(Y+".inputmask"),h.bind("input.inputmask",ra);ia&&h.bind("input.inputmask",ga);pa(a);b=f.isFunction(d.onBeforeMask)?d.onBeforeMask.call(a,
a._valueGet(),d):a._valueGet();R(a,!0,!1,b.split(""),!0);K=k().join("");var c;try{c=document.activeElement}catch(m){}!1===S(k())&&d.clearIncomplete&&z();d.clearMaskOnLostFocus?k().join("")==g().join("")?a._valueSet(""):aa(a):H(a,k());c===a&&(h.addClass("focus-inputmask"),y(a,C(r())));oa(a)}}var B=!1,K,h,ba=!1,V=!1,fa=!1,N;if(void 0!=c)switch(c.action){case "isComplete":return h=f(c.el),e=h.data("_inputmask").maskset,d=h.data("_inputmask").opts,S(c.buffer);case "unmaskedvalue":return h=c.$input,e=
h.data("_inputmask").maskset,d=h.data("_inputmask").opts,B=c.$input.data("_inputmask").isRTL,ca(c.$input);case "mask":K=k().join("");sa(c.el);break;case "format":h=f({});h.data("_inputmask",{maskset:e,opts:d,isRTL:d.numericInput});d.numericInput&&(B=!0);var F=c.value.split("");R(h,!1,!1,B?F.reverse():F,!0);d.onKeyPress.call(this,void 0,k(),0,d);return B?k().reverse().join(""):k().join("");case "isValid":h=f({});h.data("_inputmask",{maskset:e,opts:d,isRTL:d.numericInput});d.numericInput&&(B=!0);F=
c.value.split("");R(h,!1,!0,B?F.reverse():F);var F=k(),ta=$();F.length=ta;return S(F)&&c.value==F.join("");case "getemptymask":return h=f(c.el),e=h.data("_inputmask").maskset,d=h.data("_inputmask").opts,g();case "remove":var A=c.el;h=f(A);e=h.data("_inputmask").maskset;d=h.data("_inputmask").opts;A._valueSet(ca(h));h.unbind(".inputmask");h.removeClass("focus-inputmask");h.removeData("_inputmask");Object.getOwnPropertyDescriptor&&(F=Object.getOwnPropertyDescriptor(A,"value"));F&&F.get?A._valueGet&&
Object.defineProperty(A,"value",{get:A._valueGet,set:A._valueSet}):document.__lookupGetter__&&A.__lookupGetter__("value")&&A._valueGet&&(A.__defineGetter__("value",A._valueGet),A.__defineSetter__("value",A._valueSet));try{delete A._valueGet,delete A._valueSet}catch(ua){A._valueGet=void 0,A._valueSet=void 0}}};f.inputmask={defaults:{placeholder:"_",optionalmarker:{start:"[",end:"]"},quantifiermarker:{start:"{",end:"}"},groupmarker:{start:"(",end:")"},alternatormarker:"|",escapeChar:"\\",mask:null,
oncomplete:f.noop,onincomplete:f.noop,oncleared:f.noop,repeat:0,greedy:!0,autoUnmask:!1,removeMaskOnSubmit:!0,clearMaskOnLostFocus:!0,insertMode:!0,clearIncomplete:!1,aliases:{},alias:null,onKeyUp:f.noop,onKeyPress:f.noop,onKeyDown:f.noop,onBeforeMask:void 0,onBeforePaste:void 0,onUnMask:void 0,showMaskOnFocus:!0,showMaskOnHover:!0,onKeyValidation:f.noop,skipOptionalPartCharacter:" ",showTooltip:!1,numericInput:!1,rightAlign:!1,radixPoint:"",nojumps:!1,nojumpsThreshold:0,definitions:{9:{validator:"[0-9]",
cardinality:1,definitionSymbol:"*"},a:{validator:"[A-Za-z\u0410-\u044f\u0401\u0451]",cardinality:1,definitionSymbol:"*"},"*":{validator:"[A-Za-z\u0410-\u044f\u0401\u04510-9]",cardinality:1}},keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,
PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91},ignorables:[8,9,13,19,27,33,34,35,36,37,38,39,40,45,46,93,112,113,114,115,116,117,118,119,120,121,122,123],isComplete:void 0},masksCache:{},escapeRegex:function(c){return c.replace(RegExp("(\\/|\\.|\\*|\\+|\\?|\\||\\(|\\)|\\[|\\]|\\{|\\}|\\\\)","gim"),"\\$1")},format:function(c,e){var d=f.extend(!0,{},f.inputmask.defaults,e);E(d.alias,e,d);return L({action:"format",value:c},J(d),d)},isValid:function(c,e){var d=f.extend(!0,{},f.inputmask.defaults,
e);E(d.alias,e,d);return L({action:"isValid",value:c},J(d),d)}};f.fn.inputmask=function(c,e,d,s,z){function r(c,d){var e=f(c),m;for(m in d){var g=e.data("inputmask-"+m.toLowerCase());void 0!=g&&(d[m]=g)}return d}d=d||L;s=s||"_inputmask";var m=f.extend(!0,{},f.inputmask.defaults,e),G;if("string"===typeof c)switch(c){case "mask":return E(m.alias,e,m),G=J(m,d!==L),0==G.length?this:this.each(function(){d({action:"mask",el:this},f.extend(!0,{},G),r(this,m))});case "unmaskedvalue":return c=f(this),c.data(s)?
d({action:"unmaskedvalue",$input:c}):c.val();case "remove":return this.each(function(){f(this).data(s)&&d({action:"remove",el:this})});case "getemptymask":return this.data(s)?d({action:"getemptymask",el:this}):"";case "hasMaskedValue":return this.data(s)?!this.data(s).opts.autoUnmask:!1;case "isComplete":return this.data(s)?d({action:"isComplete",buffer:this[0]._valueGet().split(""),el:this}):!0;case "getmetadata":if(this.data(s))return G=this.data(s).maskset,G.metadata;break;case "_detectScope":return E(m.alias,
e,m),void 0==z||E(z,e,m)||-1!=f.inArray(z,"mask unmaskedvalue remove getemptymask hasMaskedValue isComplete getmetadata _detectScope".split(" "))||(m.mask=z),f.isFunction(m.mask)&&(m.mask=m.mask.call(this,m)),f.isArray(m.mask);default:return E(m.alias,e,m),E(c,e,m)||(m.mask=c),G=J(m,d!==L),void 0==G?this:this.each(function(){d({action:"mask",el:this},f.extend(!0,{},G),r(this,m))})}else{if("object"==typeof c)return m=f.extend(!0,{},f.inputmask.defaults,c),E(m.alias,c,m),G=J(m,d!==L),void 0==G?this:
this.each(function(){d({action:"mask",el:this},f.extend(!0,{},G),r(this,m))});if(void 0==c)return this.each(function(){var c=f(this).attr("data-inputmask");if(c&&""!=c)try{var c=c.replace(RegExp("'","g"),'"'),r=f.parseJSON("{"+c+"}");f.extend(!0,r,e);m=f.extend(!0,{},f.inputmask.defaults,r);E(m.alias,r,m);m.alias=void 0;f(this).inputmask("mask",m,d)}catch(s){}})}}}})(jQuery);
