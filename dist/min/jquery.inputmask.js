/*
 Input Mask plugin for jquery
 http://github.com/RobinHerbots/jquery.inputmask
 Copyright (c) 2010 - 2014 Robin Herbots
 Licensed under the MIT license (http://www.opensource.org/licenses/mit-license.php)
 Version: 2.5.0
*/
(function(d){if(void 0===d.fn.inputmask){var Q=function(d){var h=document.createElement("input");d="on"+d;var a=d in h;a||(h.setAttribute(d,"return;"),a="function"==typeof h[d]);return a},D=function(e,h,a){return(e=a.aliases[e])?(e.alias&&D(e.alias,void 0,a),d.extend(!0,a,e),d.extend(!0,a,h),!0):!1},C=function(e){function h(a){e.numericInput&&(a=a.split("").reverse().join(""));var g=!1,h=0,n=e.greedy,p=e.repeat;"*"==p&&(n=!1);1==a.length&&!1==n&&0!=p&&(e.placeholder="");a=d.map(a.split(""),function(a,
d){var k=[];if(a==e.escapeChar)g=!0;else if(a!=e.optionalmarker.start&&a!=e.optionalmarker.end||g){var p=e.definitions[a];if(p&&!g)for(var r=0;r<p.cardinality;r++)k.push(e.placeholder.charAt((h+r)%e.placeholder.length));else k.push(a),g=!1;h+=k.length;return k}});for(var s=a.slice(),r=1;r<p&&n;r++)s=s.concat(a.slice());return{mask:s,repeat:p,greedy:n}}function a(a){e.numericInput&&(a=a.split("").reverse().join(""));var g=!1,h=!1,p=!1;return d.map(a.split(""),function(a,d){var k=[];if(a==e.escapeChar)h=
!0;else{if(a!=e.optionalmarker.start||h){if(a!=e.optionalmarker.end||h){var m=e.definitions[a];if(m&&!h){for(var u=m.prevalidator,F=u?u.length:0,y=1;y<m.cardinality;y++){var A=F>=y?u[y-1]:[],J=A.validator,A=A.cardinality;k.push({fn:J?"string"==typeof J?RegExp(J):new function(){this.test=J}:/./,cardinality:A?A:1,optionality:g,newBlockMarker:!0==g?p:!1,offset:0,casing:m.casing,def:m.definitionSymbol||a});!0==g&&(p=!1)}k.push({fn:m.validator?"string"==typeof m.validator?RegExp(m.validator):new function(){this.test=
m.validator}:/./,cardinality:m.cardinality,optionality:g,newBlockMarker:p,offset:0,casing:m.casing,def:m.definitionSymbol||a})}else k.push({fn:null,cardinality:0,optionality:g,newBlockMarker:p,offset:0,casing:null,def:a}),h=!1;p=!1;return k}g=!1}else g=!0;p=!0}})}function m(a){for(var d=a.length,g=0;g<d&&a.charAt(g)!=e.optionalmarker.start;g++);var h=[a.substring(0,g)];g<d&&h.push(a.substring(g+1,d));return h}function g(k,t,y){for(var n=0,z=0,s=t.length,r=0;r<s&&!(t.charAt(r)==e.optionalmarker.start&&
n++,t.charAt(r)==e.optionalmarker.end&&z++,0<n&&n==z);r++);n=[t.substring(0,r)];r<s&&n.push(t.substring(r+1,s));r=m(n[0]);1<r.length?(t=k+r[0]+(e.optionalmarker.start+r[1]+e.optionalmarker.end)+(1<n.length?n[1]:""),-1==d.inArray(t,p)&&""!=t&&(p.push(t),s=h(t),u.push({mask:t,_buffer:s.mask,buffer:s.mask.slice(),tests:a(t),lastValidPosition:-1,greedy:s.greedy,repeat:s.repeat,metadata:y})),t=k+r[0]+(1<n.length?n[1]:""),-1==d.inArray(t,p)&&""!=t&&(p.push(t),s=h(t),u.push({mask:t,_buffer:s.mask,buffer:s.mask.slice(),
tests:a(t),lastValidPosition:-1,greedy:s.greedy,repeat:s.repeat,metadata:y})),1<m(r[1]).length&&g(k+r[0],r[1]+n[1],y),1<n.length&&1<m(n[1]).length&&(g(k+r[0]+(e.optionalmarker.start+r[1]+e.optionalmarker.end),n[1],y),g(k+r[0],n[1],y))):(t=k+n,-1==d.inArray(t,p)&&""!=t&&(p.push(t),s=h(t),u.push({mask:t,_buffer:s.mask,buffer:s.mask.slice(),tests:a(t),lastValidPosition:-1,greedy:s.greedy,repeat:s.repeat,metadata:y})))}var u=[],p=[];d.isFunction(e.mask)&&(e.mask=e.mask.call(this,e));d.isArray(e.mask)?
d.each(e.mask,function(a,d){void 0!=d.mask?g("",d.mask.toString(),d):g("",d.toString())}):g("",e.mask.toString());return e.greedy?u:u.sort(function(a,d){return a.mask.length-d.mask.length})},ea="function"===typeof ScriptEngineMajorVersion?ScriptEngineMajorVersion():10<=(new Function("/*@cc_on return @_jscript_version; @*/"))(),fa=null!==navigator.userAgent.match(/iphone/i),Y=null!==navigator.userAgent.match(/android.*safari.*/i),ga=null!==navigator.userAgent.match(/android.*chrome.*/i),ha=null!==
navigator.userAgent.match(/android.*firefox.*/i),S=Q("paste")?"paste":Q("input")?"input":"propertychange",y=function(e,h,a,m){function g(){return e[h]}function u(){return g().tests}function p(){return g()._buffer}function k(){return g().buffer}function t(l,b,c){function f(l,b,c,f){for(var d=z(l),g=c?1:0,v="",L=b.buffer,e=b.tests[d].cardinality;e>g;e--)v+=F(L,d-(e-1));c&&(v+=c);return null!=b.tests[d].fn?b.tests[d].fn.test(v,L,l,f,a):c==F(b._buffer.slice(),l,!0)||c==a.skipOptionalPartCharacter?{refresh:!0,
c:F(b._buffer.slice(),l,!0),pos:l}:!1}if(c=!0===c){var v=f(l,g(),b,c);!0===v&&(v={pos:l});return v}var L=[],v=!1,K=h,p=k().slice(),m=g().lastValidPosition;G(l);var t=[];d.each(e,function(a,d){if("object"==typeof d){h=a;var e=l,w=g().lastValidPosition,q;if(w==m){if(1<e-m)for(w=-1==w?0:w;w<e&&(q=f(w,g(),p[w],!0),!1!==q);w++)H(k(),w,p[w],!0),!0===q&&(q={pos:w}),q=q.pos||w,g().lastValidPosition<q&&(g().lastValidPosition=q);if(!n(e)&&!f(e,g(),b,c)){w=r(e)-e;for(q=0;q<w&&!1===f(++e,g(),b,c);q++);t.push(h)}}(g().lastValidPosition>=
m||h==K)&&0<=e&&e<s()&&(v=f(e,g(),b,c),!1!==v&&(!0===v&&(v={pos:e}),q=v.pos||e,g().lastValidPosition<q&&(g().lastValidPosition=q)),L.push({activeMasksetIndex:a,result:v}))}});h=K;return function(a,c){var g=!1;d.each(c,function(l,b){if(g=-1==d.inArray(b.activeMasksetIndex,a)&&!1!==b.result)return!1});if(g)c=d.map(c,function(l,b){if(-1==d.inArray(l.activeMasksetIndex,a))return l;e[l.activeMasksetIndex].lastValidPosition=m});else{var v=-1,L=-1,k;d.each(c,function(l,b){-1!=d.inArray(b.activeMasksetIndex,
a)&&!1!==b.result&(-1==v||v>b.result.pos)&&(v=b.result.pos,L=b.activeMasksetIndex)});c=d.map(c,function(c,g){if(-1!=d.inArray(c.activeMasksetIndex,a)){if(c.result.pos==v)return c;if(!1!==c.result){for(var K=l;K<v;K++)if(k=f(K,e[c.activeMasksetIndex],e[L].buffer[K],!0),!1===k){e[c.activeMasksetIndex].lastValidPosition=v-1;break}else H(e[c.activeMasksetIndex].buffer,K,e[L].buffer[K],!0),e[c.activeMasksetIndex].lastValidPosition=K;k=f(v,e[c.activeMasksetIndex],b,!0);!1!==k&&(H(e[c.activeMasksetIndex].buffer,
v,b,!0),e[c.activeMasksetIndex].lastValidPosition=v);return c}}})}return c}(t,L)}function y(){var a=h,b={activeMasksetIndex:0,lastValidPosition:-1,next:-1};d.each(e,function(a,l){"object"==typeof l&&(h=a,g().lastValidPosition>b.lastValidPosition?(b.activeMasksetIndex=a,b.lastValidPosition=g().lastValidPosition,b.next=r(g().lastValidPosition)):g().lastValidPosition==b.lastValidPosition&&(-1==b.next||b.next>r(g().lastValidPosition))&&(b.activeMasksetIndex=a,b.lastValidPosition=g().lastValidPosition,
b.next=r(g().lastValidPosition)))});h=-1!=b.lastValidPosition&&e[a].lastValidPosition==b.lastValidPosition?a:b.activeMasksetIndex;a!=h&&(J(k(),r(b.lastValidPosition),s()),g().writeOutBuffer=!0);q.data("_inputmask").activeMasksetIndex=h}function n(a){a=z(a);a=u()[a];return void 0!=a?a.fn:!1}function z(a){return a%u().length}function s(){return a.getMaskLength(p(),g().greedy,g().repeat,k(),a)}function r(a){var b=s();if(a>=b)return b;for(;++a<b&&!n(a););return a}function G(a){if(0>=a)return 0;for(;0<
--a&&!n(a););return a}function H(a,b,c,f){f&&(b=D(a,b));f=u()[z(b)];var d=c;if(void 0!=d&&void 0!=f)switch(f.casing){case "upper":d=c.toUpperCase();break;case "lower":d=c.toLowerCase()}a[b]=d}function F(a,b,c){c&&(b=D(a,b));return a[b]}function D(a,b){for(var c;void 0==a[b]&&a.length<s();)for(c=0;void 0!==p()[c];)a.push(p()[c++]);return b}function A(a,b,c){a._valueSet(b.join(""));void 0!=c&&x(a,c)}function J(a,b,c,f){for(var d=s();b<c&&b<d;b++)!0===f?n(b)||H(a,b,""):H(a,b,F(p().slice(),b,!0))}function C(a,
b){var c=z(b);H(a,b,F(p(),c))}function O(l){return a.placeholder.charAt(l%a.placeholder.length)}function I(a,b,c,f,v){f=void 0!=f?f.slice():T(a._valueGet()).split("");d.each(e,function(a,b){"object"==typeof b&&(b.buffer=b._buffer.slice(),b.lastValidPosition=-1,b.p=-1)});!0!==c&&(h=0);b&&a._valueSet("");s();d.each(f,function(f,e){if(!0===v){var k=g().p,k=-1==k?k:G(k),h=-1==k?f:r(k);-1==d.inArray(e,p().slice(k+1,h))&&R.call(a,void 0,!0,e.charCodeAt(0),b,c,f)}else R.call(a,void 0,!0,e.charCodeAt(0),
b,c,f),c=c||0<f&&f>g().p});!0===c&&-1!=g().p&&(g().lastValidPosition=G(g().p))}function Q(a){return d.inputmask.escapeRegex.call(this,a)}function T(a){return a.replace(RegExp("("+Q(p().join(""))+")*$"),"")}function U(a){var b=k(),c=b.slice(),f,d;for(d=c.length-1;0<=d;d--)if(f=z(d),u()[f].optionality)if(n(d)&&t(d,b[d],!0))break;else c.pop();else break;A(a,c)}function ia(l,b){if(!u()||!0!==b&&l.hasClass("hasDatepicker"))return l[0]._valueGet();var c=d.map(k(),function(a,b){return n(b)&&t(b,a,!0)?a:
null}),c=(B?c.reverse():c).join("");return void 0!=a.onUnMask?a.onUnMask.call(l,k().join(""),c,a):c}function M(l){!B||"number"!=typeof l||a.greedy&&""==a.placeholder||(l=k().length-l);return l}function x(l,b,c){var f=l.jquery&&0<l.length?l[0]:l;if("number"==typeof b)b=M(b),c=M(c),d(f).is(":visible")&&(c="number"==typeof c?c:b,f.scrollLeft=f.scrollWidth,!1==a.insertMode&&b==c&&c++,f.setSelectionRange?(f.selectionStart=b,f.selectionEnd=Y?b:c):f.createTextRange&&(l=f.createTextRange(),l.collapse(!0),
l.moveEnd("character",c),l.moveStart("character",b),l.select()));else{if(!d(l).is(":visible"))return{begin:0,end:0};f.setSelectionRange?(b=f.selectionStart,c=f.selectionEnd):document.selection&&document.selection.createRange&&(l=document.selection.createRange(),b=0-l.duplicate().moveStart("character",-1E5),c=b+l.text.length);b=M(b);c=M(c);return{begin:b,end:c}}}function P(l){if("*"!=a.repeat){var b=!1,c=0,f=h;d.each(e,function(a,f){if("object"==typeof f){h=a;var d=G(s());if(f.lastValidPosition>=c&&
f.lastValidPosition==d){for(var g=!0,e=0;e<=d;e++){var k=n(e),m=z(e);if(k&&(void 0==l[e]||l[e]==O(e))||!k&&l[e]!=p()[m]){g=!1;break}}if(b=b||g)return!1}c=f.lastValidPosition}});h=f;return b}}function ja(a){a=d._data(a).events;d.each(a,function(a,c){d.each(c,function(a,b){if("inputmask"==b.namespace&&"setvalue"!=b.type){var c=b.handler;b.handler=function(a){if(this.readOnly||this.disabled)a.preventDefault;else return c.apply(this,arguments)}}})})}function ka(a){function b(a){if(void 0==d.valHooks[a]||
!0!=d.valHooks[a].inputmaskpatch){var b=d.valHooks[a]&&d.valHooks[a].get?d.valHooks[a].get:function(a){return a.value},c=d.valHooks[a]&&d.valHooks[a].set?d.valHooks[a].set:function(a,b){a.value=b;return a};d.valHooks[a]={get:function(a){var c=d(a);if(c.data("_inputmask")){if(c.data("_inputmask").opts.autoUnmask)return c.inputmask("unmaskedvalue");a=b(a);c=c.data("_inputmask");return a!=c.masksets[c.activeMasksetIndex]._buffer.join("")?a:""}return b(a)},set:function(a,b){var f=d(a),g=c(a,b);f.data("_inputmask")&&
f.triggerHandler("setvalue.inputmask");return g},inputmaskpatch:!0}}}var c;Object.getOwnPropertyDescriptor&&(c=Object.getOwnPropertyDescriptor(a,"value"));if(c&&c.get){if(!a._valueGet){var f=c.get,g=c.set;a._valueGet=function(){return B?f.call(this).split("").reverse().join(""):f.call(this)};a._valueSet=function(a){g.call(this,B?a.split("").reverse().join(""):a)};Object.defineProperty(a,"value",{get:function(){var a=d(this),b=d(this).data("_inputmask"),c=b.masksets,g=b.activeMasksetIndex;return b&&
b.opts.autoUnmask?a.inputmask("unmaskedvalue"):f.call(this)!=c[g]._buffer.join("")?f.call(this):""},set:function(a){g.call(this,a);d(this).triggerHandler("setvalue.inputmask")}})}}else document.__lookupGetter__&&a.__lookupGetter__("value")?a._valueGet||(f=a.__lookupGetter__("value"),g=a.__lookupSetter__("value"),a._valueGet=function(){return B?f.call(this).split("").reverse().join(""):f.call(this)},a._valueSet=function(a){g.call(this,B?a.split("").reverse().join(""):a)},a.__defineGetter__("value",
function(){var a=d(this),b=d(this).data("_inputmask"),c=b.masksets,g=b.activeMasksetIndex;return b&&b.opts.autoUnmask?a.inputmask("unmaskedvalue"):f.call(this)!=c[g]._buffer.join("")?f.call(this):""}),a.__defineSetter__("value",function(a){g.call(this,a);d(this).triggerHandler("setvalue.inputmask")})):(a._valueGet||(a._valueGet=function(){return B?this.value.split("").reverse().join(""):this.value},a._valueSet=function(a){this.value=B?a.split("").reverse().join(""):a}),b(a.type))}function Z(a,b,c,
f){var d=k();if(!1!==f)for(;!n(a)&&0<=a-1;)a--;for(f=a;f<b&&f<s();f++)if(n(f)){C(d,f);var e=r(f),h=F(d,e);if(h!=O(e))if(e<s()&&!1!==t(f,h,!0)&&u()[z(f)].def==u()[z(e)].def)H(d,f,h,!0);else if(n(f))break}else C(d,f);void 0!=c&&H(d,G(b),c);if(!1==g().greedy){b=T(d.join("")).split("");d.length=b.length;f=0;for(c=d.length;f<c;f++)d[f]=b[f];0==d.length&&(g().buffer=p().slice())}return a}function $(a,b,c){var d=k();if(F(d,a,!0)!=O(a))for(var e=G(b);e>a&&0<=e;e--)if(n(e)){var h=G(e),m=F(d,h);m!=O(h)&&!1!==
t(h,m,!0)&&u()[z(e)].def==u()[z(h)].def&&(H(d,e,m,!0),C(d,h))}else C(d,e);void 0!=c&&F(d,a)==O(a)&&H(d,a,c);a=d.length;if(!1==g().greedy){c=T(d.join("")).split("");d.length=c.length;e=0;for(h=d.length;e<h;e++)d[e]=c[e];0==d.length&&(g().buffer=p().slice())}return b-(a-d.length)}function aa(d,b,c){if(a.numericInput||B){switch(b){case a.keyCode.BACKSPACE:b=a.keyCode.DELETE;break;case a.keyCode.DELETE:b=a.keyCode.BACKSPACE}if(B){var f=c.end;c.end=c.begin;c.begin=f}}f=!0;c.begin==c.end?(f=b==a.keyCode.BACKSPACE?
c.begin-1:c.begin,a.isNumeric&&""!=a.radixPoint&&k()[f]==a.radixPoint&&(c.begin=k().length-1==f?c.begin:b==a.keyCode.BACKSPACE?f:r(f),c.end=c.begin),f=!1,b==a.keyCode.BACKSPACE?c.begin--:b==a.keyCode.DELETE&&c.end++):1!=c.end-c.begin||a.insertMode||(f=!1,b==a.keyCode.BACKSPACE&&c.begin--);J(k(),c.begin,c.end);var e=s();if(!1==a.greedy)Z(c.begin,e,void 0,!B&&b==a.keyCode.BACKSPACE&&!f);else{for(var h=c.begin,p=c.begin;p<c.end;p++)if(n(p)||!f)h=Z(c.begin,e,void 0,!B&&b==a.keyCode.BACKSPACE&&!f);f||
(c.begin=h)}b=r(-1);J(k(),c.begin,c.end,!0);I(d,!1,!1,k());g().lastValidPosition<b?(g().lastValidPosition=-1,g().p=b):g().p=c.begin}function V(e){W=!1;var b=this,c=d(b),f=e.keyCode,h=x(b);f==a.keyCode.BACKSPACE||f==a.keyCode.DELETE||fa&&127==f||e.ctrlKey&&88==f?(e.preventDefault(),88==f&&(N=k().join("")),aa(b,f,h),y(),A(b,k(),g().p),b._valueGet()==p().join("")&&c.trigger("cleared"),a.showTooltip&&c.prop("title",g().mask)):f==a.keyCode.END||f==a.keyCode.PAGE_DOWN?setTimeout(function(){var c=r(g().lastValidPosition);
a.insertMode||c!=s()||e.shiftKey||c--;x(b,e.shiftKey?h.begin:c,c)},0):f==a.keyCode.HOME&&!e.shiftKey||f==a.keyCode.PAGE_UP?x(b,0,e.shiftKey?h.begin:0):f==a.keyCode.ESCAPE||90==f&&e.ctrlKey?(I(b,!0,!1,N.split("")),c.click()):f!=a.keyCode.INSERT||e.shiftKey||e.ctrlKey?!1!=a.insertMode||e.shiftKey||(f==a.keyCode.RIGHT?setTimeout(function(){var a=x(b);x(b,a.begin)},0):f==a.keyCode.LEFT&&setTimeout(function(){var a=x(b);x(b,a.begin-1)},0)):(a.insertMode=!a.insertMode,x(b,a.insertMode||h.begin!=s()?h.begin:
h.begin-1));c=x(b);!0===a.onKeyDown.call(this,e,k(),a)&&x(b,c.begin,c.end);ba=-1!=d.inArray(f,a.ignorables)}function R(l,b,c,f,p,m){if(void 0==c&&W)return!1;W=!0;var q=d(this);l=l||window.event;c=b?c:l.which||l.charCode||l.keyCode;if(!(!0===b||l.ctrlKey&&l.altKey)&&(l.ctrlKey||l.metaKey||ba))return!0;if(c){!0!==b&&46==c&&!1==l.shiftKey&&","==a.radixPoint&&(c=44);var n,u,z=String.fromCharCode(c);b?(c=p?m:g().lastValidPosition+1,n={begin:c,end:c}):n=x(this);m=B?1<n.begin-n.end||1==n.begin-n.end&&a.insertMode:
1<n.end-n.begin||1==n.end-n.begin&&a.insertMode;var D=h;m&&(d.each(e,function(a,b){"object"==typeof b&&(h=a,g().undoBuffer=k().join(""))}),h=D,aa(this,a.keyCode.DELETE,n),a.insertMode||d.each(e,function(a,b){"object"==typeof b&&(h=a,$(n.begin,s()),g().lastValidPosition=r(g().lastValidPosition))}),h=D);var C=k().join("").indexOf(a.radixPoint);a.isNumeric&&!0!==b&&-1!=C&&(a.greedy&&n.begin<=C?(n.begin=G(n.begin),n.end=n.begin):z==a.radixPoint&&(n.begin=C,n.end=n.begin));var E=n.begin;c=t(E,z,p);!0===
p&&(c=[{activeMasksetIndex:h,result:c}]);var w=-1;d.each(c,function(b,c){h=c.activeMasksetIndex;g().writeOutBuffer=!0;var d=c.result;if(!1!==d){var e=!1,f=k();!0!==d&&(e=d.refresh,E=void 0!=d.pos?d.pos:E,z=void 0!=d.c?d.c:z);if(!0!==e){if(!0==a.insertMode){d=s();for(f=f.slice();F(f,d,!0)!=O(d)&&d>=E;)d=0==d?-1:G(d);d>=E?($(E,s(),z),f=g().lastValidPosition,d=r(f),d!=s()&&f>=E&&F(k().slice(),d,!0)!=O(d)&&(g().lastValidPosition=d)):g().writeOutBuffer=!1}else H(f,E,z,!0);if(-1==w||w>r(E))w=r(E)}else!p&&
(f=E<s()?E+1:E,-1==w||w>f)&&(w=f);w>g().p&&(g().p=w)}});!0!==p&&(h=D,y());if(!1!==f)if(d.each(c,function(a,b){if(b.activeMasksetIndex==h)return u=b,!1}),void 0!=u){var J=this;setTimeout(function(){a.onKeyValidation.call(J,u.result,a)},0);if(g().writeOutBuffer&&!1!==u.result){var I=k();f=b?void 0:a.numericInput?E>C?G(w):z==a.radixPoint?w-1:G(w-1):w;A(this,I,f);!0!==b&&setTimeout(function(){!0===P(I)&&q.trigger("complete");X=!0;q.trigger("input")},0)}else m&&(g().buffer=g().undoBuffer.split(""))}else m&&
(g().buffer=g().undoBuffer.split(""));a.showTooltip&&q.prop("title",g().mask);l&&(l.preventDefault?l.preventDefault():l.returnValue=!1)}}function ca(e){var b=d(this),c=e.keyCode,f=k();a.onKeyUp.call(this,e,f,a);c==a.keyCode.TAB&&a.showMaskOnFocus&&(b.hasClass("focus.inputmask")&&0==this._valueGet().length?(f=p().slice(),A(this,f),x(this,0),N=k().join("")):(A(this,f),f.join("")==p().join("")&&-1!=d.inArray(a.radixPoint,f)?(x(this,M(0)),b.click()):x(this,M(0),M(s()))))}function da(e){if(!0===X&&"input"==
e.type)return X=!1,!0;var b=this,c=d(b);if("propertychange"==e.type&&b._valueGet().length<=s())return!0;setTimeout(function(){var d=void 0!=a.onBeforePaste?a.onBeforePaste.call(b,b._valueGet(),a):b._valueGet();I(b,!1,!1,d.split(""),!0);A(b,k());!0===P(k())&&c.trigger("complete");c.click()},0)}function la(e){var b=this,c=d(b),f=x(b),g=b._valueGet();f.begin>g.length&&(x(b,g.length),f=x(b));1!=k().length-g.length||g.charAt(f.begin)==k()[f.begin]||g.charAt(f.begin+1)==k()[f.begin]||n(f.begin)?(g=g.replace(RegExp("("+
Q(p().join(""))+")*"),""),I(b,!1,!1,g.split("")),A(b,k()),!0===P(k())&&c.trigger("complete"),c.click()):(e.keyCode=a.keyCode.BACKSPACE,V.call(b,e));setTimeout(function(){A(b,k());c.click()},0);e.preventDefault()}function ma(l){q=d(l);if(q.is(":input")){q.data("_inputmask",{masksets:e,activeMasksetIndex:h,opts:a,isRTL:!1});a.showTooltip&&q.prop("title",g().mask);g().greedy=g().greedy?g().greedy:0==g().repeat;if(null!=q.attr("maxLength")){var b=q.prop("maxLength");-1<b&&d.each(e,function(a,d){"object"==
typeof d&&"*"==d.repeat&&(d.repeat=b)});s()>=b&&-1<b&&(b<p().length&&(p().length=b),!1==g().greedy&&(g().repeat=Math.round(b/p().length)),q.prop("maxLength",2*s()))}ka(l);a.numericInput&&(a.isNumeric=a.numericInput);("rtl"==l.dir||a.numericInput&&a.rightAlignNumerics||a.isNumeric&&a.rightAlignNumerics)&&q.css("text-align","right");if("rtl"==l.dir||a.numericInput){l.dir="ltr";q.removeAttr("dir");var c=q.data("_inputmask");c.isRTL=!0;q.data("_inputmask",c);B=!0}q.unbind(".inputmask");q.removeClass("focus.inputmask");
q.closest("form").bind("submit",function(){N!=k().join("")&&q.change()}).bind("reset",function(){setTimeout(function(){q.trigger("setvalue")},0)});q.bind("mouseenter.inputmask",function(){!d(this).hasClass("focus.inputmask")&&a.showMaskOnHover&&this._valueGet()!=k().join("")&&A(this,k())}).bind("blur.inputmask",function(){var b=d(this),c=this._valueGet(),f=k();b.removeClass("focus.inputmask");N!=k().join("")&&b.change();a.clearMaskOnLostFocus&&""!=c&&(c==p().join("")?this._valueSet(""):U(this));!1===
P(f)&&(b.trigger("incomplete"),a.clearIncomplete&&(d.each(e,function(a,b){"object"==typeof b&&(b.buffer=b._buffer.slice(),b.lastValidPosition=-1)}),h=0,a.clearMaskOnLostFocus?this._valueSet(""):(f=p().slice(),A(this,f))))}).bind("focus.inputmask",function(){var b=d(this),c=this._valueGet();a.showMaskOnFocus&&!b.hasClass("focus.inputmask")&&(!a.showMaskOnHover||a.showMaskOnHover&&""==c)&&this._valueGet()!=k().join("")&&A(this,k(),r(g().lastValidPosition));b.addClass("focus.inputmask");N=k().join("")}).bind("mouseleave.inputmask",
function(){var b=d(this);a.clearMaskOnLostFocus&&(b.hasClass("focus.inputmask")||this._valueGet()==b.attr("placeholder")||(this._valueGet()==p().join("")||""==this._valueGet()?this._valueSet(""):U(this)))}).bind("click.inputmask",function(){var b=this;setTimeout(function(){var c=x(b),e=k();if(c.begin==c.end){var c=B?M(c.begin):c.begin,f=g().lastValidPosition,e=a.isNumeric?!1===a.skipRadixDance&&""!=a.radixPoint&&-1!=d.inArray(a.radixPoint,e)?a.numericInput?r(d.inArray(a.radixPoint,e)):d.inArray(a.radixPoint,
e):r(f):r(f);c<e?n(c)?x(b,c):x(b,r(c)):x(b,e)}},0)}).bind("dblclick.inputmask",function(){var a=this;setTimeout(function(){x(a,0,r(g().lastValidPosition))},0)}).bind(S+".inputmask dragdrop.inputmask drop.inputmask",da).bind("setvalue.inputmask",function(){I(this,!0);N=k().join("");this._valueGet()==p().join("")&&this._valueSet("")}).bind("complete.inputmask",a.oncomplete).bind("incomplete.inputmask",a.onincomplete).bind("cleared.inputmask",a.oncleared);q.bind("keydown.inputmask",V).bind("keypress.inputmask",
R).bind("keyup.inputmask",ca);if(Y||ha||ga)q.unbind("keydown.inputmask",V).unbind("keypress.inputmask",R).unbind("keyup.inputmask",ca),"input"==S&&q.unbind(S+".inputmask"),q.bind("input.inputmask",la);ea&&q.bind("input.inputmask",da);c=void 0!=a.onBeforeMask?a.onBeforeMask.call(l,l._valueGet(),a):l._valueGet();I(l,!0,!1,c.split(""));N=k().join("");var f;try{f=document.activeElement}catch(m){}f===l?(q.addClass("focus.inputmask"),x(l,r(g().lastValidPosition))):a.clearMaskOnLostFocus?k().join("")==p().join("")?
l._valueSet(""):U(l):A(l,k());ja(l)}}var B=!1,N=k().join(""),q,W=!1,X=!1,ba=!1;if(void 0!=m)switch(m.action){case "isComplete":return P(m.buffer);case "unmaskedvalue":return B=m.$input.data("_inputmask").isRTL,ia(m.$input,m.skipDatepickerCheck);case "mask":ma(m.el);break;case "format":return q=d({}),q.data("_inputmask",{masksets:e,activeMasksetIndex:h,opts:a,isRTL:a.numericInput}),a.numericInput&&(a.isNumeric=a.numericInput,B=!0),I(q,!1,!1,m.value.split(""),!0),k().join("");case "isValid":return q=
d({}),q.data("_inputmask",{masksets:e,activeMasksetIndex:h,opts:a,isRTL:a.numericInput}),a.numericInput&&(a.isNumeric=a.numericInput,B=!0),I(q,!1,!0,m.value.split("")),P(k())}};d.inputmask={defaults:{placeholder:"_",optionalmarker:{start:"[",end:"]"},quantifiermarker:{start:"{",end:"}"},groupmarker:{start:"(",end:")"},escapeChar:"\\",mask:null,oncomplete:d.noop,onincomplete:d.noop,oncleared:d.noop,repeat:0,greedy:!0,autoUnmask:!1,clearMaskOnLostFocus:!0,insertMode:!0,clearIncomplete:!1,aliases:{},
onKeyUp:d.noop,onKeyDown:d.noop,onBeforeMask:void 0,onBeforePaste:void 0,onUnMask:void 0,showMaskOnFocus:!0,showMaskOnHover:!0,onKeyValidation:d.noop,skipOptionalPartCharacter:" ",showTooltip:!1,numericInput:!1,isNumeric:!1,radixPoint:"",skipRadixDance:!1,rightAlignNumerics:!0,definitions:{9:{validator:"[0-9]",cardinality:1,definitionSymbol:"*"},a:{validator:"[A-Za-z\u0410-\u044f\u0401\u0451]",cardinality:1,definitionSymbol:"*"},"*":{validator:"[A-Za-z\u0410-\u044f\u0401\u04510-9]",cardinality:1}},
keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91},ignorables:[8,9,13,19,27,33,34,35,36,37,38,39,40,45,46,93,112,113,114,115,116,117,118,119,120,121,122,123],getMaskLength:function(d,
h,a,m,g){g=d.length;h||("*"==a?g=m.length+1:1<a&&(g+=d.length*(a-1)));return g}},escapeRegex:function(d){return d.replace(RegExp("(\\/|\\.|\\*|\\+|\\?|\\||\\(|\\)|\\[|\\]|\\{|\\}|\\\\)","gim"),"\\$1")},format:function(e,h){var a=d.extend(!0,{},d.inputmask.defaults,h);D(a.alias,h,a);return y(C(a),0,a,{action:"format",value:e})},isValid:function(e,h){var a=d.extend(!0,{},d.inputmask.defaults,h);D(a.alias,h,a);return y(C(a),0,a,{action:"isValid",value:e})}};d.fn.inputmask=function(e,h){var a=d.extend(!0,
{},d.inputmask.defaults,h),m,g=0;if("string"===typeof e)switch(e){case "mask":return D(a.alias,h,a),m=C(a),0==m.length?this:this.each(function(){y(d.extend(!0,{},m),0,a,{action:"mask",el:this})});case "unmaskedvalue":var u=d(this);return u.data("_inputmask")?(m=u.data("_inputmask").masksets,g=u.data("_inputmask").activeMasksetIndex,a=u.data("_inputmask").opts,y(m,g,a,{action:"unmaskedvalue",$input:u})):u.val();case "remove":return this.each(function(){var e=d(this);if(e.data("_inputmask")){m=e.data("_inputmask").masksets;
g=e.data("_inputmask").activeMasksetIndex;a=e.data("_inputmask").opts;this._valueSet(y(m,g,a,{action:"unmaskedvalue",$input:e,skipDatepickerCheck:!0}));e.removeData("_inputmask");e.unbind(".inputmask");e.removeClass("focus.inputmask");var k;Object.getOwnPropertyDescriptor&&(k=Object.getOwnPropertyDescriptor(this,"value"));k&&k.get?this._valueGet&&Object.defineProperty(this,"value",{get:this._valueGet,set:this._valueSet}):document.__lookupGetter__&&this.__lookupGetter__("value")&&this._valueGet&&(this.__defineGetter__("value",
this._valueGet),this.__defineSetter__("value",this._valueSet));try{delete this._valueGet,delete this._valueSet}catch(h){this._valueSet=this._valueGet=void 0}}});case "getemptymask":return this.data("_inputmask")?(m=this.data("_inputmask").masksets,g=this.data("_inputmask").activeMasksetIndex,m[g]._buffer.join("")):"";case "hasMaskedValue":return this.data("_inputmask")?!this.data("_inputmask").opts.autoUnmask:!1;case "isComplete":return m=this.data("_inputmask").masksets,g=this.data("_inputmask").activeMasksetIndex,
a=this.data("_inputmask").opts,y(m,g,a,{action:"isComplete",buffer:this[0]._valueGet().split("")});case "getmetadata":if(this.data("_inputmask"))return m=this.data("_inputmask").masksets,g=this.data("_inputmask").activeMasksetIndex,m[g].metadata;break;default:return D(e,h,a)||(a.mask=e),m=C(a),0==m.length?this:this.each(function(){y(d.extend(!0,{},m),g,a,{action:"mask",el:this})})}else{if("object"==typeof e)return a=d.extend(!0,{},d.inputmask.defaults,e),D(a.alias,e,a),m=C(a),0==m.length?this:this.each(function(){y(d.extend(!0,
{},m),g,a,{action:"mask",el:this})});if(void 0==e)return this.each(function(){var e=d(this).attr("data-inputmask");if(e&&""!=e)try{var e=e.replace(RegExp("'","g"),'"'),g=d.parseJSON("{"+e+"}");d.extend(!0,g,h);a=d.extend(!0,{},d.inputmask.defaults,g);D(a.alias,g,a);a.alias=void 0;d(this).inputmask(a)}catch(m){}})}}}})(jQuery);
