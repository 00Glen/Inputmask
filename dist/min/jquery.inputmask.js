/*
 Input Mask plugin for jquery
 http://github.com/RobinHerbots/jquery.inputmask
 Copyright (c) 2010 - 2013 Robin Herbots
 Licensed under the MIT license (http://www.opensource.org/licenses/mit-license.php)
 Version: 2.6.0
*/
(function(b){void 0===b.fn.inputmask&&(b.inputmask={defaults:{placeholder:"_",optionalmarker:{start:"[",end:"]"},quantifiermarker:{start:"{",end:"}"},groupmarker:{start:"(",end:")"},escapeChar:"\\",mask:null,oncomplete:b.noop,onincomplete:b.noop,oncleared:b.noop,repeat:0,greedy:!0,autoUnmask:!1,clearMaskOnLostFocus:!0,insertMode:!0,clearIncomplete:!1,aliases:{},onKeyUp:b.noop,onKeyDown:b.noop,onUnMask:void 0,showMaskOnFocus:!0,showMaskOnHover:!0,onKeyValidation:b.noop,skipOptionalPartCharacter:" ",
showTooltip:!1,numericInput:!1,isNumeric:!1,radixPoint:"",skipRadixDance:!1,rightAlignNumerics:!0,definitions:{9:{validator:"[0-9]",cardinality:1},a:{validator:"[A-Za-z\u0410-\u044f\u0401\u0451]",cardinality:1},"*":{validator:"[A-Za-z\u0410-\u044f\u0401\u04510-9]",cardinality:1}},keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,
NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91},ignorables:[8,9,13,19,27,33,34,35,36,37,38,39,40,45,46,93,112,113,114,115,116,117,118,119,120,121,122,123],getMaskLength:function(b,y,J,C,D){D=b.length;y||("*"==J?D=C.length+1:1<J&&(D+=b.length*(J-1)));return D}},escapeRegex:function(b){return b.replace(RegExp("(\\/|\\.|\\*|\\+|\\?|\\||\\(|\\)|\\[|\\]|\\{|\\}|\\\\)","gim"),"\\$1")}},b.fn.inputmask=function(v,
y){function J(a){var b=document.createElement("input");a="on"+a;var c=a in b;c||(b.setAttribute(a,"return;"),c="function"==typeof b[a]);return c}function C(f,h){var c=a.aliases[f];return c?(c.alias&&C(c.alias),b.extend(!0,a,c),b.extend(!0,a,h),!0):!1}function D(f){a.numericInput&&(f=f.split("").reverse().join(""));var h=!1,c=0,r=a.greedy,m=a.repeat;"*"==m&&(r=!1);1==f.length&&!1==r&&0!=m&&(a.placeholder="");f=b.map(f.split(""),function(b,g){var l=[];if(b==a.escapeChar)h=!0;else if(b!=a.optionalmarker.start&&
b!=a.optionalmarker.end||h){var f=a.definitions[b];if(f&&!h)for(var d=0;d<f.cardinality;d++)l.push(a.placeholder.charAt((c+d)%a.placeholder.length));else l.push(b),h=!1;c+=l.length;return l}});for(var g=f.slice(),W=1;W<m&&r;W++)g=g.concat(f.slice());return{mask:g,repeat:m,greedy:r}}function Q(){function f(b){function c(a,b,g){this.matches=[];this.isGroup=a||!1;this.isOptional=b||!1;this.isQuantifier=g||!1;this.mask;this.quantifier={min:1,max:1}}function f(b,c,g){var d=a.definitions[c];g=void 0!=g?
g:b.matches.length;if(d&&!h){for(var l=d.prevalidator,m=l?l.length:0,n=1;n<d.cardinality;n++){var r=m>=n?l[n-1]:[],e=r.validator,r=r.cardinality;b.matches.splice(g++,0,{fn:e?"string"==typeof e?RegExp(e):new function(){this.test=e}:/./,cardinality:r?r:1,optionality:b.isOptional,casing:d.casing,def:d.definitionSymbol||c})}b.matches.splice(g++,0,{fn:d.validator?"string"==typeof d.validator?RegExp(d.validator):new function(){this.test=d.validator}:/./,cardinality:d.cardinality,optionality:b.isOptional,
casing:d.casing,def:d.definitionSymbol||c})}else b.matches.splice(g++,0,{fn:null,cardinality:0,optionality:b.isOptional,casing:null,def:c}),h=!1}a.numericInput&&(b=b.split("").reverse().join(""));var l=/(?:[?*+]|\{[0-9]+(?:,[0-9]*)?\})\??|[^.?*+^${[]()|\\]+|./g,h=!1,d=new c,m,r,e=[];for(g=[];m=l.exec(b);)switch(r=m[0],r.charAt(0)){case a.optionalmarker.end:case a.groupmarker.end:m=e.pop();0<e.length?e[e.length-1].matches.push(m):(g.push(m),d=m);break;case a.optionalmarker.start:!d.isGroup&&0<d.matches.length&&
g.push(d);d=new c(!1,!0);e.push(d);break;case a.groupmarker.start:!d.isGroup&&0<d.matches.length&&g.push(d);d=new c(!0);e.push(d);break;case a.quantifiermarker.start:m=new c(!1,!1,!0);r=r.replace(/[{}]/g,"");r=r.split(",");m.quantifier=1==r.length?{min:r[0],max:r[0]}:{min:r[0],max:r[1]};0<e.length?e[e.length-1].matches.push(m):d.matches.push(m);break;case a.escapeChar:h=!0;break;default:0<e.length?f(e[e.length-1],r):(d.isGroup?(d.isGroup=!1,f(d,a.groupmarker.start,0),f(d,a.groupmarker.end),g.pop()):
d.isOptional&&(d=new c),f(d,r))}0<d.matches.length&&g.push(d);if(0<a.repeat||"*"==a.repeat||"+"==a.repeat)b=new c(!1,!1,!1),l=new c(!0),d=new c(!1,!1,!0),d.quantifier="*"==a.repeat?{min:0,max:"*"}:"+"==a.repeat?{min:1,max:"*"}:{min:a.greedy?a.repeat:1,max:a.repeat},l.matches=1<g.length?g:g[0].matches,b.matches.push(l),b.matches.push(d),g=[b];return g}function h(b){var c=b.length;for(i=0;i<c&&b.charAt(i)!=a.optionalmarker.start;i++);var g=[b.substring(0,i)];i<c&&g.push(b.substring(i+1,c));return g}
function c(g,n,e){var l=0,p=0,d=n.length;for(i=0;i<d&&!(n.charAt(i)==a.optionalmarker.start&&l++,n.charAt(i)==a.optionalmarker.end&&p++,0<l&&l==p);i++);l=[n.substring(0,i)];i<d&&l.push(n.substring(i+1,d));p=h(l[0]);1<p.length?(n=g+p[0]+(a.optionalmarker.start+p[1]+a.optionalmarker.end)+(1<l.length?l[1]:""),-1==b.inArray(n,m)&&""!=n&&(m.push(n),d=D(n),r.push({mask:n,maskToken:f(n),_buffer:d.mask,buffer:d.mask.slice(),tests:{},lastValidPosition:-1,greedy:d.greedy,repeat:d.repeat,metadata:e})),n=g+p[0]+
(1<l.length?l[1]:""),-1==b.inArray(n,m)&&""!=n&&(m.push(n),d=D(n),r.push({mask:n,maskToken:f(n),_buffer:d.mask,buffer:d.mask.slice(),tests:{},lastValidPosition:-1,greedy:d.greedy,repeat:d.repeat,metadata:e})),1<h(p[1]).length&&c(g+p[0],p[1]+l[1],e),1<l.length&&1<h(l[1]).length&&(c(g+p[0]+(a.optionalmarker.start+p[1]+a.optionalmarker.end),l[1],e),c(g+p[0],l[1],e))):(n=g+l,-1==b.inArray(n,m)&&""!=n&&(m.push(n),d=D(n),r.push({mask:n,maskToken:f(n),validPositions:[],_buffer:d.mask,buffer:d.mask.slice(),
tests:{},lastValidPosition:-1,greedy:d.greedy,repeat:d.repeat,metadata:e})))}var r=[],m=[],g=[];b.isFunction(a.mask)&&(a.mask=a.mask.call(this,a));b.isArray(a.mask)?b.each(a.mask,function(a,b){void 0!=b.mask?c("",b.mask.toString(),b):c("",b.toString())}):c("",a.mask.toString());return a.greedy?r:r.sort(function(a,b){return a.mask.length-b.mask.length})}function H(f,h){function c(){return f[h]}function e(a){function b(c,g,k,f){function e(k,f,E){if(d==a&&void 0==k.matches)return l=l.concat(f),k;if(void 0!=
k.matches)if(k.isGroup&&!0!==E){if(k=e(c.matches[h+1],f))return k}else if(k.isOptional){if(k=b(k,g,f,E))return k}else if(k.isQuantifier){E=k;for(var N=0<g.length?g.shift():0;N<isNaN(E.quantifier.max)?N+1:E.quantifier.max;N++)if(k=e(c.matches[c.matches.indexOf(E)-1],[N].concat(f),!0))return k}else{if(k=b(k,g,f,E))return k}else d++}for(var h=0<g.length?g.shift():0;h<c.matches.length;h++)if((f=e(c.matches[h],[h].concat(k)))&&d==a)return f}var g=c().maskToken,d=0,f=[0],l;c().tests[a-1]&&(d=a-1,f=c().tests[a-
1].location.slice());for(var h=f.shift();h<g.length;h++){l=[];var m=b(g[h],f,[]);if(m&&d==a)return l.push(h),c().tests[a]={match:m,location:l.reverse()},console.log(a+" - "+l),m}return{fn:null,cardinality:0,optionality:!0,casing:null,def:""}}function m(){return c()._buffer}function g(){return c().buffer}function B(q,L,k){function w(b,c,q){for(var L=c?1:0,k="",E=g(),N=e(b).cardinality;N>L;N--)k+=D(E,b-(N-1),!0);c&&(k+=c);return null!=e(b).fn?e(b).fn.test(k,E,b,q,a):c==G(b)||c==a.skipOptionalPartCharacter?
{refresh:!0,c:G(b),pos:b}:!1}if(k=!0===k){var m=w(q,L,k);!0===m&&(m={pos:q});return m}var n=[],m=!1,s=h,u=g().slice(),S=c().lastValidPosition;d(q);var A=[];b.each(f,function(a,b){if("object"==typeof b){h=a;var d=q,f=c().lastValidPosition,e;if(f==S){if(1<d-S)for(f=-1==f?0:f;f<d&&(e=w(f,u[f],!0),!1!==e);f++)K(g(),f,u[f],!0),!0===e&&(e={pos:f}),e=e.pos||f,c().lastValidPosition<e&&(c().lastValidPosition=e);if(!z(d)&&!w(d,L,k)){f=p(d)-d;for(e=0;e<f&&!1===w(++d,L,k);e++);A.push(h)}}(c().lastValidPosition>=
S||h==s)&&0<=d&&d<l()&&(m=w(d,L,k),!1!==m&&(!0===m&&(m={pos:d}),e=m.pos||d,c().lastValidPosition<e&&(c().lastValidPosition=e)),n.push({activeMasksetIndex:a,result:m}))}});var y=function(a,d){var k=!1;b.each(d,function(c,q){if(k=-1==b.inArray(q.activeMasksetIndex,a)&&!1!==q.result)return!1});if(k)d=b.map(d,function(c,q){if(-1==b.inArray(c.activeMasksetIndex,a))return c;f[c.activeMasksetIndex].lastValidPosition=S});else{var e=-1,l=-1;b.each(d,function(c,q){-1!=b.inArray(q.activeMasksetIndex,a)&&!1!==
q.result&(-1==e||e>q.result.pos)&&(e=q.result.pos,l=q.activeMasksetIndex)});d=b.map(d,function(E,d){if(-1!=b.inArray(E.activeMasksetIndex,a)){if(E.result.pos==e)return E;if(!1!==E.result){h=E.activeMasksetIndex;for(var I=q;I<e;I++)if(rsltValid=w(I,f[l].buffer[I],!0),!1===rsltValid){c().lastValidPosition=e-1;break}else K(g(),I,f[l].buffer[I],!0),c().lastValidPosition=I;rsltValid=w(e,L,!0);!1!==rsltValid&&(K(g(),e,L,!0),c().lastValidPosition=e);return E}}})}return d}(A,n);h=s;return y}function n(){var a=
h,d={activeMasksetIndex:0,lastValidPosition:-1,next:-1};b.each(f,function(a,b){"object"==typeof b&&(h=a,c().lastValidPosition>d.lastValidPosition?(d.activeMasksetIndex=a,d.lastValidPosition=c().lastValidPosition,d.next=p(c().lastValidPosition)):c().lastValidPosition==d.lastValidPosition&&(-1==d.next||d.next>p(c().lastValidPosition))&&(d.activeMasksetIndex=a,d.lastValidPosition=c().lastValidPosition,d.next=p(c().lastValidPosition)))});h=-1!=d.lastValidPosition&&f[a].lastValidPosition==d.lastValidPosition?
a:d.activeMasksetIndex;a!=h&&(t(g(),p(d.lastValidPosition),l()),c().writeOutBuffer=!0);s.data("_inputmask").activeMasksetIndex=h}function z(a){a=e(a);return void 0!=a?a.fn:!1}function l(){return a.getMaskLength(m(),c().greedy,c().repeat,g(),a)}function p(a){var b=l();if(a>=b)return b;for(;++a<b&&!z(a););return a}function d(a){if(0>=a)return 0;for(;0<--a&&!z(a););return a}function K(a,b,c,d){d&&(b=v(a,b));d=e(b);var g=c;if(void 0!=g&&void 0!=d)switch(d.casing){case "upper":g=c.toUpperCase();break;
case "lower":g=c.toLowerCase()}a[b]=g}function D(a,b,c){c&&(b=v(a,b));return a[b]}function v(a,b){for(var c;void 0==a[b]&&a.length<l();)for(c=0;void 0!==m()[c];)a.push(m()[c++]);return b}function M(a,b,c){a._valueSet(b.join(""));void 0!=c&&u(a,c)}function t(a,b,c,d){for(var g=l();b<c&&b<g;b++)!0===d?z(b)||K(a,b,""):K(a,b,G(b))}function C(a){K(g(),a,G(a))}function G(b){var c=e(b);return null==c.fn?c.def:a.placeholder.charAt(b%a.placeholder.length)}function y(a,g,e,w,n){w=void 0!=w?w.slice():H(a._valueGet()).split("");
b.each(f,function(a,b){"object"==typeof b&&(b.buffer=b._buffer.slice(),b.lastValidPosition=-1,b.p=-1)});!0!==e&&(h=0);g&&a._valueSet("");l();b.each(w,function(f,l){if(!0===n){var h=c().p,h=-1==h?h:d(h),w=-1==h?f:p(h);-1==b.inArray(l,m().slice(h+1,w))&&b(a).trigger("_keypress",[!0,l.charCodeAt(0),g,e,f])}else b(a).trigger("_keypress",[!0,l.charCodeAt(0),g,e,f])});!0===e&&-1!=c().p&&(c().lastValidPosition=d(c().p))}function J(a){return b.inputmask.escapeRegex.call(this,a)}function H(a){return a.replace(RegExp("("+
J(m().join(""))+")*$"),"")}function Q(a){var b=g(),c=b.slice(),d;for(d=c.length-1;0<=d;d--)if(e(d).optionality)if(z(d)&&B(d,b[d],!0))break;else c.pop();else break;M(a,c)}function X(c,d){if(!c.data("_inputmask")||!0!==d&&c.hasClass("hasDatepicker"))return c[0]._valueGet();var e=b.map(g(),function(a,b){return z(b)&&B(b,a,!0)?a:null}),e=(A?e.reverse():e).join("");return void 0!=a.onUnMask?a.onUnMask.call(this,g().join(""),e):e}function O(b){!A||"number"!=typeof b||a.greedy&&""==a.placeholder||(b=g().length-
b);return b}function u(c,d,g){var e=c.jquery&&0<c.length?c[0]:c;if("number"==typeof d)d=O(d),g=O(g),b(c).is(":visible")&&(g="number"==typeof g?g:d,e.scrollLeft=e.scrollWidth,!1==a.insertMode&&d==g&&g++,e.setSelectionRange?(e.selectionStart=d,e.selectionEnd=fa?d:g):e.createTextRange&&(c=e.createTextRange(),c.collapse(!0),c.moveEnd("character",g),c.moveStart("character",d),c.select()));else{if(!b(c).is(":visible"))return{begin:0,end:0};e.setSelectionRange?(d=e.selectionStart,g=e.selectionEnd):document.selection&&
document.selection.createRange&&(c=document.selection.createRange(),d=0-c.duplicate().moveStart("character",-1E5),g=d+c.text.length);d=O(d);g=O(g);return{begin:d,end:g}}}function U(c){if("*"!=a.repeat){var g=!1,e=0,m=h;b.each(f,function(a,b){if("object"==typeof b){h=a;var f=d(l());if(b.lastValidPosition>=e&&b.lastValidPosition==f){for(var m=!0,n=0;n<=f;n++){var p=z(n);if(p&&(void 0==c[n]||c[n]==G(n))||!p&&c[n]!=G(n)){m=!1;break}}if(g=g||m)return!1}e=b.lastValidPosition}});h=m;return g}}var A=!1,P=
g().join(""),s,da;this.unmaskedvalue=function(a,b){A=a.data("_inputmask").isRTL;return X(a,b)};this.isComplete=function(a){return U(a)};this.mask=function(q){function v(a){a=b._data(a).events;b.each(a,function(a,c){b.each(c,function(a,b){if("inputmask"==b.namespace&&"setvalue"!=b.type&&"_keypress"!=b.type){var c=b.handler;b.handler=function(a){if(this.readOnly||this.disabled)a.preventDefault;else return c.apply(this,arguments)}}})})}function k(a){var c;Object.getOwnPropertyDescriptor&&(c=Object.getOwnPropertyDescriptor(a,
"value"));if(c&&c.get){if(!a._valueGet){var d=c.get,g=c.set;a._valueGet=function(){return A?d.call(this).split("").reverse().join(""):d.call(this)};a._valueSet=function(a){g.call(this,A?a.split("").reverse().join(""):a)};Object.defineProperty(a,"value",{get:function(){var a=b(this),c=b(this).data("_inputmask"),g=c.masksets,e=c.activeMasksetIndex;return c&&c.opts.autoUnmask?a.inputmask("unmaskedvalue"):d.call(this)!=g[e]._buffer.join("")?d.call(this):""},set:function(a){g.call(this,a);b(this).triggerHandler("setvalue.inputmask")}})}}else if(document.__lookupGetter__&&
a.__lookupGetter__("value"))a._valueGet||(d=a.__lookupGetter__("value"),g=a.__lookupSetter__("value"),a._valueGet=function(){return A?d.call(this).split("").reverse().join(""):d.call(this)},a._valueSet=function(a){g.call(this,A?a.split("").reverse().join(""):a)},a.__defineGetter__("value",function(){var a=b(this),c=b(this).data("_inputmask"),g=c.masksets,e=c.activeMasksetIndex;return c&&c.opts.autoUnmask?a.inputmask("unmaskedvalue"):d.call(this)!=g[e]._buffer.join("")?d.call(this):""}),a.__defineSetter__("value",
function(a){g.call(this,a);b(this).triggerHandler("setvalue.inputmask")}));else if(a._valueGet||(a._valueGet=function(){return A?this.value.split("").reverse().join(""):this.value},a._valueSet=function(a){this.value=A?a.split("").reverse().join(""):a}),void 0==b.valHooks.text||!0!=b.valHooks.text.inputmaskpatch)d=b.valHooks.text&&b.valHooks.text.get?b.valHooks.text.get:function(a){return a.value},g=b.valHooks.text&&b.valHooks.text.set?b.valHooks.text.set:function(a,b){a.value=b;return a},b.extend(b.valHooks,
{text:{get:function(a){var c=b(a);if(c.data("_inputmask")){if(c.data("_inputmask").opts.autoUnmask)return c.inputmask("unmaskedvalue");a=d(a);c=c.data("_inputmask");return a!=c.masksets[c.activeMasksetIndex]._buffer.join("")?a:""}return d(a)},set:function(a,c){var d=b(a),e=g(a,c);d.data("_inputmask")&&d.triggerHandler("setvalue.inputmask");return e},inputmaskpatch:!0}})}function w(a,b,I,f){var h=g();if(!1!==f)for(;!z(a)&&0<=a-1;)a--;for(f=a;f<b&&f<l();f++)if(z(f)){C(f);var n=p(f),k=D(h,n);if(k!=G(n))if(n<
l()&&!1!==B(f,k,!0)&&e(f).def==e(n).def)K(h,f,k,!0),n<b&&C(n);else if(z(f))break}else C(f);void 0!=I&&K(h,d(b),I);if(!1==c().greedy){b=H(h.join("")).split("");h.length=b.length;f=0;for(I=h.length;f<I;f++)h[f]=b[f];0==h.length&&(c().buffer=m().slice())}return a}function J(a,b,f){var h=g();if(D(h,a,!0)!=G(a))for(var l=d(b);l>a&&0<=l;l--)if(z(l)){var n=d(l),k=D(h,n);k!=G(n)&&!1!==B(n,k,!0)&&e(l).def==e(n).def&&(K(h,l,k,!0),C(n))}else C(l);void 0!=f&&D(h,a)==G(a)&&K(h,a,f);a=h.length;if(!1==c().greedy){f=
H(h.join("")).split("");h.length=f.length;l=0;for(n=h.length;l<n;l++)h[l]=f[l];0==h.length&&(c().buffer=m().slice())}return b-(a-h.length)}function $(b,d,e){if(a.numericInput||A){switch(d){case a.keyCode.BACKSPACE:d=a.keyCode.DELETE;break;case a.keyCode.DELETE:d=a.keyCode.BACKSPACE}if(A){var h=e.end;e.end=e.begin;e.begin=h}}h=!0;e.begin==e.end?(h=d==a.keyCode.BACKSPACE?e.begin-1:e.begin,a.isNumeric&&""!=a.radixPoint&&g()[h]==a.radixPoint&&(e.begin=g().length-1==h?e.begin:d==a.keyCode.BACKSPACE?h:
p(h),e.end=e.begin),h=!1,d==a.keyCode.BACKSPACE?e.begin--:d==a.keyCode.DELETE&&e.end++):1!=e.end-e.begin||a.insertMode||(h=!1,d==a.keyCode.BACKSPACE&&e.begin--);t(g(),e.begin,e.end);var m=l();if(!1==a.greedy)w(e.begin,m,void 0,!A&&d==a.keyCode.BACKSPACE&&!h);else{for(var n=e.begin,k=e.begin;k<e.end;k++)if(z(k)||!h)n=w(e.begin,m,void 0,!A&&d==a.keyCode.BACKSPACE&&!h);h||(e.begin=n)}d=p(-1);t(g(),e.begin,e.end,!0);y(b,!1,void 0==f[1]||d>=e.end,g());c().lastValidPosition<d?(c().lastValidPosition=-1,
c().p=d):c().p=e.begin}function ba(d){V=!1;var e=this,f=b(e),h=d.keyCode,k=u(e);h==a.keyCode.BACKSPACE||h==a.keyCode.DELETE||ga&&127==h||d.ctrlKey&&88==h?(d.preventDefault(),88==h&&(P=g().join("")),$(e,h,k),n(),M(e,g(),c().p),e._valueGet()==m().join("")&&f.trigger("cleared"),a.showTooltip&&f.prop("title",c().mask)):h==a.keyCode.END||h==a.keyCode.PAGE_DOWN?setTimeout(function(){var b=p(c().lastValidPosition);a.insertMode||b!=l()||d.shiftKey||b--;u(e,d.shiftKey?k.begin:b,b)},0):h==a.keyCode.HOME&&!d.shiftKey||
h==a.keyCode.PAGE_UP?u(e,0,d.shiftKey?k.begin:0):h==a.keyCode.ESCAPE||90==h&&d.ctrlKey?(y(e,!0,!1,P.split("")),f.click()):h!=a.keyCode.INSERT||d.shiftKey||d.ctrlKey?!1!=a.insertMode||d.shiftKey||(h==a.keyCode.RIGHT?setTimeout(function(){var a=u(e);u(e,a.begin)},0):h==a.keyCode.LEFT&&setTimeout(function(){var a=u(e);u(e,a.begin-1)},0)):(a.insertMode=!a.insertMode,u(e,a.insertMode||k.begin!=l()?k.begin:k.begin-1));f=u(e);!0===a.onKeyDown.call(this,d,g(),a)&&u(e,f.begin,f.end);Y=-1!=b.inArray(h,a.ignorables)}
function ca(e,m,k,r,q,s){if(void 0==k&&V)return!1;V=!0;var w=b(this);e=e||window.event;k=k||e.which||e.charCode||e.keyCode;if((!e.ctrlKey||!e.altKey)&&(e.ctrlKey||e.metaKey||Y)&&!0!==m)return!0;if(k){!0!==m&&46==k&&!1==e.shiftKey&&","==a.radixPoint&&(k=44);var x,y,v=String.fromCharCode(k);m?(k=q?s:c().lastValidPosition+1,x={begin:k,end:k}):x=u(this);s=A?1<x.begin-x.end||1==x.begin-x.end&&a.insertMode:1<x.end-x.begin||1==x.end-x.begin&&a.insertMode;var C=h;s&&(h=C,b.each(f,function(a,b){"object"==
typeof b&&(h=a,c().undoBuffer=g().join(""))}),$(this,a.keyCode.DELETE,x),a.insertMode||b.each(f,function(a,b){"object"==typeof b&&(h=a,J(x.begin,l()),c().lastValidPosition=p(c().lastValidPosition))}),h=C);var z=g().join("").indexOf(a.radixPoint);a.isNumeric&&!0!==m&&-1!=z&&(a.greedy&&x.begin<=z?(x.begin=d(x.begin),x.end=x.begin):v==a.radixPoint&&(x.begin=z,x.end=x.begin));var F=x.begin;k=B(F,v,q);!0===q&&(k=[{activeMasksetIndex:h,result:k}]);var t=-1;b.each(k,function(b,e){h=e.activeMasksetIndex;
c().writeOutBuffer=!0;var f=e.result;if(!1!==f){var m=!1,k=g();!0!==f&&(m=f.refresh,F=void 0!=f.pos?f.pos:F,v=void 0!=f.c?f.c:v);if(!0!==m){if(!0==a.insertMode){f=l();for(k=k.slice();D(k,f,!0)!=G(f)&&f>=F;)f=0==f?-1:d(f);f>=F?(J(F,l(),v),k=c().lastValidPosition,f=p(k),f!=l()&&k>=F&&D(g(),f,!0)!=G(f)&&(c().lastValidPosition=f)):c().writeOutBuffer=!1}else K(k,F,v,!0);if(-1==t||t>p(F))t=p(F)}else!q&&(k=F<l()?F+1:F,-1==t||t>k)&&(t=k);t>c().p&&(c().p=t)}});!0!==q&&(h=C,n());if(!1!==r&&(b.each(k,function(a,
b){if(b.activeMasksetIndex==h)return y=b,!1}),void 0!=y)){var H=this;setTimeout(function(){a.onKeyValidation.call(H,y.result,a)},0);if(c().writeOutBuffer&&!1!==y.result){var L=g();r=m?void 0:a.numericInput?F>z?d(t):v==a.radixPoint?t-1:d(t-1):t;M(this,L,r);!0!==m&&setTimeout(function(){!0===U(L)&&w.trigger("complete");T=!0;w.trigger("input")},0)}else s&&(c().buffer=c().undoBuffer.split(""))}a.showTooltip&&w.prop("title",c().mask);e.preventDefault()}}function S(c){var d=b(this),e=c.keyCode,f=g();ea&&
e==a.keyCode.BACKSPACE&&da==this._valueGet()&&ba.call(this,c);a.onKeyUp.call(this,c,f,a);e==a.keyCode.TAB&&a.showMaskOnFocus&&(d.hasClass("focus.inputmask")&&0==this._valueGet().length?(f=m().slice(),M(this,f),u(this,0),P=g().join("")):(M(this,f),f.join("")==m().join("")&&-1!=b.inArray(a.radixPoint,f)?(u(this,O(0)),d.click()):u(this,O(0),O(l()))))}s=b(q);if(s.is(":input")){s.data("_inputmask",{masksets:f,activeMasksetIndex:h,opts:a,isRTL:!1});a.showTooltip&&s.prop("title",c().mask);c().greedy=c().greedy?
c().greedy:0==c().repeat;if(null!=s.attr("maxLength")){var R=s.prop("maxLength");-1<R&&b.each(f,function(a,b){"object"==typeof b&&"*"==b.repeat&&(b.repeat=R)});l()>=R&&-1<R&&(R<m().length&&(m().length=R),!1==c().greedy&&(c().repeat=Math.round(R/m().length)),s.prop("maxLength",2*l()))}k(q);var V=!1,T=!1,Y=!1;a.numericInput&&(a.isNumeric=a.numericInput);("rtl"==q.dir||a.numericInput&&a.rightAlignNumerics||a.isNumeric&&a.rightAlignNumerics)&&s.css("text-align","right");if("rtl"==q.dir||a.numericInput){q.dir=
"ltr";s.removeAttr("dir");var aa=s.data("_inputmask");aa.isRTL=!0;s.data("_inputmask",aa);A=!0}s.unbind(".inputmask");s.removeClass("focus.inputmask");s.closest("form").bind("submit",function(){P!=g().join("")&&s.change()}).bind("reset",function(){setTimeout(function(){s.trigger("setvalue")},0)});s.bind("mouseenter.inputmask",function(){!b(this).hasClass("focus.inputmask")&&a.showMaskOnHover&&this._valueGet()!=g().join("")&&M(this,g())}).bind("blur.inputmask",function(){var c=b(this),d=this._valueGet(),
e=g();c.removeClass("focus.inputmask");P!=g().join("")&&c.change();a.clearMaskOnLostFocus&&""!=d&&(d==m().join("")?this._valueSet(""):Q(this));!1===U(e)&&(c.trigger("incomplete"),a.clearIncomplete&&(b.each(f,function(a,b){"object"==typeof b&&(b.buffer=b._buffer.slice(),b.lastValidPosition=-1)}),h=0,a.clearMaskOnLostFocus?this._valueSet(""):(e=m().slice(),M(this,e))))}).bind("focus.inputmask",function(){var d=b(this),e=this._valueGet();a.showMaskOnFocus&&!d.hasClass("focus.inputmask")&&(!a.showMaskOnHover||
a.showMaskOnHover&&""==e)&&this._valueGet()!=g().join("")&&M(this,g(),p(c().lastValidPosition));d.addClass("focus.inputmask");P=g().join("")}).bind("mouseleave.inputmask",function(){var c=b(this);a.clearMaskOnLostFocus&&(c.hasClass("focus.inputmask")||this._valueGet()==c.attr("placeholder")||(this._valueGet()==m().join("")||""==this._valueGet()?this._valueSet(""):Q(this)))}).bind("click.inputmask",function(){var d=this;setTimeout(function(){var e=u(d),f=g();if(e.begin==e.end){var e=a.isRTL?O(e.begin):
e.begin,h=c().lastValidPosition,f=a.isNumeric?!1===a.skipRadixDance&&""!=a.radixPoint&&-1!=b.inArray(a.radixPoint,f)?a.numericInput?p(b.inArray(a.radixPoint,f)):b.inArray(a.radixPoint,f):p(h):p(h);e<f?z(e)?u(d,e):u(d,p(e)):u(d,f)}},0)}).bind("dblclick.inputmask",function(){var a=this;setTimeout(function(){u(a,0,p(c().lastValidPosition))},0)}).bind(ha+".inputmask dragdrop.inputmask drop.inputmask",function(a){if(!0===T)return T=!1,!0;var c=this,d=b(c);if("propertychange"==a.type&&c._valueGet().length<=
l())return!0;setTimeout(function(){y(c,!0,!1,void 0,!0);!0===U(g())&&d.trigger("complete");d.click()},0)}).bind("setvalue.inputmask",function(){y(this,!0);P=g().join("");this._valueGet()==m().join("")&&this._valueSet("")}).bind("_keypress.inputmask",ca).bind("complete.inputmask",a.oncomplete).bind("incomplete.inputmask",a.onincomplete).bind("cleared.inputmask",a.oncleared).bind("keyup.inputmask",S);ea?s.bind("input.inputmask",function(a){if(!0===T)return T=!1,!0;a=b(this);da=g().join("");y(this,!1,
!1);M(this,g());!0===U(g())&&a.trigger("complete");a.click()}):s.bind("keydown.inputmask",ba).bind("keypress.inputmask",ca);y(q,!0,!1);P=g().join("");var Z;try{Z=document.activeElement}catch(X){}Z===q?(s.addClass("focus.inputmask"),u(q,p(c().lastValidPosition))):a.clearMaskOnLostFocus?g().join("")==m().join("")?q._valueSet(""):Q(q):M(q,g());v(q)}};return this}var a=b.extend(!0,{},b.inputmask.defaults,y),t=null!==navigator.userAgent.match(/msie 10/i),ga=null!==navigator.userAgent.match(/iphone/i),
fa=null!==navigator.userAgent.match(/android.*safari.*/i),ea=null!==navigator.userAgent.match(/android.*chrome.*/i),ha=J("paste")&&!t?"paste":J("input")?"input":"propertychange",e,B=0;if("string"===typeof v)switch(v){case "mask":C(a.alias,y);e=Q();if(0==e.length)break;return this.each(function(){H(b.extend(!0,{},e),0).mask(this)});case "unmaskedvalue":return t=b(this),t.data("_inputmask")?(e=t.data("_inputmask").masksets,B=t.data("_inputmask").activeMasksetIndex,a=t.data("_inputmask").opts,H(e,B).unmaskedvalue(t)):
t.val();case "remove":return this.each(function(){var f=b(this);if(f.data("_inputmask")){e=f.data("_inputmask").masksets;B=f.data("_inputmask").activeMasksetIndex;a=f.data("_inputmask").opts;this._valueSet(H(e,B).unmaskedvalue(f,!0));f.removeData("_inputmask");f.unbind(".inputmask");f.removeClass("focus.inputmask");var h;Object.getOwnPropertyDescriptor&&(h=Object.getOwnPropertyDescriptor(this,"value"));h&&h.get?this._valueGet&&Object.defineProperty(this,"value",{get:this._valueGet,set:this._valueSet}):
document.__lookupGetter__&&this.__lookupGetter__("value")&&this._valueGet&&(this.__defineGetter__("value",this._valueGet),this.__defineSetter__("value",this._valueSet));try{delete this._valueGet,delete this._valueSet}catch(c){this._valueSet=this._valueGet=void 0}}});case "getemptymask":return this.data("_inputmask")?(e=this.data("_inputmask").masksets,B=this.data("_inputmask").activeMasksetIndex,e[B]._buffer.join("")):"";case "hasMaskedValue":return this.data("_inputmask")?!this.data("_inputmask").opts.autoUnmask:
!1;case "isComplete":return e=this.data("_inputmask").masksets,B=this.data("_inputmask").activeMasksetIndex,a=this.data("_inputmask").opts,H(e,B).isComplete(this[0]._valueGet().split(""));case "getmetadata":if(this.data("_inputmask"))return e=this.data("_inputmask").masksets,B=this.data("_inputmask").activeMasksetIndex,e[B].metadata;return;default:C(v,y)||(a.mask=v);e=Q();if(0==e.length)break;return this.each(function(){H(b.extend(!0,{},e),B).mask(this)})}else{if("object"==typeof v)return a=b.extend(!0,
{},b.inputmask.defaults,v),C(a.alias,v),e=Q(),0==e.length?this:this.each(function(){H(b.extend(!0,{},e),B).mask(this)});if(void 0==v)return this.each(function(){var e=b(this).attr("data-inputmask");if(e&&""!=e)try{var e=e.replace(RegExp("'","g"),'"'),h=b.parseJSON("{"+e+"}");b.extend(!0,h,y);a=b.extend(!0,{},b.inputmask.defaults,h);C(a.alias,h);a.alias=void 0;b(this).inputmask(a)}catch(c){}})}return this})})(jQuery);
