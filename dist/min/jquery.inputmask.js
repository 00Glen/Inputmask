/*
 Input Mask plugin for jquery
 http://github.com/RobinHerbots/jquery.inputmask
 Copyright (c) 2010 - 2013 Robin Herbots
 Licensed under the MIT license (http://www.opensource.org/licenses/mit-license.php)
 Version: 2.2.52
*/
(function(c){void 0==c.fn.inputmask&&(c.inputmask={defaults:{placeholder:"_",optionalmarker:{start:"[",end:"]"},escapeChar:"\\",mask:null,oncomplete:c.noop,onincomplete:c.noop,oncleared:c.noop,repeat:0,greedy:!0,autoUnmask:!1,clearMaskOnLostFocus:!0,insertMode:!0,clearIncomplete:!1,aliases:{},onKeyUp:c.noop,onKeyDown:c.noop,showMaskOnFocus:!0,showMaskOnHover:!0,onKeyValidation:c.noop,skipOptionalPartCharacter:" ",showTooltip:!1,numericInput:!1,radixPoint:"",skipRadixDance:!1,rightAlignNumerics:!0,
definitions:{9:{validator:"[0-9]",cardinality:1},a:{validator:"[A-Za-z\u0410-\u044f\u0401\u0451]",cardinality:1},"*":{validator:"[A-Za-z\u0410-\u044f\u0401\u04510-9]",cardinality:1}},keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,
RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91},ignorables:[9,13,19,27,33,34,35,36,37,38,39,40,45,46,93,112,113,114,115,116,117,118,119,120,121,122,123],getMaskLength:function(c,u,B){var I=c.length;!u&&1<B&&(I+=c.length*(B-1));return I}},val:c.fn.val,escapeRegex:function(c){return c.replace(RegExp("(\\/|\\.|\\*|\\+|\\?|\\||\\(|\\)|\\[|\\]|\\{|\\}|\\\\)","gim"),"\\$1")}},c.fn.inputmask=function(L,u){function B(d,e){var a=b.aliases[d];return a?(a.alias&&B(a.alias),c.extend(!0,b,a),c.extend(!0,b,
e),!0):!1}function I(d){var e=!1,a=0,f=b.greedy,g=b.repeat;1==d.length&&!1==f&&(b.placeholder="");for(var d=c.map(d.split(""),function(c){var g=[];if(c==b.escapeChar)e=true;else if(c!=b.optionalmarker.start&&c!=b.optionalmarker.end||e){var k=b.definitions[c];if(k&&!e)for(c=0;c<k.cardinality;c++)g.push(D(a+c));else{g.push(c);e=false}a=a+g.length;return g}}),k=d.slice(),l=1;l<g&&f;l++)k=k.concat(d.slice());return{mask:k,repeat:g,greedy:f}}function M(d){var e=!1,a=!1,f=!1;return c.map(d.split(""),function(c){var k=
[];if(c==b.escapeChar)a=!0;else if(c==b.optionalmarker.start&&!a)f=e=!0;else if(c==b.optionalmarker.end&&!a)e=!1,f=!0;else{var d=b.definitions[c];if(d&&!a){for(var q=d.prevalidator,o=q?q.length:0,r=1;r<d.cardinality;r++){var m=o>=r?q[r-1]:[],p=m.validator,m=m.cardinality;k.push({fn:p?"string"==typeof p?RegExp(p):new function(){this.test=p}:/./,cardinality:m?m:1,optionality:e,newBlockMarker:!0==e?f:!1,offset:0,casing:d.casing,def:d.definitionSymbol|c});!0==e&&(f=!1)}k.push({fn:d.validator?"string"==
typeof d.validator?RegExp(d.validator):new function(){this.test=d.validator}:/./,cardinality:d.cardinality,optionality:e,newBlockMarker:f,offset:0,casing:d.casing,def:d.definitionSymbol|c})}else k.push({fn:null,cardinality:0,optionality:e,newBlockMarker:f,offset:0,casing:null,def:c}),a=!1;f=!1;return k}})}function C(){function d(a){var c=a.length;for(i=0;i<c&&a.charAt(i)!=b.optionalmarker.start;i++);var e=[a.substring(0,i)];i<c&&e.push(a.substring(i+1,c));return e}function e(g,k){var l=0,q=0,o=k.length;
for(i=0;i<o&&!(k.charAt(i)==b.optionalmarker.start&&l++,k.charAt(i)==b.optionalmarker.end&&q++,0<l&&l==q);i++);l=[k.substring(0,i)];i<o&&l.push(k.substring(i+1,o));var r=d(l[0]);if(1<r.length){if(o=g+r[0]+(b.optionalmarker.start+r[1]+b.optionalmarker.end)+(1<l.length?l[1]:""),-1==c.inArray(o,f)&&(f.push(o),q=I(o),a.push({mask:o,_buffer:q.mask,buffer:q.mask.slice(),tests:M(o),lastValidPosition:void 0,greedy:q.greedy,repeat:q.repeat})),o=g+r[0]+(1<l.length?l[1]:""),-1==c.inArray(o,f)&&(f.push(o),q=
I(o),a.push({mask:o,_buffer:q.mask,buffer:q.mask.slice(),tests:M(o),lastValidPosition:void 0,greedy:q.greedy,repeat:q.repeat})),1<d(r[1]).length&&e(g+r[0],r[1]+l[1]),1<l.length&&1<d(l[1]).length)e(g+r[0]+(b.optionalmarker.start+r[1]+b.optionalmarker.end),l[1]),e(g+r[0],l[1])}else o=g+l,-1==c.inArray(o,f)&&(f.push(o),q=I(o),a.push({mask:o,_buffer:q.mask,buffer:q.mask.slice(),tests:M(o),lastValidPosition:void 0,greedy:q.greedy,repeat:q.repeat}))}var a=[],f=[];c.isArray(b.mask)?c.each(b.mask,function(a,
b){e("",b.toString())}):e("",b.mask.toString());return a}function D(c){return b.placeholder.charAt(c%b.placeholder.length)}function J(d,e){function a(){return d[e]}function f(){return a().tests}function g(){return a()._buffer}function k(){return a().buffer}function l(j,K,w,g){function z(a,c){for(var j=r(a),e=K?1:0,d="",k=c.buffer,g=c.tests[j].cardinality;g>e;g--)d+=y(k,j-(g-1));K&&(d+=K);return null!=c.tests[j].fn?c.tests[j].fn.test(d,k,a,w,b):!1}if(w=!0===w){var f=z(j,a());!0===f&&(f={pos:j});return f}var l=
[],f=!1,q=e;c.each(d,function(a){e=a;if(q!=e&&!o(j)){if(K==this._buffer[j]||K==b.skipOptionalPartCharacter)return l.push({activeMasksetIndex:a,result:{refresh:!0,c:this._buffer[j]}}),this.lastValidPosition=j,!1;this.lastValidPosition=g?m()+1:-1}if((void 0==this.lastValidPosition&&j==(g?F(m()):p(-1))||g||b.numericInput?this.lastValidPosition<=b.numericInput?m():p(j):this.lastValidPosition>=F(j))&&0<=j&&j<m()){f=z(j,this);if(!1!==f){!0===f&&(f={pos:j});var c=f.pos||j;if(void 0==this.lastValidPosition||
(g?b.greedy?this.lastValidPosition>c:c==k().length-1:this.lastValidPosition<c))this.lastValidPosition=c}l.push({activeMasksetIndex:a,result:f})}});e=q;return l}function q(j){var K=e,w={activeMasksetIndex:0,lastValidPosition:j?m()+1:-1};c.each(d,function(a){if(void 0!=this.lastValidPosition&&(j||b.numericInput?this.lastValidPosition<w.lastValidPosition:this.lastValidPosition>w.lastValidPosition))w.activeMasksetIndex=a,w.lastValidPosition=this.lastValidPosition});e=w.activeMasksetIndex;K!=e&&(j?I(k(),
0,F(w.lastValidPosition)):I(k(),p(w.lastValidPosition),m()),a().writeOutBuffer=!0)}function o(a){a=r(a);a=f()[a];return void 0!=a?a.fn:!1}function r(a){return a%f().length}function m(){return b.getMaskLength(g(),a().greedy,a().repeat,k(),b)}function p(a){var b=m();if(a>=b)return b;for(;++a<b&&!o(a););return a}function F(a){if(0>=a)return 0;for(;0<--a&&!o(a););return a}function t(a,b,c,e,d){e&&(b=L(a,b,d));e=f()[r(b)];d=c;if(void 0!=d)switch(e.casing){case "upper":d=c.toUpperCase();break;case "lower":d=
c.toLowerCase()}a[b]=d}function y(a,b,c){c&&(b=L(a,b));return a[b]}function L(a,b,c){if(c)for(;0>b&&a.length<m();){c=g().length-1;for(b=g().length;void 0!==g()[c];)a.unshift(g()[c--])}else for(;void 0==a[b]&&a.length<m();)for(c=0;void 0!==g()[c];)a.push(g()[c++]);return b}function B(a,b,c){a._valueSet(b.join(""));void 0!=c&&A(a,c)}function I(a,b,c){for(var e=m();b<c&&b<e;b++)t(a,b,y(g().slice(),b,!0))}function E(a,b){var c=r(b);t(a,b,y(g(),c))}function P(j,k,w,f){var z=c(j).data("_inputmask").isRTL,
f=void 0!=f?f.slice():J(j._valueGet(),z).split("");c.each(d,function(a,b){b.buffer=b._buffer.slice();b.lastValidPosition=void 0;b.p=z?m():0});!0!==w&&(e=0);z&&!b.numericInput&&(f=f.reverse());var l=m();c.each(f,function(a,e){var d=z?b.numericInput?l:l-a:a;(o(z?d-1:d)||!0!==w&&e!=y(g(),z?d-1:d,!0))&&c(j).trigger("keypress",[!0,e.charCodeAt(0),k,w,d])});!0===w&&(a().lastValidPosition=z?p(a().p):F(a().p))}function u(a){return c.inputmask.escapeRegex.call(this,a)}function J(a,b){return b?a.replace(RegExp("^("+
u(g().join(""))+")*"),""):a.replace(RegExp("("+u(g().join(""))+")*$"),"")}function M(a){var b=k(),e=b.slice(),d,g;if(c(a).data("_inputmask").isRTL)for(g=0;g<=e.length-1;g++)if(d=r(g),f()[d].optionality)if(!o(g)||!l(g,b[g],!0))e.splice(0,1);else break;else break;else for(g=e.length-1;0<=g;g--)if(d=r(g),f()[d].optionality)if(!o(g)||!l(g,b[g],!0))e.pop();else break;else break;B(a,e)}function C(a,b){var e=a[0];return f()&&(!0===b||!a.hasClass("hasDatepicker"))?(P(e,!1,!0),c.map(k(),function(a,b){return o(b)&&
l(b,a,!0)?a:null}).join("")):e._valueGet()}function A(a,e,d){var g=a.jquery&&0<a.length?a[0]:a;if("number"==typeof e)c(a).is(":visible")&&(d="number"==typeof d?d:e,!1==b.insertMode&&e==d&&d++,g.setSelectionRange?(g.selectionStart=e,g.selectionEnd=R?e:d):g.createTextRange&&(a=g.createTextRange(),a.collapse(!0),a.moveEnd("character",d),a.moveStart("character",e),a.select()));else{if(!c(a).is(":visible"))return{begin:0,end:0};g.setSelectionRange?(e=g.selectionStart,d=g.selectionEnd):document.selection&&
document.selection.createRange&&(a=document.selection.createRange(),e=0-a.duplicate().moveStart("character",-1E5),d=e+a.text.length);return{begin:e,end:d}}}function Q(a){var b=!1,k=0,f=e;c.each(d,function(c,d){e=c;var f=F(m());if(void 0!=d.lastValidPosition&&d.lastValidPosition>=k&&d.lastValidPosition==f){for(var l=!0,p=0;p<=f;p++){var q=o(p),t=r(p);if(q&&(void 0==a[p]||a[p]==D(p))||!q&&a[p]!=g()[t]){l=!1;break}}if(b=b||l)return!1}k=d.lastValidPosition});e=f;return b}this.unmaskedvalue=function(a,
b){return C(a,b)};this.isComplete=function(a){return Q(a)};this.mask=function(j){function u(a){a=c._data(a).events;c.each(a,function(a,b){c.each(b,function(a,b){if("inputmask"==b.namespace){var c=b.handler;b.handler=function(a){if(this.readOnly||this.disabled)a.preventDefault;else return c.apply(this,arguments)}}})})}function w(a){var b;Object.getOwnPropertyDescriptor&&(b=Object.getOwnPropertyDescriptor(a,"value"));if(b&&b.get)a._valueGet||(a._valueGet=b.get,a._valueSet=b.set,Object.defineProperty(a,
"value",{get:function(){var a=c(this),b=c(this).data("_inputmask"),e=b.masksets,d=b.activeMasksetIndex;return b&&b.opts.autoUnmask?a.inputmask("unmaskedvalue"):this._valueGet()!=e[d]._buffer.join("")?this._valueGet():""},set:function(a){this._valueSet(a);c(this).triggerHandler("setvalue.inputmask")}}));else if(document.__lookupGetter__&&a.__lookupGetter__("value"))a._valueGet||(a._valueGet=a.__lookupGetter__("value"),a._valueSet=a.__lookupSetter__("value"),a.__defineGetter__("value",function(){var a=
c(this),b=c(this).data("_inputmask"),e=b.masksets,d=b.activeMasksetIndex;return b&&b.opts.autoUnmask?a.inputmask("unmaskedvalue"):this._valueGet()!=e[d]._buffer.join("")?this._valueGet():""}),a.__defineSetter__("value",function(a){this._valueSet(a);c(this).triggerHandler("setvalue.inputmask")}));else if(a._valueGet||(a._valueGet=function(){return this.value},a._valueSet=function(a){this.value=a}),!0!=c.fn.val.inputmaskpatch)c.fn.val=function(){if(arguments.length==0){var a=c(this);if(a.data("_inputmask")){if(a.data("_inputmask").opts.autoUnmask)return a.inputmask("unmaskedvalue");
var a=c.inputmask.val.apply(a),b=c(this).data("_inputmask");return a!=b.masksets[b.activeMasksetIndex]._buffer.join("")?a:""}return c.inputmask.val.apply(a)}var e=arguments;return this.each(function(){var a=c(this),b=c.inputmask.val.apply(a,e);a.data("_inputmask")&&a.triggerHandler("setvalue.inputmask");return b})},c.extend(c.fn.val,{inputmaskpatch:!0})}function C(a,c){if(b.numericInput&&""!=b.radixPoint&&!1===b.skipRadixDance){var e=a._valueGet().indexOf(b.radixPoint);n=c.begin<=e||c.end<=e||-1==
e}}function z(b,c,e){for(var d=k();!o(b)&&0<=b-1;)b--;for(var h=b;h<c&&h<m();h++)if(o(h)){E(d,h);var j=p(h),q=y(d,j);if(q!=D(j))if(j<m()&&!1!==l(h,q,!0,n)&&f()[r(h)].def==f()[r(j)].def)t(d,h,y(d,j),!0,n),j<c&&E(d,j);else if(o(h))break}else E(d,h);void 0!=e&&t(d,n?c:F(c),e);if(!1==a().greedy){c=J(d.join(""),n).split("");d.length=c.length;h=0;for(e=d.length;h<e;h++)d[h]=c[h];0==d.length&&(a().buffer=g().slice())}return b}function O(b,c,e,d){for(var h=k();b<=c&&b<m();b++)if(o(b)){var j=y(h,b);t(h,b,
e,!0,n);if(j!=D(b))if(e=p(b),e<m())if(!1!==l(e,j,!0,n)&&f()[r(b)].def==f()[r(e)].def)e=j;else if(o(e))break;else e=j;else break;else if(e=j,!0!==d)break}else E(h,b);d=h.length;if(!1==a().greedy){e=J(h.join(""),n).split("");h.length=e.length;b=0;for(j=h.length;b<j;b++)h[b]=e[b];0==h.length&&(a().buffer=g().slice())}return c-(d-h.length)}function R(j){S=!1;var f=this,G=j.keyCode,s=A(f);C(f,s);if(G==b.keyCode.BACKSPACE||G==b.keyCode.DELETE||Y&&127==G||j.ctrlKey&&88==G){j.preventDefault();var h=s.begin;
if(0==s.begin&&s.end==m())I(k(),s.begin,s.end),c.each(d,function(a,b){b.buffer=b._buffer.slice();b.lastValidPosition=void 0;b.p=n?m():0});else if(1<s.end-s.begin||1==s.end-s.begin&&b.insertMode){I(k(),s.begin,s.end);var l=m();if(!1==b.greedy)n?O(0,s.end-1,D(s.end),!0):z(s.begin,l);else for(var r=s.begin;r<s.end;r++)o(r)&&(n?O(0,s.end-1,D(s.end),!0):z(s.begin,l));P(f,!1,!0,k())}else c.each(d,function(c){e=c;h=V?s.end:s.begin;var c=k(),d=n?F(m()+1):p(-1),f=m();if(G==b.keyCode.DELETE){if(n?h>d:h<d)h=
d;if(h<f&&(b.numericInput&&""!=b.radixPoint&&c[h]==b.radixPoint?(h=c.length-1==h?h:p(h),h=z(h,f)):n?(h=O(0,h,D(h),!0),h=p(h)):h=z(h,f),void 0!=a().lastValidPosition))-1!=a().lastValidPosition&&k()[a().lastValidPosition]==g()[a().lastValidPosition]&&(a().lastValidPosition=n?p(a().lastValidPosition):0==a().lastValidPosition?-1:F(a().lastValidPosition)),(n?a().lastValidPosition>d:a().lastValidPosition<d)?(a().lastValidPosition=void 0,a().p=d):(a().writeOutBuffer=!0,a().p=h)}else if(G==b.keyCode.BACKSPACE)if(n?
h<=d:h>d){if(h-=1,b.numericInput&&""!=b.radixPoint&&c[h]==b.radixPoint?(h=O(0,c.length-1==h?h:h-1,D(h),!0),h++):n?(h=O(0,h,D(h),!0),h=c[h+1]==b.radixPoint?h+1:p(h)):h=z(h,f),void 0!=a().lastValidPosition)-1!=a().lastValidPosition&&k()[a().lastValidPosition]==g()[a().lastValidPosition]&&(a().lastValidPosition=n?p(a().lastValidPosition):0==a().lastValidPosition?-1:F(a().lastValidPosition)),(n?a().lastValidPosition>d:a().lastValidPosition<d)?(a().lastValidPosition=void 0,a().p=d):(a().writeOutBuffer=
!0,a().p=h)}else 0<e&&(a().lastValidPosition=void 0,a().writeOutBuffer=!0,a().p=d,e=0,a().buffer=g().slice(),a().p=n?F(m()+1):p(-1),a().lastValidPosition=void 0)});q(n);B(f,k(),a().p);f._valueGet()==g().join("")&&c(f).trigger("cleared");b.showTooltip&&x.prop("title",a().mask)}else G==b.keyCode.END||G==b.keyCode.PAGE_DOWN?setTimeout(function(){var c=n?a().lastValidPosition:p(a().lastValidPosition);!b.insertMode&&(c==m()&&!j.shiftKey)&&c--;A(f,j.shiftKey?s.begin:c,c)},0):G==b.keyCode.HOME&&!j.shiftKey||
G==b.keyCode.PAGE_UP?A(f,0,j.shiftKey?s.begin:0):G==b.keyCode.ESCAPE?(f._valueSet(a().undoBuffer),P(f,!0,!0)):G==b.keyCode.INSERT&&!j.shiftKey&&!j.ctrlKey?(b.insertMode=!b.insertMode,A(f,!b.insertMode&&s.begin==m()?s.begin-1:s.begin)):!1==b.insertMode&&!j.shiftKey&&(G==b.keyCode.RIGHT?setTimeout(function(){var a=A(f);A(f,a.begin)},0):G==b.keyCode.LEFT&&setTimeout(function(){var a=A(f);A(f,a.begin-1)},0));b.onKeyDown.call(this,j,k(),b);T=-1!=c.inArray(G,b.ignorables)}function X(d,g,f,j,h,r){function w(c,
d){var e=d<m()?d:m();I(k(),c,e);var f=m();if(!1==b.greedy)n?O(0,e-1,D(e),!0):z(c,f);else for(var h=c;h<e;h++)o(h)&&(n?O(0,e-1,D(e-1),!0):z(c,f));a().lastValidPosition>c&&a().lastValidPosition<e?a().lastValidPosition=n?e:c:(P(x,!1,!0,k()),b.insertMode||(n?z(0,e):O(c,f,D(c),!0),a().lastValidPosition=n?F(a().lastValidPosition):p(a().lastValidPosition)))}if(void 0==f&&S)return!1;S=!0;var x=this,E=c(x),d=d||window.event,f=f||d.which||d.charCode||d.keyCode,u=String.fromCharCode(f);if(b.numericInput&&u==
b.radixPoint&&!0!==g){var J=x._valueGet().indexOf(b.radixPoint);A(x,p(-1!=J?J:m()))}if((d.ctrlKey||d.metaKey||T)&&!0!==g)return!0;if(f){var H,C;g?(f=h?r:b.numericInput?p(a().p):a().p,H={begin:f,end:f}):H=A(x);var N=1<H.end-H.begin||1==H.end-H.begin&&b.insertMode;if(n){var v=F(H.end),f=l(v,u,h,n);!0===h&&(f=[{activeMasksetIndex:e,result:f}]);c.each(f,function(c,d){e=d.activeMasksetIndex;a().writeOutBuffer=true;var f=d.result;if(f!==false){N&&w(H.begin,H.end);var h=false,g=k();if(f!==true){h=f.refresh;
v=f.pos!=void 0?f.pos:v;u=f.c!=void 0?f.c:u}if(h!==true){var h=m(),j=p(-1),f=j;if(b.insertMode==true){if(a().greedy==true)for(var s=g.slice();y(s,f,true)!=D(f)&&f<=v;)f=f==h?h+1:p(f);if(f<=v&&(a().greedy||g.length<h||y(g,v)==D(v))){if(g[j]!=D(j)&&g.length<h){g=L(g,-1,n);if((w?H.begin:H.end)!=0)v=v+g}z(f,v,u)}else a().writeOutBuffer=false}else t(g,v,u,true,n)}a().p=v}});!0!==h&&q(n);if(!1!==j&&(c.each(f,function(a,b){if(b.activeMasksetIndex==e){C=b;return false}}),void 0!=C)){var M=this;setTimeout(function(){b.onKeyValidation.call(M,
C.result,b)},0);if(a().writeOutBuffer&&!1!==C.result){var K=k();B(x,K,g?void 0:b.numericInput?p(a().p):a().p);setTimeout(function(){Q(K)&&E.trigger("complete")},0)}else a().buffer=a().undoBuffer.split("")}}else v=p(H.begin-1),f=l(v,u,h,n),!0===h&&(f=[{activeMasksetIndex:e,result:f}]),c.each(f,function(c,d){e=d.activeMasksetIndex;a().writeOutBuffer=true;var f=d.result;if(f!==false){N&&w(H.begin,H.end);var h=false,g=k();if(f!==true){h=f.refresh;v=f.pos!=void 0?f.pos:v;u=f.c!=void 0?f.c:u}if(h!==true)if(b.insertMode==
true){f=m();for(h=g.slice();y(h,f,true)!=D(f)&&f>=v;)f=f==0?-1:F(f);f>=v?O(v,g.length,u):a().writeOutBuffer=false}else t(g,v,u,true,n);a().p=p(v)}}),!0!==h&&q(n),!1!==j&&(c.each(f,function(a,b){if(b.activeMasksetIndex==e){C=b;return false}}),void 0!=C&&(M=this,setTimeout(function(){b.onKeyValidation.call(M,C.result,b)},0),a().writeOutBuffer&&!1!==C.result?(v=a().p,K=k(),B(x,K,g?void 0:v),setTimeout(function(){Q(K)&&E.trigger("complete")},0)):a().buffer=a().undoBuffer.split("")));b.showTooltip&&E.prop("title",
a().mask);d.preventDefault()}}function W(d){var e=c(this),f=d.keyCode,j=k();b.onKeyUp.call(this,d,j,b);f==b.keyCode.TAB&&(e.hasClass("focus.inputmask")&&0==this._valueGet().length&&b.showMaskOnFocus)&&(j=g().slice(),B(this,j),n||A(this,0),a().undoBuffer=this._valueGet())}var x=c(j);if(x.is(":input")){x.data("_inputmask",{masksets:d,activeMasksetIndex:e,opts:b,isRTL:!1});b.showTooltip&&x.prop("title",a().mask);a().greedy=a().greedy?a().greedy:0==a().repeat;var N=x.prop("maxLength");m()>N&&-1<N&&(N<
g().length&&(g().length=N),!1==a().greedy&&(a().repeat=Math.round(N/g().length)),x.prop("maxLength",2*m()));w(j);a().undoBuffer=j._valueGet();var S=!1,T=!1,n=!1;if("rtl"==j.dir||b.numericInput)("rtl"==j.dir||b.numericInput&&b.rightAlignNumerics)&&x.css("text-align","right"),j.dir="ltr",x.removeAttr("dir"),N=x.data("_inputmask"),N.isRTL=!0,x.data("_inputmask",N),n=!0;x.unbind(".inputmask");x.removeClass("focus.inputmask");x.bind("mouseenter.inputmask",function(){!c(this).hasClass("focus.inputmask")&&
b.showMaskOnHover&&this._valueGet()!=k().join("")&&B(this,k())}).bind("blur.inputmask",function(){var f=c(this),j=this._valueGet(),l=k();f.removeClass("focus.inputmask");j!=a().undoBuffer&&f.change();b.clearMaskOnLostFocus&&j!=""&&(j==g().join("")?this._valueSet(""):M(this));if(!Q(l)){f.trigger("incomplete");if(b.clearIncomplete){c.each(d,function(a,b){b.buffer=b._buffer.slice();b.lastValidPosition=void 0;b.p=n?m():0});e=0;if(b.clearMaskOnLostFocus)this._valueSet("");else{l=g().slice();B(this,l)}}}}).bind("focus.inputmask",
function(){var d=c(this),e=this._valueGet();b.showMaskOnFocus&&!d.hasClass("focus.inputmask")&&(!b.showMaskOnHover||b.showMaskOnHover&&e=="")&&this._valueGet()!=k().join("")&&B(this,k(),a().p);d.addClass("focus.inputmask");a().undoBuffer=this._valueGet()}).bind("mouseleave.inputmask",function(){var a=c(this);b.clearMaskOnLostFocus&&(a.hasClass("focus.inputmask")||(this._valueGet()==g().join("")||this._valueGet()==""?this._valueSet(""):M(this)))}).bind("click.inputmask",function(){var d=this;setTimeout(function(){var e=
A(d),f=k();if(e.begin==e.end){var g=e.begin,h=a().lastValidPosition;C(d,e);if(n){e=b.numericInput?b.skipRadixDance===false&&b.radixPoint!=""&&c.inArray(b.radixPoint,f)!=-1?c.inArray(b.radixPoint,f):m():F((h==void 0?m():h)+1);A(d,g>e&&(l(g,f[g],true,n)!==false||!o(g))?g:e)}else{e=p(h==void 0?-1:h);A(d,g<e&&(l(g,f[g],true,n)!==false||!o(g))?g:e)}}},0)}).bind("dblclick.inputmask",function(){var b=this;a().lastValidPosition!=void 0&&setTimeout(function(){n?A(b,F(a().lastValidPosition),m()):A(b,0,p(a().lastValidPosition))},
0)}).bind("keydown.inputmask",R).bind("keypress.inputmask",X).bind("keyup.inputmask",W).bind(Z+".inputmask dragdrop.inputmask drop.inputmask",function(){var a=this,b=c(a);setTimeout(function(){P(a,true,false);Q(k())&&b.trigger("complete");b.click()},0)}).bind("setvalue.inputmask",function(){a().undoBuffer=this._valueGet();P(this,true);this._valueGet()==g().join("")&&this._valueSet("")}).bind("complete.inputmask",b.oncomplete).bind("incomplete.inputmask",b.onincomplete).bind("cleared.inputmask",b.oncleared);
P(j,!0,!1);var U;try{U=document.activeElement}catch($){}U===j?(x.addClass("focus.inputmask"),A(j,a().p)):b.clearMaskOnLostFocus&&(k().join("")==g().join("")?j._valueSet(""):M(j));u(j)}};return this}var b=c.extend(!0,{},c.inputmask.defaults,u),E=null!==navigator.userAgent.match(/msie 10/i),Y=null!==navigator.userAgent.match(/iphone/i),R=null!==navigator.userAgent.match(/android.*safari.*/i),Z=function(b){var c=document.createElement("input"),b="on"+b,a=b in c;a||(c.setAttribute(b,"return;"),a="function"==
typeof c[b]);return a}("paste")&&!E?"paste":"input",V,t,y=0;R&&(E=navigator.userAgent.match(/safari.*/i),V=537>=parseInt(RegExp(/[0-9]+/).exec(E)));if("string"===typeof L)switch(L){case "mask":return B(b.alias,u),t=C(),this.each(function(){J(c.extend(true,{},t),0).mask(this)});case "unmaskedvalue":return E=c(this),t=E.data("_inputmask").masksets,y=E.data("_inputmask").activeMasksetIndex,b=E.data("_inputmask").opts,J(t,y).unmaskedvalue(this);case "remove":return this.each(function(){var d=c(this),
e=this;setTimeout(function(){if(d.data("_inputmask")){t=d.data("_inputmask").masksets;y=d.data("_inputmask").activeMasksetIndex;b=d.data("_inputmask").opts;e._valueSet(J(t,y).unmaskedvalue(d,true));d.removedata("_inputmask");d.unbind(".inputmask");d.removeClass("focus.inputmask");var a;Object.getOwnPropertyDescriptor&&(a=Object.getOwnPropertyDescriptor(e,"value"));if(a&&a.get)e._valueGet&&Object.defineProperty(e,"value",{get:e._valueGet,set:e._valueSet});else if(document.__lookupGetter__&&e.__lookupGetter__("value")&&
e._valueGet){e.__defineGetter__("value",e._valueGet);e.__defineSetter__("value",e._valueSet)}delete e._valueGet;delete e._valueSet}},0)});case "getemptymask":return this.data("_inputmask")?(t=this.data("_inputmask").masksets,y=this.data("_inputmask").activeMasksetIndex,t[y]._buffer.join("")):"";case "hasMaskedValue":return this.data("_inputmask")?!this.data("_inputmask").opts.autoUnmask:!1;case "isComplete":return t=this.data("_inputmask").masksets,y=this.data("_inputmask").activeMasksetIndex,b=this.data("_inputmask").opts,
J(t,y).isComplete(this[0]._valueGet().split(""));default:return B(L,u)||(b.mask=L),t=C(),this.each(function(){J(c.extend(true,{},t),y).mask(this)})}else{if("object"==typeof L)return b=c.extend(!0,{},c.inputmask.defaults,L),B(b.alias,L),t=C(),this.each(function(){J(c.extend(true,{},t),y).mask(this)});if(void 0==L)return this.each(function(){var d=c(this).attr("data-inputmask");if(d&&d!="")try{var d=d.replace(RegExp("'","g"),'"'),e=c.parseJSON("{"+d+"}");c.extend(true,e,u);b=c.extend(true,{},c.inputmask.defaults,
e);B(b.alias,e);b.alias=void 0;c(this).inputmask(b)}catch(a){}})}return this})})(jQuery);
