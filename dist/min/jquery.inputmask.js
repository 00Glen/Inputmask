/*
 Input Mask plugin for jquery
 http://github.com/RobinHerbots/jquery.inputmask
 Copyright (c) 2010 - 2013 Robin Herbots
 Licensed under the MIT license (http://www.opensource.org/licenses/mit-license.php)
 Version: 2.2.53
*/
(function(b){void 0==b.fn.inputmask&&(b.inputmask={defaults:{placeholder:"_",optionalmarker:{start:"[",end:"]"},escapeChar:"\\",mask:null,oncomplete:b.noop,onincomplete:b.noop,oncleared:b.noop,repeat:0,greedy:!0,autoUnmask:!1,clearMaskOnLostFocus:!0,insertMode:!0,clearIncomplete:!1,aliases:{},onKeyUp:b.noop,onKeyDown:b.noop,showMaskOnFocus:!0,showMaskOnHover:!0,onKeyValidation:b.noop,skipOptionalPartCharacter:" ",showTooltip:!1,numericInput:!1,radixPoint:"",skipRadixDance:!1,rightAlignNumerics:!0,
definitions:{9:{validator:"[0-9]",cardinality:1},a:{validator:"[A-Za-z\u0410-\u044f\u0401\u0451]",cardinality:1},"*":{validator:"[A-Za-z\u0410-\u044f\u0401\u04510-9]",cardinality:1}},keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,
RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91},ignorables:[9,13,19,27,33,34,35,36,37,38,39,40,45,46,93,112,113,114,115,116,117,118,119,120,121,122,123],getMaskLength:function(b,B,C){var H=b.length;!B&&1<C&&(H+=b.length*(C-1));return H}},val:b.fn.val,escapeRegex:function(b){return b.replace(RegExp("(\\/|\\.|\\*|\\+|\\?|\\||\\(|\\)|\\[|\\]|\\{|\\}|\\\\)","gim"),"\\$1")}},b.fn.inputmask=function(I,B){function C(d,e){var a=c.aliases[d];return a?(a.alias&&C(a.alias),b.extend(!0,c,a),b.extend(!0,c,
e),!0):!1}function H(d){var e=!1,a=0,j=c.greedy,g=c.repeat;1==d.length&&!1==j&&(c.placeholder="");for(var d=b.map(d.split(""),function(b){var g=[];if(b==c.escapeChar)e=true;else if(b!=c.optionalmarker.start&&b!=c.optionalmarker.end||e){var k=c.definitions[b];if(k&&!e)for(b=0;b<k.cardinality;b++)g.push(D(a+b));else{g.push(b);e=false}a=a+g.length;return g}}),k=d.slice(),l=1;l<g&&j;l++)k=k.concat(d.slice());return{mask:k,repeat:g,greedy:j}}function L(d){var e=!1,a=!1,j=!1;return b.map(d.split(""),function(b){var k=
[];if(b==c.escapeChar)a=!0;else if(b==c.optionalmarker.start&&!a)j=e=!0;else if(b==c.optionalmarker.end&&!a)e=!1,j=!0;else{var d=c.definitions[b];if(d&&!a){for(var q=d.prevalidator,o=q?q.length:0,r=1;r<d.cardinality;r++){var m=o>=r?q[r-1]:[],p=m.validator,m=m.cardinality;k.push({fn:p?"string"==typeof p?RegExp(p):new function(){this.test=p}:/./,cardinality:m?m:1,optionality:e,newBlockMarker:!0==e?j:!1,offset:0,casing:d.casing,def:d.definitionSymbol|b});!0==e&&(j=!1)}k.push({fn:d.validator?"string"==
typeof d.validator?RegExp(d.validator):new function(){this.test=d.validator}:/./,cardinality:d.cardinality,optionality:e,newBlockMarker:j,offset:0,casing:d.casing,def:d.definitionSymbol|b})}else k.push({fn:null,cardinality:0,optionality:e,newBlockMarker:j,offset:0,casing:null,def:b}),a=!1;j=!1;return k}})}function K(){function d(a){var b=a.length;for(i=0;i<b&&a.charAt(i)!=c.optionalmarker.start;i++);var e=[a.substring(0,i)];i<b&&e.push(a.substring(i+1,b));return e}function e(g,k){var l=0,q=0,o=k.length;
for(i=0;i<o&&!(k.charAt(i)==c.optionalmarker.start&&l++,k.charAt(i)==c.optionalmarker.end&&q++,0<l&&l==q);i++);l=[k.substring(0,i)];i<o&&l.push(k.substring(i+1,o));var r=d(l[0]);if(1<r.length){if(o=g+r[0]+(c.optionalmarker.start+r[1]+c.optionalmarker.end)+(1<l.length?l[1]:""),-1==b.inArray(o,j)&&(j.push(o),q=H(o),a.push({mask:o,_buffer:q.mask,buffer:q.mask.slice(),tests:L(o),lastValidPosition:void 0,greedy:q.greedy,repeat:q.repeat})),o=g+r[0]+(1<l.length?l[1]:""),-1==b.inArray(o,j)&&(j.push(o),q=
H(o),a.push({mask:o,_buffer:q.mask,buffer:q.mask.slice(),tests:L(o),lastValidPosition:void 0,greedy:q.greedy,repeat:q.repeat})),1<d(r[1]).length&&e(g+r[0],r[1]+l[1]),1<l.length&&1<d(l[1]).length)e(g+r[0]+(c.optionalmarker.start+r[1]+c.optionalmarker.end),l[1]),e(g+r[0],l[1])}else o=g+l,-1==b.inArray(o,j)&&(j.push(o),q=H(o),a.push({mask:o,_buffer:q.mask,buffer:q.mask.slice(),tests:L(o),lastValidPosition:void 0,greedy:q.greedy,repeat:q.repeat}))}var a=[],j=[];b.isArray(c.mask)?b.each(c.mask,function(a,
c){e("",c.toString())}):e("",c.mask.toString());return a}function D(b){return c.placeholder.charAt(b%c.placeholder.length)}function J(d,e){function a(){return d[e]}function j(){return a().tests}function g(){return a()._buffer}function k(){return a().buffer}function l(f,O,v,g){function y(a,b){for(var f=r(a),e=O?1:0,d="",k=b.buffer,g=b.tests[f].cardinality;g>e;g--)d+=x(k,f-(g-1));O&&(d+=O);return null!=b.tests[f].fn?b.tests[f].fn.test(d,k,a,v,c):!1}if(v=!0===v){var j=y(f,a());!0===j&&(j={pos:f});return j}var l=
[],j=!1,q=e;b.each(d,function(a){e=a;if(q!=e&&!o(f)){if(O==this._buffer[f]||O==c.skipOptionalPartCharacter)return l.push({activeMasksetIndex:a,result:{refresh:!0,c:this._buffer[f]}}),this.lastValidPosition=f,!1;this.lastValidPosition=g?m()+1:-1}if((void 0==this.lastValidPosition&&f==(g?E(m()):p(-1))||g||c.numericInput?this.lastValidPosition<=c.numericInput?m():p(f):this.lastValidPosition>=E(f))&&0<=f&&f<m()){j=y(f,this);if(!1!==j){!0===j&&(j={pos:f});var b=j.pos||f;if(void 0==this.lastValidPosition||
(g?c.greedy?this.lastValidPosition>b:b==k().length-1:this.lastValidPosition<b))this.lastValidPosition=b}l.push({activeMasksetIndex:a,result:j})}});e=q;return l}function q(f){var O=e,v={activeMasksetIndex:0,lastValidPosition:f?m()+1:-1};b.each(d,function(a){if(void 0!=this.lastValidPosition&&(f||c.numericInput?this.lastValidPosition<v.lastValidPosition:this.lastValidPosition>v.lastValidPosition))v.activeMasksetIndex=a,v.lastValidPosition=this.lastValidPosition});e=v.activeMasksetIndex;O!=e&&(f?H(k(),
0,E(v.lastValidPosition)):H(k(),p(v.lastValidPosition),m()),a().writeOutBuffer=!0)}function o(a){a=r(a);a=j()[a];return void 0!=a?a.fn:!1}function r(a){return a%j().length}function m(){return c.getMaskLength(g(),a().greedy,a().repeat,k(),c)}function p(a){var b=m();if(a>=b)return b;for(;++a<b&&!o(a););return a}function E(a){if(0>=a)return 0;for(;0<--a&&!o(a););return a}function u(a,b,c,e,d){e&&(b=I(a,b,d));e=j()[r(b)];d=c;if(void 0!=d)switch(e.casing){case "upper":d=c.toUpperCase();break;case "lower":d=
c.toLowerCase()}a[b]=d}function x(a,b,c){c&&(b=I(a,b));return a[b]}function I(a,b,c){if(c)for(;0>b&&a.length<m();){c=g().length-1;for(b=g().length;void 0!==g()[c];)a.unshift(g()[c--])}else for(;void 0==a[b]&&a.length<m();)for(c=0;void 0!==g()[c];)a.push(g()[c++]);return b}function C(a,b,c){a._valueSet(b.join(""));void 0!=c&&A(a,c)}function H(a,b,c){for(var e=m();b<c&&b<e;b++)u(a,b,x(g().slice(),b,!0))}function G(a,b){var c=r(b);u(a,b,x(g(),c))}function P(f,k,v,j){var y=b(f).data("_inputmask").isRTL,
j=void 0!=j?j.slice():J(f._valueGet(),y).split("");b.each(d,function(a,b){b.buffer=b._buffer.slice();b.lastValidPosition=void 0;b.p=y?m():0});!0!==v&&(e=0);y&&!c.numericInput&&(j=j.reverse());var l=m();b.each(j,function(a,e){var d=y?c.numericInput?l:l-a:a;(o(y?d-1:d)||!0!==v&&e!=x(g(),y?d-1:d,!0))&&b(f).trigger("keypress",[!0,e.charCodeAt(0),k,v,d])});!0===v&&(a().lastValidPosition=y?p(a().p):E(a().p))}function B(a){return b.inputmask.escapeRegex.call(this,a)}function J(a,b){return b?a.replace(RegExp("^("+
B(g().join(""))+")*"),""):a.replace(RegExp("("+B(g().join(""))+")*$"),"")}function L(a){var c=k(),e=c.slice(),d,g;if(b(a).data("_inputmask").isRTL)for(g=0;g<=e.length-1;g++)if(d=r(g),j()[d].optionality)if(!o(g)||!l(g,c[g],!0))e.splice(0,1);else break;else break;else for(g=e.length-1;0<=g;g--)if(d=r(g),j()[d].optionality)if(!o(g)||!l(g,c[g],!0))e.pop();else break;else break;C(a,e)}function K(a,c){var e=a[0];return j()&&(!0===c||!a.hasClass("hasDatepicker"))?(P(e,!1,!0),b.map(k(),function(a,b){return o(b)&&
l(b,a,!0)?a:null}).join("")):e._valueGet()}function A(a,e,d){var g=a.jquery&&0<a.length?a[0]:a;if("number"==typeof e)b(a).is(":visible")&&(d="number"==typeof d?d:e,!1==c.insertMode&&e==d&&d++,g.setSelectionRange?(g.selectionStart=e,g.selectionEnd=Q?e:d):g.createTextRange&&(a=g.createTextRange(),a.collapse(!0),a.moveEnd("character",d),a.moveStart("character",e),a.select()));else{if(!b(a).is(":visible"))return{begin:0,end:0};g.setSelectionRange?(e=g.selectionStart,d=g.selectionEnd):document.selection&&
document.selection.createRange&&(a=document.selection.createRange(),e=0-a.duplicate().moveStart("character",-1E5),d=e+a.text.length);return{begin:e,end:d}}}function R(a){var c=!1,k=0,j=e;b.each(d,function(b,d){e=b;var j=E(m());if(void 0!=d.lastValidPosition&&d.lastValidPosition>=k&&d.lastValidPosition==j){for(var l=!0,p=0;p<=j;p++){var q=o(p),u=r(p);if(q&&(void 0==a[p]||a[p]==D(p))||!q&&a[p]!=g()[u]){l=!1;break}}if(c=c||l)return!1}k=d.lastValidPosition});e=j;return c}this.unmaskedvalue=function(a,
b){return K(a,b)};this.isComplete=function(a){return R(a)};this.mask=function(f){function B(a){a=b._data(a).events;b.each(a,function(a,c){b.each(c,function(a,b){if("inputmask"==b.namespace){var c=b.handler;b.handler=function(a){if(this.readOnly||this.disabled)a.preventDefault;else return c.apply(this,arguments)}}})})}function v(a){var c;Object.getOwnPropertyDescriptor&&(c=Object.getOwnPropertyDescriptor(a,"value"));if(c&&c.get)a._valueGet||(a._valueGet=c.get,a._valueSet=c.set,Object.defineProperty(a,
"value",{get:function(){var a=b(this),c=b(this).data("_inputmask"),e=c.masksets,d=c.activeMasksetIndex;return c&&c.opts.autoUnmask?a.inputmask("unmaskedvalue"):this._valueGet()!=e[d]._buffer.join("")?this._valueGet():""},set:function(a){this._valueSet(a);b(this).triggerHandler("setvalue.inputmask")}}));else if(document.__lookupGetter__&&a.__lookupGetter__("value"))a._valueGet||(a._valueGet=a.__lookupGetter__("value"),a._valueSet=a.__lookupSetter__("value"),a.__defineGetter__("value",function(){var a=
b(this),c=b(this).data("_inputmask"),e=c.masksets,d=c.activeMasksetIndex;return c&&c.opts.autoUnmask?a.inputmask("unmaskedvalue"):this._valueGet()!=e[d]._buffer.join("")?this._valueGet():""}),a.__defineSetter__("value",function(a){this._valueSet(a);b(this).triggerHandler("setvalue.inputmask")}));else if(a._valueGet||(a._valueGet=function(){return this.value},a._valueSet=function(a){this.value=a}),!0!=b.fn.val.inputmaskpatch)b.fn.val=function(){if(arguments.length==0){var a=b(this);if(a.data("_inputmask")){if(a.data("_inputmask").opts.autoUnmask)return a.inputmask("unmaskedvalue");
var a=b.inputmask.val.apply(a),c=b(this).data("_inputmask");return a!=c.masksets[c.activeMasksetIndex]._buffer.join("")?a:""}return b.inputmask.val.apply(a)}var e=arguments;return this.each(function(){var a=b(this),c=b.inputmask.val.apply(a,e);a.data("_inputmask")&&a.triggerHandler("setvalue.inputmask");return c})},b.extend(b.fn.val,{inputmaskpatch:!0})}function K(a,b){if(c.numericInput&&""!=c.radixPoint&&!1===c.skipRadixDance){var e=a._valueGet().indexOf(c.radixPoint);n=b.begin<=e||b.end<=e||-1==
e}}function y(c,b,e){for(var d=k();!o(c)&&0<=c-1;)c--;for(var h=c;h<b&&h<m();h++)if(o(h)){G(d,h);var f=p(h),q=x(d,f);if(q!=D(f))if(f<m()&&!1!==l(h,q,!0,n)&&j()[r(h)].def==j()[r(f)].def)u(d,h,x(d,f),!0,n),f<b&&G(d,f);else if(o(h))break}else G(d,h);void 0!=e&&u(d,n?b:E(b),e);if(!1==a().greedy){b=J(d.join(""),n).split("");d.length=b.length;h=0;for(e=d.length;h<e;h++)d[h]=b[h];0==d.length&&(a().buffer=g().slice())}return c}function N(c,b,e,d){for(var h=k();c<=b&&c<m();c++)if(o(c)){var f=x(h,c);u(h,c,
e,!0,n);if(f!=D(c))if(e=p(c),e<m())if(!1!==l(e,f,!0,n)&&j()[r(c)].def==j()[r(e)].def)e=f;else if(o(e))break;else e=f;else break;else if(e=f,!0!==d)break}else G(h,c);d=h.length;if(!1==a().greedy){e=J(h.join(""),n).split("");h.length=e.length;c=0;for(f=h.length;c<f;c++)h[c]=e[c];0==h.length&&(a().buffer=g().slice())}return b-(d-h.length)}function Q(f){S=!1;var j=this,F=f.keyCode,s=A(j);K(j,s);if(F==c.keyCode.BACKSPACE||F==c.keyCode.DELETE||Y&&127==F||f.ctrlKey&&88==F){f.preventDefault();var h=s.begin;
if(0==s.begin&&s.end==m())H(k(),s.begin,s.end),b.each(d,function(a,c){c.buffer=c._buffer.slice();c.lastValidPosition=void 0;c.p=n?m():0});else if(1<s.end-s.begin||1==s.end-s.begin&&c.insertMode){H(k(),s.begin,s.end);var l=m();if(!1==c.greedy)n?N(0,s.end-1,D(s.end),!0):y(s.begin,l);else for(var r=s.begin;r<s.end;r++)o(r)&&(n?N(0,s.end-1,D(s.end),!0):y(s.begin,l));P(j,!1,!0,k())}else b.each(d,function(b){e=b;h=V?s.end:s.begin;var b=k(),d=n?E(m()+1):p(-1),j=m();if(F==c.keyCode.DELETE){if(n?h>d:h<d)h=
d;if(h<j&&(c.numericInput&&""!=c.radixPoint&&b[h]==c.radixPoint?(h=b.length-1==h?h:p(h),h=y(h,j)):n?(h=N(0,h,D(h),!0),h=p(h)):h=y(h,j),void 0!=a().lastValidPosition))-1!=a().lastValidPosition&&k()[a().lastValidPosition]==g()[a().lastValidPosition]&&(a().lastValidPosition=n?p(a().lastValidPosition):0==a().lastValidPosition?-1:E(a().lastValidPosition)),(n?a().lastValidPosition>d:a().lastValidPosition<d)?(a().lastValidPosition=void 0,a().p=d):(a().writeOutBuffer=!0,a().p=h)}else if(F==c.keyCode.BACKSPACE)if(n?
h<=d:h>d){if(h-=1,c.numericInput&&""!=c.radixPoint&&b[h]==c.radixPoint?(h=N(0,b.length-1==h?h:h-1,D(h),!0),h++):n?(h=N(0,h,D(h),!0),h=b[h+1]==c.radixPoint?h+1:p(h)):h=y(h,j),void 0!=a().lastValidPosition)-1!=a().lastValidPosition&&k()[a().lastValidPosition]==g()[a().lastValidPosition]&&(a().lastValidPosition=n?p(a().lastValidPosition):0==a().lastValidPosition?-1:E(a().lastValidPosition)),(n?a().lastValidPosition>d:a().lastValidPosition<d)?(a().lastValidPosition=void 0,a().p=d):(a().writeOutBuffer=
!0,a().p=h)}else 0<e&&(a().lastValidPosition=void 0,a().writeOutBuffer=!0,a().p=d,e=0,a().buffer=g().slice(),a().p=n?E(m()+1):p(-1),a().lastValidPosition=void 0)});q(n);C(j,k(),a().p);j._valueGet()==g().join("")&&b(j).trigger("cleared");c.showTooltip&&t.prop("title",a().mask)}else F==c.keyCode.END||F==c.keyCode.PAGE_DOWN?setTimeout(function(){var b=n?a().lastValidPosition:p(a().lastValidPosition);!c.insertMode&&(b==m()&&!f.shiftKey)&&b--;A(j,f.shiftKey?s.begin:b,b)},0):F==c.keyCode.HOME&&!f.shiftKey||
F==c.keyCode.PAGE_UP?A(j,0,f.shiftKey?s.begin:0):F==c.keyCode.ESCAPE?(j._valueSet(a().undoBuffer),P(j,!0,!0)):F==c.keyCode.INSERT&&!f.shiftKey&&!f.ctrlKey?(c.insertMode=!c.insertMode,A(j,!c.insertMode&&s.begin==m()?s.begin-1:s.begin)):!1==c.insertMode&&!f.shiftKey&&(F==c.keyCode.RIGHT?setTimeout(function(){var a=A(j);A(j,a.begin)},0):F==c.keyCode.LEFT&&setTimeout(function(){var a=A(j);A(j,a.begin-1)},0));c.onKeyDown.call(this,f,k(),c);T=-1!=b.inArray(F,c.ignorables)}function X(g,j,f,s,h,r){if(void 0==
f&&S)return!1;S=!0;var v=b(this),g=g||window.event,f=f||g.which||g.charCode||g.keyCode,t=String.fromCharCode(f);if(c.numericInput&&t==c.radixPoint&&!0!==j){var G=this._valueGet().indexOf(c.radixPoint);A(this,p(-1!=G?G:m()))}if((g.ctrlKey||g.metaKey||T)&&!0!==j)return!0;if(f){var z,B;j?(f=h?r:c.numericInput?p(a().p):a().p,z={begin:f,end:f}):z=A(this);var J=1<z.end-z.begin||1==z.end-z.begin&&c.insertMode,f=e,K=!1;b.each(d,function(b){e=b;a().undoBuffer=k().join("");if(J){b=z.end<m()?z.end:m();H(k(),
z.begin,b);var d=m();if(c.greedy==false)n?N(0,b-1,D(b),true):y(z.begin,d);else for(var f=z.begin;f<b;f++)o(f)&&(n?N(0,b-1,D(b-1),true):y(z.begin,d));a().lastValidPosition>z.begin&&a().lastValidPosition<b?a().lastValidPosition=n?b:z.begin:K=true}});!0===K&&(e=f,P(this,!1,!0,k()),c.insertMode||b.each(d,function(b){e=b;n?y(0,posend):N(z.begin,ml,D(z.begin),true);a().lastValidPosition=n?E(a().lastValidPosition):p(a().lastValidPosition)}));e=f;if(n){var w=E(z.end),f=l(w,t,h,n);!0===h&&(f=[{activeMasksetIndex:e,
result:f}]);b.each(f,function(b,d){e=d.activeMasksetIndex;a().writeOutBuffer=true;var f=d.result;if(f!==false){var h=false,g=k();if(f!==true){h=f.refresh;w=f.pos!=void 0?f.pos:w;t=f.c!=void 0?f.c:t}if(h!==true){var h=m(),j=p(-1),f=j;if(c.insertMode==true){if(a().greedy==true)for(var s=g.slice();x(s,f,true)!=D(f)&&f<=w;)f=f==h?h+1:p(f);if(f<=w&&(a().greedy||g.length<h||x(g,w)==D(w))){if(g[j]!=D(j)&&g.length<h){g=I(g,-1,n);if((clearSelection?z.begin:z.end)!=0)w=w+g}y(f,w,t)}else a().writeOutBuffer=
false}else u(g,w,t,true,n)}a().p=w}})}else w=p(z.begin-1),f=l(w,t,h,n),!0===h&&(f=[{activeMasksetIndex:e,result:f}]),b.each(f,function(b,d){e=d.activeMasksetIndex;a().writeOutBuffer=true;var f=d.result;if(f!==false){var g=false,h=k();if(f!==true){g=f.refresh;w=f.pos!=void 0?f.pos:w;t=f.c!=void 0?f.c:t}if(g!==true)if(c.insertMode==true){f=m();for(g=h.slice();x(g,f,true)!=D(f)&&f>=w;)f=f==0?-1:E(f);f>=w?N(w,h.length,t):a().writeOutBuffer=false}else u(h,w,t,true,n);a().p=p(w)}});!0!==h&&q(n);if(!1!==
s&&(b.each(f,function(a,b){if(b.activeMasksetIndex==e){B=b;return false}}),void 0!=B)){var M=this;setTimeout(function(){c.onKeyValidation.call(M,B.result,c)},0);if(a().writeOutBuffer&&!1!==B.result){var L=k();C(this,L,j?void 0:c.numericInput?p(a().p):a().p);setTimeout(function(){R(L)&&v.trigger("complete")},0)}else a().buffer=a().undoBuffer.split("")}c.showTooltip&&v.prop("title",a().mask);g.preventDefault()}}function W(d){var e=b(this),f=d.keyCode,j=k();c.onKeyUp.call(this,d,j,c);f==c.keyCode.TAB&&
(e.hasClass("focus.inputmask")&&0==this._valueGet().length&&c.showMaskOnFocus)&&(j=g().slice(),C(this,j),n||A(this,0),a().undoBuffer=this._valueGet())}var t=b(f);if(t.is(":input")){t.data("_inputmask",{masksets:d,activeMasksetIndex:e,opts:c,isRTL:!1});c.showTooltip&&t.prop("title",a().mask);a().greedy=a().greedy?a().greedy:0==a().repeat;var M=t.prop("maxLength");m()>M&&-1<M&&(M<g().length&&(g().length=M),!1==a().greedy&&(a().repeat=Math.round(M/g().length)),t.prop("maxLength",2*m()));v(f);a().undoBuffer=
f._valueGet();var S=!1,T=!1,n=!1;if("rtl"==f.dir||c.numericInput)("rtl"==f.dir||c.numericInput&&c.rightAlignNumerics)&&t.css("text-align","right"),f.dir="ltr",t.removeAttr("dir"),M=t.data("_inputmask"),M.isRTL=!0,t.data("_inputmask",M),n=!0;t.unbind(".inputmask");t.removeClass("focus.inputmask");t.bind("mouseenter.inputmask",function(){!b(this).hasClass("focus.inputmask")&&c.showMaskOnHover&&this._valueGet()!=k().join("")&&C(this,k())}).bind("blur.inputmask",function(){var f=b(this),j=this._valueGet(),
l=k();f.removeClass("focus.inputmask");j!=a().undoBuffer&&f.change();c.clearMaskOnLostFocus&&j!=""&&(j==g().join("")?this._valueSet(""):L(this));if(!R(l)){f.trigger("incomplete");if(c.clearIncomplete){b.each(d,function(a,b){b.buffer=b._buffer.slice();b.lastValidPosition=void 0;b.p=n?m():0});e=0;if(c.clearMaskOnLostFocus)this._valueSet("");else{l=g().slice();C(this,l)}}}}).bind("focus.inputmask",function(){var d=b(this),e=this._valueGet();c.showMaskOnFocus&&!d.hasClass("focus.inputmask")&&(!c.showMaskOnHover||
c.showMaskOnHover&&e=="")&&this._valueGet()!=k().join("")&&C(this,k(),a().p);d.addClass("focus.inputmask");a().undoBuffer=this._valueGet()}).bind("mouseleave.inputmask",function(){var a=b(this);c.clearMaskOnLostFocus&&(a.hasClass("focus.inputmask")||(this._valueGet()==g().join("")||this._valueGet()==""?this._valueSet(""):L(this)))}).bind("click.inputmask",function(){var d=this;setTimeout(function(){var e=A(d),f=k();if(e.begin==e.end){var g=e.begin,h=a().lastValidPosition;K(d,e);if(n){e=c.numericInput?
c.skipRadixDance===false&&c.radixPoint!=""&&b.inArray(c.radixPoint,f)!=-1?b.inArray(c.radixPoint,f):m():E((h==void 0?m():h)+1);A(d,g>e&&(l(g,f[g],true,n)!==false||!o(g))?g:e)}else{e=p(h==void 0?-1:h);A(d,g<e&&(l(g,f[g],true,n)!==false||!o(g))?g:e)}}},0)}).bind("dblclick.inputmask",function(){var b=this;a().lastValidPosition!=void 0&&setTimeout(function(){n?A(b,E(a().lastValidPosition),m()):A(b,0,p(a().lastValidPosition))},0)}).bind("keydown.inputmask",Q).bind("keypress.inputmask",X).bind("keyup.inputmask",
W).bind(Z+".inputmask dragdrop.inputmask drop.inputmask",function(){var a=this,c=b(a);setTimeout(function(){P(a,true,false);R(k())&&c.trigger("complete");c.click()},0)}).bind("setvalue.inputmask",function(){a().undoBuffer=this._valueGet();P(this,true);this._valueGet()==g().join("")&&this._valueSet("")}).bind("complete.inputmask",c.oncomplete).bind("incomplete.inputmask",c.onincomplete).bind("cleared.inputmask",c.oncleared);P(f,!0,!1);var U;try{U=document.activeElement}catch($){}U===f?(t.addClass("focus.inputmask"),
A(f,a().p)):c.clearMaskOnLostFocus&&(k().join("")==g().join("")?f._valueSet(""):L(f));B(f)}};return this}var c=b.extend(!0,{},b.inputmask.defaults,B),G=null!==navigator.userAgent.match(/msie 10/i),Y=null!==navigator.userAgent.match(/iphone/i),Q=null!==navigator.userAgent.match(/android.*safari.*/i),Z=function(b){var c=document.createElement("input"),b="on"+b,a=b in c;a||(c.setAttribute(b,"return;"),a="function"==typeof c[b]);return a}("paste")&&!G?"paste":"input",V,u,x=0;Q&&(G=navigator.userAgent.match(/safari.*/i),
V=537>=parseInt(RegExp(/[0-9]+/).exec(G)));if("string"===typeof I)switch(I){case "mask":return C(c.alias,B),u=K(),this.each(function(){J(b.extend(true,{},u),0).mask(this)});case "unmaskedvalue":return G=b(this),u=G.data("_inputmask").masksets,x=G.data("_inputmask").activeMasksetIndex,c=G.data("_inputmask").opts,J(u,x).unmaskedvalue(this);case "remove":return this.each(function(){var d=b(this),e=this;setTimeout(function(){if(d.data("_inputmask")){u=d.data("_inputmask").masksets;x=d.data("_inputmask").activeMasksetIndex;
c=d.data("_inputmask").opts;e._valueSet(J(u,x).unmaskedvalue(d,true));d.removedata("_inputmask");d.unbind(".inputmask");d.removeClass("focus.inputmask");var a;Object.getOwnPropertyDescriptor&&(a=Object.getOwnPropertyDescriptor(e,"value"));if(a&&a.get)e._valueGet&&Object.defineProperty(e,"value",{get:e._valueGet,set:e._valueSet});else if(document.__lookupGetter__&&e.__lookupGetter__("value")&&e._valueGet){e.__defineGetter__("value",e._valueGet);e.__defineSetter__("value",e._valueSet)}delete e._valueGet;
delete e._valueSet}},0)});case "getemptymask":return this.data("_inputmask")?(u=this.data("_inputmask").masksets,x=this.data("_inputmask").activeMasksetIndex,u[x]._buffer.join("")):"";case "hasMaskedValue":return this.data("_inputmask")?!this.data("_inputmask").opts.autoUnmask:!1;case "isComplete":return u=this.data("_inputmask").masksets,x=this.data("_inputmask").activeMasksetIndex,c=this.data("_inputmask").opts,J(u,x).isComplete(this[0]._valueGet().split(""));default:return C(I,B)||(c.mask=I),u=
K(),this.each(function(){J(b.extend(true,{},u),x).mask(this)})}else{if("object"==typeof I)return c=b.extend(!0,{},b.inputmask.defaults,I),C(c.alias,I),u=K(),this.each(function(){J(b.extend(true,{},u),x).mask(this)});if(void 0==I)return this.each(function(){var d=b(this).attr("data-inputmask");if(d&&d!="")try{var d=d.replace(RegExp("'","g"),'"'),e=b.parseJSON("{"+d+"}");b.extend(true,e,B);c=b.extend(true,{},b.inputmask.defaults,e);C(c.alias,e);c.alias=void 0;b(this).inputmask(c)}catch(a){}})}return this})})(jQuery);
