/*
 Input Mask plugin for jquery
 http://github.com/RobinHerbots/jquery.inputmask
 Copyright (c) 2010 - 2013 Robin Herbots
 Licensed under the MIT license (http://www.opensource.org/licenses/mit-license.php)
 Version: 2.2.29
*/
(function(d){void 0==d.fn.inputmask&&(d.inputmask={defaults:{placeholder:"_",optionalmarker:{start:"[",end:"]"},escapeChar:"\\",mask:null,oncomplete:d.noop,onincomplete:d.noop,oncleared:d.noop,repeat:0,greedy:!0,autoUnmask:!1,clearMaskOnLostFocus:!0,insertMode:!0,clearIncomplete:!1,aliases:{},onKeyUp:d.noop,onKeyDown:d.noop,showMaskOnFocus:!0,showMaskOnHover:!0,onKeyValidation:d.noop,skipOptionalPartCharacter:" ",showTooltip:!1,numericInput:!1,radixPoint:"",skipRadixDance:!1,rightAlignNumerics:!0,
definitions:{9:{validator:"[0-9]",cardinality:1},a:{validator:"[A-Za-z\u0410-\u044f\u0401\u0451]",cardinality:1},"*":{validator:"[A-Za-z\u0410-\u044f\u0401\u04510-9]",cardinality:1}},keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,
RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91},ignorables:[9,13,19,27,33,34,35,36,37,38,39,40,45,46,93,112,113,114,115,116,117,118,119,120,121,122,123],getMaskLength:function(d,F,P){var M=d.length;!F&&1<P&&(M+=d.length*(P-1));return M}},val:d.fn.val,escapeRegex:function(d){return d.replace(RegExp("(\\/|\\.|\\*|\\+|\\?|\\||\\(|\\)|\\[|\\]|\\{|\\}|\\\\)","gim"),"\\$1")}},d.fn.inputmask=function(D,F){var P,M;function I(b,e){var p=c.aliases[b];return p?(p.alias&&I(p.alias),d.extend(!0,c,p),d.extend(!0,
c,e),!0):!1}function N(b){var e=!1,p=0,a=c.greedy,h=c.repeat;1==b.length&&!1==a&&(c.placeholder="");for(var b=d.map(b.split(""),function(b){var a=[];if(b==c.escapeChar)e=true;else if(b!=c.optionalmarker.start&&b!=c.optionalmarker.end||e){var d=c.definitions[b];if(d&&!e)for(b=0;b<d.cardinality;b++)a.push(C(p+b));else{a.push(b);e=false}p=p+a.length;return a}}),v=b.slice(),l=1;l<h&&a;l++)v=v.concat(b.slice());return{mask:v,repeat:h,greedy:a}}function S(b){var e=!1,a=!1,n=!1;return d.map(b.split(""),
function(b){var d=[];if(b==c.escapeChar)a=!0;else if(b==c.optionalmarker.start&&!a)n=e=!0;else if(b==c.optionalmarker.end&&!a)e=!1,n=!0;else{var l=c.definitions[b];if(l&&!a){for(var j=l.prevalidator,s=j?j.length:0,k=1;k<l.cardinality;k++){var f=s>=k?j[k-1]:[],o=f.validator,f=f.cardinality;d.push({fn:o?"string"==typeof o?RegExp(o):new function(){this.test=o}:/./,cardinality:f?f:1,optionality:e,newBlockMarker:!0==e?n:!1,offset:0,casing:l.casing,def:l.definitionSymbol|b});!0==e&&(n=!1)}d.push({fn:l.validator?
"string"==typeof l.validator?RegExp(l.validator):new function(){this.test=l.validator}:/./,cardinality:l.cardinality,optionality:e,newBlockMarker:n,offset:0,casing:l.casing,def:l.definitionSymbol|b})}else d.push({fn:null,cardinality:0,optionality:e,newBlockMarker:n,offset:0,casing:null,def:b}),a=!1;n=!1;return d}})}function V(){function b(b){var a=b.length;for(i=0;i<a&&b.charAt(i)!=c.optionalmarker.start;i++);var e=[b.substring(0,i)];i<a&&e.push(b.substring(i+1,a));return e}function e(h,j){var l=
0,f=0,s=j.length;for(i=0;i<s&&!(j.charAt(i)==c.optionalmarker.start&&l++,j.charAt(i)==c.optionalmarker.end&&f++,0<l&&l==f);i++);l=[j.substring(0,i)];i<s&&l.push(j.substring(i+1,s));var k=b(l[0]);if(1<k.length){if(s=h+k[0]+(c.optionalmarker.start+k[1]+c.optionalmarker.end)+(1<l.length?l[1]:""),-1==d.inArray(s,n)&&(n.push(s),f=N(s),a.push({mask:s,_buffer:f.mask,buffer:f.mask.slice(),tests:S(s),lastValidPosition:void 0,greedy:f.greedy,repeat:f.repeat})),s=h+k[0]+(1<l.length?l[1]:""),-1==d.inArray(s,
n)&&(n.push(s),f=N(s),a.push({mask:s,_buffer:f.mask,buffer:f.mask.slice(),tests:S(s),lastValidPosition:void 0,greedy:f.greedy,repeat:f.repeat})),1<b(k[1]).length&&e(h+k[0],k[1]+l[1]),1<l.length&&1<b(l[1]).length)e(h+k[0]+(c.optionalmarker.start+k[1]+c.optionalmarker.end),l[1]),e(h+k[0],l[1])}else s=h+l,-1==d.inArray(s,n)&&(n.push(s),f=N(s),a.push({mask:s,_buffer:f.mask,buffer:f.mask.slice(),tests:S(s),lastValidPosition:void 0,greedy:f.greedy,repeat:f.repeat}))}var a=[],n=[];d.isArray(c.mask)?d.each(c.mask,
function(b,c){e("",c.toString())}):e("",c.mask.toString());return a}function a(){return y[f]}function E(){return a().tests}function r(){return a()._buffer}function o(){return a().buffer}function G(b,e,p,n){function h(b,a){for(var d=z(b),n=e?1:0,h="",f=a.buffer,j=a.tests[d].cardinality;j>n;j--)h+=H(f,d-(j-1));e&&(h+=e);return null!=a.tests[d].fn?a.tests[d].fn.test(h,f,b,p,c):!1}if(p=!0===p){var v=h(b,a());!0===v&&(v={pos:b});return v}var l=[],v=!1,r=f;d.each(y,function(a){f=a;if(r!=f&&!A(b)){if(e==
this._buffer[b]||e==c.skipOptionalPartCharacter)return l.push({activeMasksetIndex:a,result:{refresh:!0}}),this.lastValidPosition=b,!1;this.lastValidPosition=n?j()+1:-1}if((void 0==this.lastValidPosition&&b==(n?B(j()):u(-1))||n||c.numericInput?this.lastValidPosition<=c.numericInput?j():u(b):this.lastValidPosition>=B(b))&&0<=b&&b<j()){v=h(b,this);if(!1!==v){!0===v&&(v={pos:b});var d=v.pos||b;if(void 0==this.lastValidPosition||(n?c.greedy?this.lastValidPosition>d:d==o().length-1:this.lastValidPosition<
d))this.lastValidPosition=d}else this.lastValidPosition=n?b==j()?void 0:u(b):0==b?void 0:B(b);l.push({activeMasksetIndex:a,result:v})}});f=r;return l}function W(b){var e=f,p={activeMasksetIndex:0,lastValidPosition:b?j()+1:-1};d.each(y,function(a){if(void 0!=this.lastValidPosition&&(b||c.numericInput?this.lastValidPosition<p.lastValidPosition:this.lastValidPosition>p.lastValidPosition))p.activeMasksetIndex=a,p.lastValidPosition=this.lastValidPosition});f=p.activeMasksetIndex;e!=f&&(b?Q(o(),0,B(p.lastValidPosition)):
Q(o(),u(p.lastValidPosition),j()),a().writeOutBuffer=!0)}function A(b){b=z(b);b=E()[b];return void 0!=b?b.fn:!1}function z(b){return b%E().length}function C(b){return c.placeholder.charAt(b%c.placeholder.length)}function j(){return c.getMaskLength(r(),a().greedy,a().repeat,o(),c)}function u(b){var a=j();if(b>=a)return a;for(;++b<a&&!A(b););return b}function B(b){if(0>=b)return 0;for(;0<--b&&!A(b););return b}function L(b,a,c,d,h){d&&(a=X(b,a,h));d=E()[z(a)];h=c;if(void 0!=h)switch(d.casing){case "upper":h=
c.toUpperCase();break;case "lower":h=c.toLowerCase()}b[a]=h}function H(b,a,c){c&&(a=X(b,a));return b[a]}function X(b,a,c){if(c)for(;0>a&&b.length<j();){c=r().length-1;for(a=r().length;void 0!==r()[c];)b.unshift(r()[c--])}else for(;void 0==b[a]&&b.length<j();)for(c=0;void 0!==r()[c];)b.push(r()[c++]);return a}function K(b,a,c){b._valueSet(a.join(""));void 0!=c&&x(b,c)}function Q(b,a,c){for(var d=j();a<c&&a<d;a++)L(b,a,H(r().slice(),a,!0))}function T(b,a){var c=z(a);L(b,a,H(r(),c))}function O(b,e,p,
n){var h=d(b).data("inputmask").isRTL,n=void 0!=n?n.slice():Y(b._valueGet(),h).split("");d.each(y,function(b,a){a.buffer=a._buffer.slice();a.lastValidPosition=void 0;a.p=h?j():0});!0!==p&&(f=0);h&&!c.numericInput&&(n=n.reverse());var o=j();d.each(n,function(a,f){if(!0!==p||A(h?c.numericInput?B(o):o-a-1:a)){var n=h?c.numericInput?o:o-a-1:a;d(b).trigger("keypress",[!0,f.charCodeAt(0),e,p,n])}});!0===p&&(a().lastValidPosition=h?u(a().p):B(a().p))}function aa(b){return d.inputmask.escapeRegex.call(this,
b)}function Y(b,a){return a?b.replace(RegExp("^("+aa(r().join(""))+")*"),""):b.replace(RegExp("("+aa(r().join(""))+")*$"),"")}function Z(b){var a=o(),c=a.slice(),f,h;if(d(b).data("inputmask").isRTL)for(h=0;h<=c.length-1;h++)if(f=z(h),E()[f].optionality)if(!A(h)||!G(h,a[h],!0))c.splice(0,1);else break;else break;else for(h=c.length-1;0<=h;h--)if(f=z(h),E()[f].optionality)if(!A(h)||!G(h,a[h],!0))c.pop();else break;else break;K(b,c)}function ba(a,c){var f=a[0];return E()&&(!0===c||!a.hasClass("hasDatepicker"))?
(O(f,!1,!0),d.map(o(),function(a,b){return A(b)&&G(b,a,!0)?a:null}).join("")):f._valueGet()}function x(a,e,f){var j=a.jquery&&0<a.length?a[0]:a;if("number"==typeof e)d(a).is(":visible")&&(f="number"==typeof f?f:e,!1==c.insertMode&&e==f&&f++,j.setSelectionRange?U?(setTimeout(function(){j.selectionStart=e;j.selectionEnd=U?e:f},10),P=e,M=f):(j.selectionStart=e,j.selectionEnd=f):j.createTextRange&&(a=j.createTextRange(),a.collapse(!0),a.moveEnd("character",f),a.moveStart("character",e),a.select()));else{if(!d(a).is(":visible"))return{begin:0,
end:0};j.setSelectionRange?(e=j.selectionStart,f=j.selectionEnd):document.selection&&document.selection.createRange&&(a=document.selection.createRange(),e=0-a.duplicate().moveStart("character",-1E5),f=e+a.text.length);return{begin:e,end:f}}}function R(a){var c=!1,o=0,n=f;d.each(y,function(d,n){f=d;var l=B(j());if(void 0!=n.lastValidPosition&&n.lastValidPosition>=o&&n.lastValidPosition==l){for(var u=!0,s=0;s<=l;s++){var k=A(s),x=z(s);if(k&&(void 0==a[s]||a[s]==C(s))||!k&&a[s]!=r()[x]){u=!1;break}}if(c=
c||u)return!1}o=n.lastValidPosition});f=n;return c}function $(b){function e(a){a=d._data(a).events;d.each(a,function(a,c){d.each(c,function(a,c){if("inputmask"==c.namespace){var b=c.handler;c.handler=function(a){if(this.readOnly||this.disabled)a.preventDefault;else return b.apply(this,arguments)}}})})}function p(a){var c;Object.getOwnPropertyDescriptor&&(c=Object.getOwnPropertyDescriptor(a,"value"));if(c&&c.get)a._valueGet||(a._valueGet=c.get,a._valueSet=c.set,Object.defineProperty(a,"value",{get:function(){var a=
d(this),c=d(this).data("inputmask"),b=c.masksets,f=c.activeMasksetIndex;return c&&c.opts.autoUnmask?a.inputmask("unmaskedvalue"):this._valueGet()!=b[f]._buffer.join("")?this._valueGet():""},set:function(a){this._valueSet(a);d(this).triggerHandler("setvalue.inputmask")}}));else if(document.__lookupGetter__&&a.__lookupGetter__("value"))a._valueGet||(a._valueGet=a.__lookupGetter__("value"),a._valueSet=a.__lookupSetter__("value"),a.__defineGetter__("value",function(){var a=d(this),c=d(this).data("inputmask"),
b=c.masksets,f=c.activeMasksetIndex;return c&&c.opts.autoUnmask?a.inputmask("unmaskedvalue"):this._valueGet()!=b[f]._buffer.join("")?this._valueGet():""}),a.__defineSetter__("value",function(a){this._valueSet(a);d(this).triggerHandler("setvalue.inputmask")}));else if(a._valueGet||(a._valueGet=function(){return this.value},a._valueSet=function(a){this.value=a}),!0!=d.fn.val.inputmaskpatch)d.fn.val=function(){if(arguments.length==0){var a=d(this);if(a.data("inputmask")){if(a.data("inputmask").opts.autoUnmask)return a.inputmask("unmaskedvalue");
var a=d.inputmask.val.apply(a),c=d(this).data("inputmask");return a!=c.masksets[c.activeMasksetIndex]._buffer.join("")?a:""}return d.inputmask.val.apply(a)}var b=arguments;return this.each(function(){var a=d(this),c=d.inputmask.val.apply(a,b);a.data("inputmask")&&a.triggerHandler("setvalue.inputmask");return c})},d.extend(d.fn.val,{inputmaskpatch:!0})}function n(a,b){if(c.numericInput&&""!=c.radixPoint&&!1===c.skipRadixDance){var d=a._valueGet().indexOf(c.radixPoint);q=b.begin<=d||b.end<=d||-1==d}}
function h(c,b,d){for(var f=o();!A(c)&&0<=c-1;)c--;for(var g=c;g<b&&g<j();g++)if(A(g)){T(f,g);var e=u(g),h=H(f,e);if(h!=C(e))if(e<j()&&!1!==G(g,h,!0,q)&&E()[z(g)].def==E()[z(e)].def)L(f,g,H(f,e),!0,q),e<b&&T(f,e);else if(A(g))break}else T(f,g);void 0!=d&&L(f,q?b:B(b),d);if(!1==a().greedy){b=Y(f.join(""),q).split("");f.length=b.length;g=0;for(d=f.length;g<d;g++)f[g]=b[g];0==f.length&&(a().buffer=r().slice())}return c}function v(c,b,d,f){for(var g=o();c<=b&&c<j();c++)if(A(c)){var e=H(g,c);L(g,c,d,!0,
q);if(e!=C(c))if(d=u(c),d<j())if(!1!==G(d,e,!0,q)&&E()[z(c)].def==E()[z(d)].def)d=e;else if(A(d))break;else d=e;else break;else if(d=e,!0!==f)break}else T(g,c);f=g.length;if(!1==a().greedy){d=Y(g.join(""),q).split("");g.length=d.length;c=0;for(e=g.length;c<e;c++)g[c]=d[c];0==g.length&&(a().buffer=r().slice())}return b-(f-g.length)}function l(b){F=!1;var e=this,m=b.keyCode,t=x(e);n(e,t);if(m==c.keyCode.BACKSPACE||m==c.keyCode.DELETE||da&&127==m||b.ctrlKey&&88==m){b.preventDefault();var g=t.begin;if(0==
t.begin&&t.end==j())Q(o(),t.begin,t.end),d.each(y,function(a,c){c.buffer=c._buffer.slice();c.lastValidPosition=void 0;c.p=q?j():0});else if(1<t.end-t.begin||1==t.end-t.begin&&c.insertMode){Q(o(),t.begin,t.end);var l=j();if(!1==c.greedy)q?v(0,t.end-1,C(t.end),!0):h(t.begin,l);else for(var p=t.begin;p<t.end;p++)A(p)&&(q?v(0,t.end-1,C(t.end),!0):h(t.begin,l));O(e,!1,!0,o())}else d.each(y,function(b){f=b;g=ca?t.end:t.begin;var b=o(),d=q?B(j()+1):u(-1),e=j();if(m==c.keyCode.DELETE){if(q?g>d:g<d)g=d;if(g<
e&&(c.numericInput&&""!=c.radixPoint&&b[g]==c.radixPoint?(g=b.length-1==g?g:u(g),g=h(g,e)):q?(g=v(0,g,C(g),!0),g=u(g)):g=h(g,e),void 0!=a().lastValidPosition))-1!=a().lastValidPosition&&o()[a().lastValidPosition]==r()[a().lastValidPosition]&&(a().lastValidPosition=q?u(a().lastValidPosition):0==a().lastValidPosition?-1:B(a().lastValidPosition)),(q?a().lastValidPosition>d:a().lastValidPosition<d)?(a().lastValidPosition=void 0,a().p=d):(a().writeOutBuffer=!0,a().p=g)}else if(m==c.keyCode.BACKSPACE)if(q?
g<=d:g>d){if(g-=1,c.numericInput&&""!=c.radixPoint&&b[g]==c.radixPoint?(g=v(0,b.length-1==g?g:g-1,C(g),!0),g++):q?(g=v(0,g,C(g),!0),g=b[g+1]==c.radixPoint?g+1:u(g)):g=h(g,e),void 0!=a().lastValidPosition)-1!=a().lastValidPosition&&o()[a().lastValidPosition]==r()[a().lastValidPosition]&&(a().lastValidPosition=q?u(a().lastValidPosition):0==a().lastValidPosition?-1:B(a().lastValidPosition)),(q?a().lastValidPosition>d:a().lastValidPosition<d)?(a().lastValidPosition=void 0,a().p=d):(a().writeOutBuffer=
!0,a().p=g)}else 0<f&&(a().lastValidPosition=void 0,a().writeOutBuffer=!0,a().p=d,f=0,a().buffer=r().slice(),a().p=q?B(j()+1):u(-1),a().lastValidPosition=void 0)});W(q);K(e,o(),a().p);e._valueGet()==r().join("")&&d(e).trigger("cleared");c.showTooltip&&k.prop("title",a().mask)}else m==c.keyCode.END||m==c.keyCode.PAGE_DOWN?setTimeout(function(){var d=q?a().lastValidPosition:u(a().lastValidPosition);!c.insertMode&&(d==j()&&!b.shiftKey)&&d--;x(e,b.shiftKey?t.begin:d,d)},0):m==c.keyCode.HOME&&!b.shiftKey||
m==c.keyCode.PAGE_UP?x(e,0,b.shiftKey?t.begin:0):m==c.keyCode.ESCAPE?(e._valueSet(a().undoBuffer),O(e,!0,!0)):m==c.keyCode.INSERT?(c.insertMode=!c.insertMode,x(e,!c.insertMode&&t.begin==j()?t.begin-1:t.begin)):!1==c.insertMode&&!b.shiftKey&&(m==c.keyCode.RIGHT?setTimeout(function(){var a=x(e);x(e,a.begin)},0):m==c.keyCode.LEFT&&setTimeout(function(){var a=x(e);x(e,a.begin-1)},0));c.onKeyDown.call(this,b,o(),c);I=-1!=d.inArray(m,c.ignorables)}function D(b,e,m,t,g,l){if(void 0==m&&F)return!1;F=!0;var n=
d(this),b=b||window.event,m=m||b.which||b.charCode||b.keyCode,p=String.fromCharCode(m);if(c.numericInput&&p==c.radixPoint){var s=this._valueGet().indexOf(c.radixPoint);x(this,u(-1!=s?s:j()))}if((b.ctrlKey||b.metaKey||I)&&!0!==e)return!0;if(m){var k,r;e?(m=g?l:a().p,k={begin:m,end:m}):k=x(this);m=f;d.each(y,function(b){f=b;a().undoBuffer=o().join("");if(k.end-k.begin>1||k.end-k.begin==1&&c.insertMode){b=k.end<j()?k.end:j();Q(o(),k.begin,b);var d=j();if(c.greedy==false)q?v(0,b-1,C(b),true):h(k.begin,
d);else for(var e=k.begin;e<b;e++)A(e)&&(q?v(0,b-1,C(b),true):h(k.begin,d))}});f=m;if(q){var w=B(k.end),m=G(w,p,g,q);!0===g&&(m=[{activeMasksetIndex:f,result:m}]);d.each(m,function(b,d){f=d.activeMasksetIndex;a().writeOutBuffer=true;var e=d.result;if(e!==false){var g=false,m=o();if(e!==true){g=e.refresh;w=e.pos!=void 0?e.pos:w;p=e.c!=void 0?e.c:p}if(g!==true){var g=j(),l=u(-1),e=l;if(c.insertMode==true){if(a().greedy==true)for(var t=m.slice();H(t,e,true)!=C(e)&&e<=w;)e=e==g?g+1:u(e);if(e<=w&&(a().greedy||
m.length<g||H(m,w)==C(w))){if(m[l]!=C(l)&&m.length<g){m=X(m,-1,q);k.end!=0&&(w=w+m)}h(e,w,p)}else a().writeOutBuffer=false}else L(m,w,p,true,q)}a().p=w}});!0!==g&&W(q);if(!1!==t&&(d.each(m,function(a,b){if(b.activeMasksetIndex==f){r=b;return false}}),void 0!=r))if(setTimeout(function(){c.onKeyValidation.call(this,r.result,c)},0),a().writeOutBuffer&&!1!==r.result){var z=o();K(this,z,e?void 0:c.numericInput?u(a().p):a().p);setTimeout(function(){R(z)&&n.trigger("complete")},0)}else a().buffer=a().undoBuffer.split("")}else w=
u(k.begin-1),m=G(w,p,g,q),!0===g&&(m=[{activeMasksetIndex:f,result:m}]),d.each(m,function(b,d){f=d.activeMasksetIndex;a().writeOutBuffer=true;var e=d.result;if(e!==false){var g=false,h=o();if(e!==true){g=e.refresh;w=e.pos!=void 0?e.pos:w;p=e.c!=void 0?e.c:p}if(g!==true)if(c.insertMode==true){e=j();for(g=h.slice();H(g,e,true)!=C(e)&&e>=w;)e=e==0?-1:B(e);e>=w?v(w,h.length,p):a().writeOutBuffer=false}else L(h,w,p,true,q);a().p=u(w)}}),!0!==g&&W(q),!1!==t&&(d.each(m,function(a,b){if(b.activeMasksetIndex==
f){r=b;return false}}),void 0!=r&&(setTimeout(function(){c.onKeyValidation.call(this,r.result,c)},0),a().writeOutBuffer&&!1!==r.result?(w=a().p,z=o(),K(this,z,e?void 0:w),setTimeout(function(){R(z)&&n.trigger("complete")},0)):a().buffer=a().undoBuffer.split("")));U&&!0!==e&&x(this,P,M);c.showTooltip&&n.prop("title",a().mask);b.preventDefault()}}function s(b){var e=d(this),f=b.keyCode,h=o();c.onKeyUp.call(this,b,h,c);f==c.keyCode.TAB&&(e.hasClass("focus.inputmask")&&0==this._valueGet().length&&c.showMaskOnFocus)&&
(h=r().slice(),K(this,h),q||x(this,0),a().undoBuffer=this._valueGet())}var k=d(b);if(k.is(":input")){c.showTooltip&&k.prop("title",a().mask);a().greedy=a().greedy?a().greedy:0==a().repeat;var J=k.prop("maxLength");j()>J&&-1<J&&(J<r().length&&(r().length=J),!1==a().greedy&&(a().repeat=Math.round(J/r().length)),k.prop("maxLength",2*j()));k.data("inputmask",{masksets:y,activeMasksetIndex:f,opts:c,isRTL:!1});p(b);a().undoBuffer=b._valueGet();var F=!1,I=!1,q=!1;if("rtl"==b.dir||c.numericInput)("rtl"==
b.dir||c.numericInput&&c.rightAlignNumerics)&&k.css("text-align","right"),b.dir="ltr",k.removeAttr("dir"),J=k.data("inputmask"),J.isRTL=!0,k.data("inputmask",J),q=!0;k.unbind(".inputmask");k.removeClass("focus.inputmask");k.bind("mouseenter.inputmask",function(){!d(this).hasClass("focus.inputmask")&&c.showMaskOnHover&&this._valueGet()!=o().join("")&&K(this,o())}).bind("blur.inputmask",function(){var b=d(this),e=this._valueGet(),h=o();b.removeClass("focus.inputmask");e!=a().undoBuffer&&b.change();
c.clearMaskOnLostFocus&&e!=""&&(e==r().join("")?this._valueSet(""):Z(this));if(!R(h)){b.trigger("incomplete");if(c.clearIncomplete){d.each(y,function(a,b){b.buffer=b._buffer.slice();b.lastValidPosition=void 0;b.p=q?j():0});f=0;if(c.clearMaskOnLostFocus)this._valueSet("");else{h=r().slice();K(this,h)}}}}).bind("focus.inputmask",function(){var b=d(this),e=this._valueGet();c.showMaskOnFocus&&!b.hasClass("focus.inputmask")&&(!c.showMaskOnHover||c.showMaskOnHover&&e=="")&&this._valueGet()!=o().join("")&&
K(this,o(),a().p);b.addClass("focus.inputmask");a().undoBuffer=this._valueGet()}).bind("mouseleave.inputmask",function(){var a=d(this);c.clearMaskOnLostFocus&&(a.hasClass("focus.inputmask")||(this._valueGet()==r().join("")||this._valueGet()==""?this._valueSet(""):Z(this)))}).bind("click.inputmask",function(){var b=this;setTimeout(function(){var e=x(b),f=o();if(e.begin==e.end){var h=e.begin,g=a().lastValidPosition;n(b,e);if(q){e=c.numericInput?c.skipRadixDance===false&&c.radixPoint!=""&&d.inArray(c.radixPoint,
f)!=-1?d.inArray(c.radixPoint,f):j():B((g==void 0?j():g)+1);x(b,h>e&&(G(h,f[h],true,q)!==false||!A(h))?h:e)}else{e=u(g==void 0?-1:g);x(b,h<e&&(G(h,f[h],true,q)!==false||!A(h))?h:e)}}},0)}).bind("dblclick.inputmask",function(){var b=this;a().lastValidPosition!=void 0&&setTimeout(function(){q?x(b,B(a().lastValidPosition),j()):x(b,0,u(a().lastValidPosition))},0)}).bind("keydown.inputmask",l).bind("keypress.inputmask",D).bind("keyup.inputmask",s).bind(ea+".inputmask dragdrop.inputmask drop.inputmask",
function(){var a=this,b=o();setTimeout(function(){x(a,O(a,true,false));R(b)&&k.trigger("complete")},0)}).bind("setvalue.inputmask",function(){a().undoBuffer=this._valueGet();O(this,true);this._valueGet()==r().join("")&&this._valueSet("")}).bind("complete.inputmask",c.oncomplete).bind("incomplete.inputmask",c.onincomplete).bind("cleared.inputmask",c.oncleared);O(b,!0,!1);var N;try{N=document.activeElement}catch(S){}N===b?(k.addClass("focus.inputmask"),x(b,a().lastValidPosition)):c.clearMaskOnLostFocus&&
(o().join("")==r().join("")?b._valueSet(""):Z(b));e(b)}}var c=d.extend(!0,{},d.inputmask.defaults,F),ea=function(a){var c=document.createElement("input"),a="on"+a,d=a in c;d||(c.setAttribute(a,"return;"),d="function"==typeof c[a]);return d}("paste")?"paste":"input",da=null!=navigator.userAgent.match(/iphone/i),U=null!=navigator.userAgent.match(/android.*safari.*/i),ca;if(U){var fa=navigator.userAgent.match(/safari.*/i);ca=533>=parseInt(RegExp(/[0-9]+/).exec(fa))}var y,f=0;if("string"==typeof D)switch(D){case "mask":return I(c.alias,
F),y=V(),this.each(function(){$(this)});case "unmaskedvalue":return y=this.data("inputmask").masksets,f=this.data("inputmask").activeMasksetIndex,c=this.data("inputmask").opts,ba(this);case "remove":return this.each(function(){var a=d(this),e=this;setTimeout(function(){if(a.data("inputmask")){y=a.data("inputmask").masksets;f=a.data("inputmask").activeMasksetIndex;c=a.data("inputmask").opts;e._valueSet(ba(a,!0));a.removeData("inputmask");a.unbind(".inputmask");a.removeClass("focus.inputmask");var d;
Object.getOwnPropertyDescriptor&&(d=Object.getOwnPropertyDescriptor(e,"value"));d&&d.get?e._valueGet&&Object.defineProperty(e,"value",{get:e._valueGet,set:e._valueSet}):document.__lookupGetter__&&e.__lookupGetter__("value")&&e._valueGet&&(e.__defineGetter__("value",e._valueGet),e.__defineSetter__("value",e._valueSet));delete e._valueGet;delete e._valueSet}},0)});case "getemptymask":return this.data("inputmask")?(y=this.data("inputmask").masksets,f=this.data("inputmask").activeMasksetIndex,y[f]._buffer.join("")):
"";case "hasMaskedValue":return this.data("inputmask")?!this.data("inputmask").opts.autoUnmask:!1;case "isComplete":return y=this.data("inputmask").masksets,f=this.data("inputmask").activeMasksetIndex,c=this.data("inputmask").opts,R(this[0]._valueGet().split(""));default:return I(D,F)||(c.mask=D),y=V(),this.each(function(){$(this)})}else{if("object"==typeof D)return c=d.extend(!0,{},d.inputmask.defaults,D),I(c.alias,D),y=V(),this.each(function(){$(this)});if(void 0==D)return this.each(function(){var a=
d(this).attr("data-inputmask");if(a&&""!=a)try{var a=a.replace(RegExp("'","g"),'"'),e=d.parseJSON("{"+a+"}");c=d.extend(!0,{},d.inputmask.defaults,e);I(c.alias,e);c.alias=void 0;d(this).inputmask(c)}catch(f){}})}return this})})(jQuery);
