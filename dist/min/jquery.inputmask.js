/*
 Input Mask plugin for jquery
 http://github.com/RobinHerbots/jquery.inputmask
 Copyright (c) 2010 - 2014 Robin Herbots
 Licensed under the MIT license (http://www.opensource.org/licenses/mit-license.php)
 Version: 3.0.28
*/
(function(d){if(void 0===d.fn.inputmask){var P=function(c){var e=document.createElement("input");c="on"+c;var d=c in e;d||(e.setAttribute(c,"return;"),d="function"==typeof e[c]);return d},G=function(c,e,f){return(c=f.aliases[c])?(c.alias&&G(c.alias,void 0,f),d.extend(!0,f,c),d.extend(!0,f,e),!0):!1},K=function(c){function e(d){function e(c,d,b,g){this.matches=[];this.isGroup=c||!1;this.isOptional=d||!1;this.isQuantifier=b||!1;this.isAlternator=g||!1;this.quantifier={min:1,max:1}}function f(e,d,b){var g=
c.definitions[d],m=0==e.matches.length;b=void 0!=b?b:e.matches.length;if(g&&!u){for(var l=g.prevalidator,t=l?l.length:0,h=1;h<g.cardinality;h++){var s=t>=h?l[h-1]:[],r=s.validator,s=s.cardinality;e.matches.splice(b++,0,{fn:r?"string"==typeof r?RegExp(r):new function(){this.test=r}:/./,cardinality:s?s:1,optionality:e.isOptional,newBlockMarker:m,casing:g.casing,def:g.definitionSymbol||d})}e.matches.splice(b++,0,{fn:g.validator?"string"==typeof g.validator?RegExp(g.validator):new function(){this.test=
g.validator}:/./,cardinality:g.cardinality,optionality:e.isOptional,newBlockMarker:m,casing:g.casing,def:g.definitionSymbol||d})}else e.matches.splice(b++,0,{fn:null,cardinality:0,optionality:e.isOptional,newBlockMarker:m,casing:null,def:d}),u=!1}for(var h=/(?:[?*+]|\{[0-9\+\*]+(?:,[0-9\+\*]*)?\})\??|[^.?*+^${[]()|\\]+|./g,u=!1,q=new e,b,m=[],g=[];b=h.exec(d);)switch(b=b[0],b.charAt(0)){case c.optionalmarker.end:case c.groupmarker.end:var t=m.pop();0<m.length?m[m.length-1].matches.push(t):q.matches.push(t);
break;case c.optionalmarker.start:m.push(new e(!1,!0));break;case c.groupmarker.start:m.push(new e(!0));break;case c.quantifiermarker.start:t=new e(!1,!1,!0);b=b.replace(/[{}]/g,"");var A=b.split(",");b=isNaN(A[0])?A[0]:parseInt(A[0]);A=1==A.length?b:isNaN(A[1])?A[1]:parseInt(A[1]);if("*"==A||"+"==A)b="*"==b?0:1,c.greedy=!1;t.quantifier={min:b,max:A};if(0<m.length){A=m[m.length-1].matches;b=A.pop();if(!b.isGroup){var w=new e(!0);w.matches.push(b);b=w}A.push(b);A.push(t)}else b=q.matches.pop(),b.isGroup||
(w=new e(!0),w.matches.push(b),b=w),q.matches.push(b),q.matches.push(t);break;case c.escapeChar:u=!0;break;case c.alternatormarker:break;default:0<m.length?f(m[m.length-1],b):(0<q.matches.length&&(t=q.matches[q.matches.length-1],t.isGroup&&(t.isGroup=!1,f(t,c.groupmarker.start,0),f(t,c.groupmarker.end))),f(q,b))}0<q.matches.length&&g.push(q);return g}function f(l,f){if(c.numericInput){l=l.split("").reverse();for(var h in l)l[h]==c.optionalmarker.start?l[h]=c.optionalmarker.end:l[h]==c.optionalmarker.end?
l[h]=c.optionalmarker.start:l[h]==c.groupmarker.start?l[h]=c.groupmarker.end:l[h]==c.groupmarker.end&&(l[h]=c.groupmarker.start);l=l.join("")}if(void 0!=l&&""!=l){if(0<c.repeat||"*"==c.repeat||"+"==c.repeat)l=c.groupmarker.start+l+c.groupmarker.end+c.quantifiermarker.start+("*"==c.repeat?0:"+"==c.repeat?1:c.repeat)+","+c.repeat+c.quantifiermarker.end;void 0==d.inputmask.masksCache[l]&&(d.inputmask.masksCache[l]={mask:l,maskToken:e(l),validPositions:{},_buffer:void 0,buffer:void 0,tests:{},metadata:f});
return d.extend(!0,{},d.inputmask.masksCache[l])}}var h=[];d.isFunction(c.mask)&&(c.mask=c.mask.call(this,c));d.isArray(c.mask)?d.each(c.mask,function(c,e){void 0!=e.mask?h.push(f(e.mask.toString(),e)):h.push(f(e.toString()))}):(1==c.mask.length&&!1==c.greedy&&0!=c.repeat&&(c.placeholder=""),h=void 0!=c.mask.mask?f(c.mask.mask.toString(),c.mask):f(c.mask.toString()));return h},da="function"===typeof ScriptEngineMajorVersion?ScriptEngineMajorVersion():10<=(new Function("/*@cc_on return @_jscript_version; @*/"))(),
x=navigator.userAgent,ea=null!==x.match(/iphone/i),fa=null!==x.match(/android.*safari.*/i),ga=null!==x.match(/android.*chrome.*/i),Y=null!==x.match(/android.*firefox.*/i),Z=/Kindle/i.test(x)||/Silk/i.test(x)||/KFTT/i.test(x)||/KFOT/i.test(x)||/KFJWA/i.test(x)||/KFJWI/i.test(x)||/KFSOWI/i.test(x)||/KFTHWA/i.test(x)||/KFTHWI/i.test(x)||/KFAPWA/i.test(x)||/KFAPWI/i.test(x),S=P("paste")?"paste":P("input")?"input":"propertychange",D=function(c,e,f){function h(a,k,v){k=k||0;var d=[],g,n=0,y;do{if(!0===
a&&c.validPositions[n]){var m=c.validPositions[n];y=m.match;g=m.locator.slice();d.push(null==y.fn?y.def:!0===v?m.input:e.placeholder.charAt(n%e.placeholder.length))}else g=k>n?b(n,g,n-1)[0]:R(n,g,n-1),y=g.match,g=g.locator.slice(),d.push(null==y.fn?y.def:e.placeholder.charAt(n%e.placeholder.length));n++}while((void 0==H||n-1<H)&&null!=y.fn||null==y.fn&&""!=y.def||k>=n);d.pop();return d}function l(a){var k=c;k.buffer=void 0;k.tests={};!0!==a&&(k._buffer=void 0,k.validPositions={},k.p=-1)}function r(a){var k=
c,v=-1,b=k.validPositions;if(d.isFunction(e.getLastValidPosition))v=e.getLastValidPosition.call(p,k,a,e);else{void 0==a&&(a=-1);var k=v,g;for(g in b){var n=parseInt(g);if(-1==a||null!=b[n].match.fn)n<a&&(k=n),n>=a&&(v=n)}v=1<a-k||v<a?k:v}return v}function s(a,k,v){if(e.insertMode&&void 0!=c.validPositions[a]&&void 0==v){v=d.extend(!0,{},c.validPositions);var b=r(),g;for(g=a;g<=b;g++)delete c.validPositions[g];c.validPositions[a]=k;k=!0;for(g=a;g<=b;g++){a=v[g];if(void 0!=a){var n=null==a.match.fn?
g+1:E(g);k=q(n,a.match.def)?k&&!1!==w(n,a.input,!0,!0):!1}if(!k)break}if(!k)return c.validPositions=d.extend(!0,{},v),!1}else c.validPositions[a]=k;return!0}function R(a,k,c){a=b(a,k,c);var d,g;for(g in a)if(d=a[g],e.greedy||(!1===d.match.optionality||!1===d.match.newBlockMarker)&&!0!==d.match.optionalQuantifier)break;return d}function u(a){return c.validPositions[a]?c.validPositions[a].match:b(a)[0].match}function q(a,k){var c=!1,d=b(a),e;for(e in d)if(d[e].match.def==k){c=!0;break}return c}function b(a,
k,d){function e(k,c,d,g){function v(d,g,h){if(b==a&&void 0==d.matches)return m.push({match:d,locator:g.reverse()}),!0;if(void 0!=d.matches)if(d.isGroup&&!0!==h){if(d=v(k.matches[f+1],g))return!0}else if(d.isOptional){var B=d;if(d=e(d,c,g,h))d=m[m.length-1].match,(d=0==B.matches.indexOf(d))&&(l=!0),b=a}else{if(!d.isAlternator)if(d.isQuantifier&&!0!==h)for(B=d,h=0<c.length&&!0!==h?c.shift():0;h<(isNaN(B.quantifier.max)?h+1:B.quantifier.max)&&b<=a;h++){var t=k.matches[k.matches.indexOf(B)-1];if(d=v(t,
[h].concat(g),!0))if(d=m[m.length-1].match,d.optionalQuantifier=h>B.quantifier.min-1,d=0==t.matches.indexOf(d))if(h>B.quantifier.min-1){l=!0;b=a;break}else return!0;else return!0}else if(d=e(d,c,g,h))return!0}else b++}for(var f=0<c.length?c.shift():0;f<k.matches.length;f++)if(!0!==k.matches[f].isQuantifier){var h=v(k.matches[f],[f].concat(d),g);if(h&&b==a)return h;if(b>a)break}}var g=c.maskToken,b=k?d:0;d=k||[0];var m=[],l=!1;if(void 0==k){k=a-1;for(var f;void 0==(f=c.validPositions[k])&&-1<k;)k--;
if(void 0!=f&&-1<k)b=k,d=f.locator.slice();else{for(k=a-1;void 0==(f=c.tests[k])&&-1<k;)k--;void 0!=f&&-1<k&&(b=k,d=f[0].locator.slice())}}for(k=d.shift();k<g.length&&!(e(g[k],d,[k])&&b==a||b>a);k++);(0==m.length||l)&&m.push({match:{fn:null,cardinality:0,optionality:!0,casing:null,def:""},locator:[]});return c.tests[a]=m}function m(){void 0==c._buffer&&(c._buffer=h(!1,1));return c._buffer}function g(){void 0==c.buffer&&(c.buffer=h(!0,r(),!0));return c.buffer}function t(a,k){for(var d=g().slice(),
c=a;c<k;c++)d[c]!=O(c)&&d[c]!=e.skipOptionalPartCharacter&&w(c,d[c],!0,!0)}function A(a,d){switch(d.casing){case "upper":a=a.toUpperCase();break;case "lower":a=a.toLowerCase()}return a}function w(a,k,v,T){function m(a,k,v,n){var f=!1;d.each(b(a),function(T,m){for(var h=m.match,B=k?1:0,y="",p=g(),w=h.cardinality;w>B;w--)y+=void 0==c.validPositions[a-(w-1)]?O(a-(w-1)):c.validPositions[a-(w-1)].input;k&&(y+=k);f=null!=h.fn?h.fn.test(y,p,a,v,e):k!=h.def&&k!=e.skipOptionalPartCharacter||""==h.def?!1:{c:h.def,
pos:a};if(!1!==f){B=void 0!=f.c?f.c:k;B=B==e.skipOptionalPartCharacter&&null===h.fn?h.def:B;y=a;if(f.refreshFromBuffer){y=f.refreshFromBuffer;v=!0;!0===y?(c.validPositions={},c.tests={},t(0,g().length)):t(y.start,y.end);if(void 0==f.pos&&void 0==f.c)return f.pos=r(),!1;y=void 0!=f.pos?f.pos:a;m=b(y)[0]}else!0!==f&&f.pos!=a&&(y=f.pos,t(a,y),m=b(y)[0]);0<T&&l(!0);s(y,d.extend({},m,{input:A(B,h)}),n)||(f=!1);return!1}});return f}v=!0===v;var n=m(a,k,v,T);if(!v&&!1===n){var f=c.validPositions[a];if(f&&
null==f.match.fn&&(f.match.def==k||k==e.skipOptionalPartCharacter))n={caret:E(a)};else if((e.insertMode||void 0==c.validPositions[E(a)])&&!x(a))for(var f=a+1,h=E(a);f<=h;f++)if(n=m(f,k,v,T),!1!==n){a=f;break}}!0===n&&(n={pos:a});return n}function x(a){a=u(a);return null!=a.fn?a.fn:!1}function D(){var a;H=p.prop("maxLength");-1==H&&(H=void 0);if(!1==e.greedy){var d;d=r();a=c.validPositions[d];var v=void 0!=a?a.locator.slice():void 0;for(d+=1;void 0==a||null!=a.match.fn||null==a.match.fn&&""!=a.match.def;d++)a=
R(d,v,d-1),v=a.locator.slice();a=d}else a=g().length;return void 0==H||a<H?a:H}function E(a){var d=D();if(a>=d)return d;for(;++a<d&&!x(a)&&(!0!==e.nojumps||e.nojumpsThreshold>a););return a}function Q(a){if(0>=a)return 0;for(;0<--a&&!x(a););return a}function F(a,d,c){a._valueSet(d.join(""));void 0!=c&&z(a,c)}function O(a,d){d=d||u(a);return null==d.fn?d.def:e.placeholder.charAt(a%e.placeholder.length)}function J(a,k,e,b,f){b=void 0!=b?b.slice():K(a._valueGet()).split("");l();k&&a._valueSet("");d.each(b,
function(k,g){if(!0===f){var b=c.p,b=-1==b?b:Q(b),h=-1==b?k:E(b);-1==d.inArray(g,m().slice(b+1,h))&&U.call(a,void 0,!0,g.charCodeAt(0),!1,e,k)}else U.call(a,void 0,!0,g.charCodeAt(0),!1,e,k),e=e||0<k&&k>c.p});k&&F(a,g(),E(r(0)))}function G(a){return d.inputmask.escapeRegex.call(this,a)}function K(a){return a.replace(RegExp("("+G(m().join(""))+")*$"),"")}function M(a){var d=g().slice(),e,b=r(),f={},n=c.validPositions[b].locator.slice(),m;for(e=b+1;e<d.length;e++)m=R(e,n,e-1),n=m.locator.slice(),f[e]=
m;for(e=d.length-1;e>b;e--)if(m=f[e].match,m.optionality&&d[e]==O(e,m))d.pop();else break;F(a,d)}function P(a,k){if(!a.data("_inputmask")||!0!==k&&a.hasClass("hasDatepicker"))return a[0]._valueGet();var b=[],f=c.validPositions,m;for(m in f)null!=f[m].match.fn&&b.push(f[m].input);b=(C?b.reverse():b).join("");f=(C?g().reverse():g()).join("");return d.isFunction(e.onUnMask)?e.onUnMask.call(a,f,b,e):b}function L(a){!C||"number"!=typeof a||e.greedy&&""==e.placeholder||(a=g().length-a);return a}function z(a,
c,b){a=a.jquery&&0<a.length?a[0]:a;if("number"==typeof c){c=L(c);b=L(b);b="number"==typeof b?b:c;var g=d(a).data("_inputmask")||{};g.caret={begin:c,end:b};d(a).data("_inputmask",g);d(a).is(":visible")&&(a.scrollLeft=a.scrollWidth,!1==e.insertMode&&c==b&&b++,a.setSelectionRange?(a.selectionStart=c,a.selectionEnd=b):a.createTextRange&&(a=a.createTextRange(),a.collapse(!0),a.moveEnd("character",b),a.moveStart("character",c),a.select()))}else return g=d(a).data("_inputmask"),!d(a).is(":visible")&&g&&
void 0!=g.caret?(c=g.caret.begin,b=g.caret.end):a.setSelectionRange?(c=a.selectionStart,b=a.selectionEnd):document.selection&&document.selection.createRange&&(a=document.selection.createRange(),c=0-a.duplicate().moveStart("character",-1E5),b=c+a.text.length),c=L(c),b=L(b),{begin:c,end:b}}function N(a){if(d.isFunction(e.isComplete))return e.isComplete.call(p,a,e);if("*"!=e.repeat){var c=!1,b=Q(D());if(r()==b)for(var c=!0,g=0;g<=b;g++){var f=x(g);if(f&&(void 0==a[g]||a[g]==O(g))||!f&&a[g]!=O(g)){c=
!1;break}}return c}}function ha(a){a=d._data(a).events;d.each(a,function(a,c){d.each(c,function(a,d){if("inputmask"==d.namespace&&"setvalue"!=d.type){var c=d.handler;d.handler=function(a){if(this.readOnly||this.disabled)a.preventDefault;else return c.apply(this,arguments)}}})})}function ia(a){function c(a){if(void 0==d.valHooks[a]||!0!=d.valHooks[a].inputmaskpatch){var b=d.valHooks[a]&&d.valHooks[a].get?d.valHooks[a].get:function(a){return a.value},e=d.valHooks[a]&&d.valHooks[a].set?d.valHooks[a].set:
function(a,d){a.value=d;return a};d.valHooks[a]={get:function(a){var c=d(a);if(c.data("_inputmask")){if(c.data("_inputmask").opts.autoUnmask)return c.inputmask("unmaskedvalue");a=b(a);c=(c=c.data("_inputmask").maskset._buffer)?c.join(""):"";return a!=c?a:""}return b(a)},set:function(a,c){var b=d(a),g=e(a,c);b.data("_inputmask")&&b.triggerHandler("setvalue.inputmask");return g},inputmaskpatch:!0}}}var b;Object.getOwnPropertyDescriptor&&(b=Object.getOwnPropertyDescriptor(a,"value"));if(b&&b.get){if(!a._valueGet){var e=
b.get,g=b.set;a._valueGet=function(){return C?e.call(this).split("").reverse().join(""):e.call(this)};a._valueSet=function(a){g.call(this,C?a.split("").reverse().join(""):a)};Object.defineProperty(a,"value",{get:function(){var a=d(this),c=d(this).data("_inputmask"),b=c.maskset;return c&&c.opts.autoUnmask?a.inputmask("unmaskedvalue"):e.call(this)!=b._buffer.join("")?e.call(this):""},set:function(a){g.call(this,a);d(this).triggerHandler("setvalue.inputmask")}})}}else document.__lookupGetter__&&a.__lookupGetter__("value")?
a._valueGet||(e=a.__lookupGetter__("value"),g=a.__lookupSetter__("value"),a._valueGet=function(){return C?e.call(this).split("").reverse().join(""):e.call(this)},a._valueSet=function(a){g.call(this,C?a.split("").reverse().join(""):a)},a.__defineGetter__("value",function(){var a=d(this),c=d(this).data("_inputmask"),b=c.maskset;return c&&c.opts.autoUnmask?a.inputmask("unmaskedvalue"):e.call(this)!=b._buffer.join("")?e.call(this):""}),a.__defineSetter__("value",function(a){g.call(this,a);d(this).triggerHandler("setvalue.inputmask")})):
(a._valueGet||(a._valueGet=function(){return C?this.value.split("").reverse().join(""):this.value},a._valueSet=function(a){this.value=C?a.split("").reverse().join(""):a}),c(a.type))}function $(a,d,b){if(e.numericInput||C){switch(d){case e.keyCode.BACKSPACE:d=e.keyCode.DELETE;break;case e.keyCode.DELETE:d=e.keyCode.BACKSPACE}C&&(a=b.end,b.end=b.begin,b.begin=a)}b.begin==b.end?d==e.keyCode.BACKSPACE?b.begin=Q(b.begin):d==e.keyCode.DELETE&&b.end++:1!=b.end-b.begin||e.insertMode||d==e.keyCode.BACKSPACE&&
b.begin--;a=b.begin;var g=b.end;for(d=a;a<g;a++)delete c.validPositions[a];for(a=g;a<=r();){var g=c.validPositions[a],f=c.validPositions[d];void 0!=g&&void 0==f?(q(d,g.match.def)&&!1!==w(d,g.input,!0)&&(delete c.validPositions[a],a++),d++):a++}for(d=r();0<d&&(void 0==c.validPositions[d]||null==c.validPositions[d].match.fn);)delete c.validPositions[d],d--;l(!0);d=E(-1);r()<d?c.p=d:c.p=b.begin}function V(a){W=!1;var b=this,f=d(b),h=a.keyCode,B=z(b);h==e.keyCode.BACKSPACE||h==e.keyCode.DELETE||ea&&127==
h||a.ctrlKey&&88==h?(a.preventDefault(),88==h&&(I=g().join("")),$(b,h,B),F(b,g(),c.p),b._valueGet()==m().join("")&&f.trigger("cleared"),e.showTooltip&&f.prop("title",c.mask)):h==e.keyCode.END||h==e.keyCode.PAGE_DOWN?setTimeout(function(){var d=E(r());e.insertMode||d!=D()||a.shiftKey||d--;z(b,a.shiftKey?B.begin:d,d)},0):h==e.keyCode.HOME&&!a.shiftKey||h==e.keyCode.PAGE_UP?z(b,0,a.shiftKey?B.begin:0):h==e.keyCode.ESCAPE||90==h&&a.ctrlKey?(J(b,!0,!1,I.split("")),f.click()):h!=e.keyCode.INSERT||a.shiftKey||
a.ctrlKey?!1!=e.insertMode||a.shiftKey||(h==e.keyCode.RIGHT?setTimeout(function(){var a=z(b);z(b,a.begin)},0):h==e.keyCode.LEFT&&setTimeout(function(){var a=z(b);z(b,a.begin-1)},0)):(e.insertMode=!e.insertMode,z(b,e.insertMode||B.begin!=D()?B.begin:B.begin-1));var f=z(b),n=e.onKeyDown.call(this,a,g(),e);n&&!0===n.refreshFromBuffer&&(c.validPositions={},c.tests={},t(0,g().length),l(!0),F(b,g()),z(b,f.begin,f.end));aa=-1!=d.inArray(h,e.ignorables)}function U(a,b,f,h,m,n){if(void 0==f&&W)return!1;W=
!0;var t=d(this);a=a||window.event;f=b?f:a.which||a.charCode||a.keyCode;if(!(!0===b||a.ctrlKey&&a.altKey)&&(a.ctrlKey||a.metaKey||aa))return!0;if(f){!0!==b&&46==f&&!1==a.shiftKey&&","==e.radixPoint&&(f=44);var p;f=String.fromCharCode(f);b?(n=m?n:r()+1,n={begin:n,end:n}):n=z(this);var A=C?1<n.begin-n.end||1==n.begin-n.end&&e.insertMode:1<n.end-n.begin||1==n.end-n.begin&&e.insertMode;A&&(c.undoPositions=d.extend(!0,{},c.validPositions),$(this,e.keyCode.DELETE,n),e.insertMode||(e.insertMode=!e.insertMode,
s(n.begin,m),e.insertMode=!e.insertMode),A=!e.multi);c.writeOutBuffer=!0;var q=n.begin,u=w(q,f,m);!1!==u&&(!0!==u&&(q=void 0!=u.pos?u.pos:q,f=void 0!=u.c?u.c:f),l(!0),void 0!=u.caret?p=u.caret:(m=c.validPositions,p=void 0!=m[q+1]&&R(n+1,m[q].locator.slice(),q).match.def!=m[q+1].match.def?q+1:E(q)),c.p=p);if(!1!==h){var x=this;setTimeout(function(){e.onKeyValidation.call(x,u,e)},0);if(c.writeOutBuffer&&!1!==u){var D=g();F(this,D,b?void 0:e.numericInput?Q(p):p);!0!==b&&setTimeout(function(){!0===N(D)&&
t.trigger("complete");X=!0;t.trigger("input")},0)}else A&&(c.buffer=void 0,c.validPositions=c.undoPositions)}else A&&(c.buffer=void 0,c.validPositions=c.undoPositions);e.showTooltip&&t.prop("title",c.mask);a&&!0!=b&&(a.preventDefault?a.preventDefault():a.returnValue=!1)}}function ba(a){var b=d(this),f=a.keyCode,m=g();(a=e.onKeyUp.call(this,a,m,e))&&!0===a.refreshFromBuffer&&(c.validPositions={},c.tests={},t(0,g().length),l(!0),F(this,g()));f==e.keyCode.TAB&&e.showMaskOnFocus&&(b.hasClass("focus.inputmask")&&
0==this._valueGet().length?(l(),m=g(),F(this,m),z(this,0),I=g().join("")):(F(this,m),z(this,L(0),L(D()))))}function ca(a){if(!0===X&&"input"==a.type)return X=!1,!0;var b=this,c=d(b);if("propertychange"==a.type&&b._valueGet().length<=D())return!0;setTimeout(function(){var a=d.isFunction(e.onBeforePaste)?e.onBeforePaste.call(b,b._valueGet(),e):b._valueGet();J(b,!0,!1,a.split(""),!0);!0===N(g())&&c.trigger("complete");c.click()},0)}function ja(a){var b=d(this),c=z(this),f=this._valueGet(),f=f.replace(RegExp("("+
G(m().join(""))+")*"),"");c.begin>f.length&&(z(this,f.length),c=z(this));1!=g().length-f.length||f.charAt(c.begin)==g()[c.begin]||f.charAt(c.begin+1)==g()[c.begin]||x(c.begin)?(J(this,!0,!1,f.split("")),!0===N(g())&&b.trigger("complete"),b.click()):(a.keyCode=e.keyCode.BACKSPACE,V.call(this,a));a.preventDefault()}function ka(a){p=d(a);if(p.is(":input")){p.data("_inputmask",{maskset:c,opts:e,isRTL:!1});e.showTooltip&&p.prop("title",c.mask);ia(a);("rtl"==a.dir||e.rightAlign)&&p.css("text-align","right");
if("rtl"==a.dir||e.numericInput){a.dir="ltr";p.removeAttr("dir");var b=p.data("_inputmask");b.isRTL=!0;p.data("_inputmask",b);C=!0}p.unbind(".inputmask");p.removeClass("focus.inputmask");p.closest("form").bind("submit",function(){I!=g().join("")&&p.change()}).bind("reset",function(){setTimeout(function(){p.trigger("setvalue")},0)});p.bind("mouseenter.inputmask",function(){!d(this).hasClass("focus.inputmask")&&e.showMaskOnHover&&this._valueGet()!=g().join("")&&F(this,g())}).bind("blur.inputmask",function(){var a=
d(this);if(a.data("_inputmask")){var b=this._valueGet(),c=g();a.removeClass("focus.inputmask");I!=g().join("")&&a.change();e.clearMaskOnLostFocus&&""!=b&&(b==m().join("")?this._valueSet(""):M(this));!1===N(c)&&(a.trigger("incomplete"),e.clearIncomplete&&(l(),e.clearMaskOnLostFocus?this._valueSet(""):(c=m().slice(),F(this,c))))}}).bind("focus.inputmask",function(){var a=d(this),b=this._valueGet();e.showMaskOnFocus&&!a.hasClass("focus.inputmask")&&(!e.showMaskOnHover||e.showMaskOnHover&&""==b)&&this._valueGet()!=
g().join("")&&F(this,g(),E(r()));a.addClass("focus.inputmask");I=g().join("")}).bind("mouseleave.inputmask",function(){var a=d(this);e.clearMaskOnLostFocus&&(a.hasClass("focus.inputmask")||this._valueGet()==a.attr("placeholder")||(this._valueGet()==m().join("")||""==this._valueGet()?this._valueSet(""):M(this)))}).bind("click.inputmask",function(){var a=this;setTimeout(function(){var b=z(a);g();if(b.begin==b.end){var b=C?L(b.begin):b.begin,d=r(b),d=E(d);b<d?x(b)?z(a,b):z(a,E(b)):z(a,d)}},0)}).bind("dblclick.inputmask",
function(){var a=this;setTimeout(function(){z(a,0,E(r()))},0)}).bind(S+".inputmask dragdrop.inputmask drop.inputmask",ca).bind("setvalue.inputmask",function(){J(this,!0);I=g().join("");this._valueGet()==m().join("")&&this._valueSet("")}).bind("complete.inputmask",e.oncomplete).bind("incomplete.inputmask",e.onincomplete).bind("cleared.inputmask",e.oncleared);p.bind("keydown.inputmask",V).bind("keypress.inputmask",U).bind("keyup.inputmask",ba);if(fa||Y||ga||Z)p.attr("autocomplete","off").attr("autocorrect",
"off").attr("autocapitalize","off").attr("spellcheck",!1),(Y||Z)&&p.unbind("keydown.inputmask",V).unbind("keypress.inputmask",U).unbind("keyup.inputmask",ba),"input"==S&&p.unbind(S+".inputmask"),p.bind("input.inputmask",ja);da&&p.bind("input.inputmask",ca);b=d.isFunction(e.onBeforeMask)?e.onBeforeMask.call(a,a._valueGet(),e):a._valueGet();J(a,!1,!1,b.split(""),!0);F(a,g());I=g().join("");var f;try{f=document.activeElement}catch(h){}f===a?(p.addClass("focus.inputmask"),z(a,E(r()))):e.clearMaskOnLostFocus?
g().join("")==m().join("")?a._valueSet(""):M(a):F(a,g());ha(a)}}var C=!1,I=g().join(""),p,W=!1,X=!1,aa=!1,H;if(void 0!=f)switch(f.action){case "isComplete":return p=d(f.el),N(f.buffer);case "unmaskedvalue":return p=f.$input,C=f.$input.data("_inputmask").isRTL,P(f.$input,f.skipDatepickerCheck);case "mask":ka(f.el);break;case "format":return p=d({}),p.data("_inputmask",{maskset:c,opts:e,isRTL:e.numericInput}),e.numericInput&&(C=!0),f=f.value.split(""),J(p,!1,!1,C?f.reverse():f,!0),C?g().reverse().join(""):
g().join("");case "isValid":return p=d({}),p.data("_inputmask",{maskset:c,opts:e,isRTL:e.numericInput}),e.numericInput&&(C=!0),f=f.value.split(""),J(p,!1,!0,C?f.reverse():f),N(g())}},M=function(c,e,f){function h(b,e,g){b=b.jquery&&0<b.length?b[0]:b;if("number"==typeof e){e=l(e);g=l(g);g="number"==typeof g?g:e;if(b!=c){var h=d(b).data("_inputmask")||{};h.caret={begin:e,end:g};d(b).data("_inputmask",h)}d(b).is(":visible")&&(b.scrollLeft=b.scrollWidth,!1==f.insertMode&&e==g&&g++,b.setSelectionRange?
(b.selectionStart=e,b.selectionEnd=g):b.createTextRange&&(b=b.createTextRange(),b.collapse(!0),b.moveEnd("character",g),b.moveStart("character",e),b.select()))}else return h=d(b).data("_inputmask"),!d(b).is(":visible")&&h&&void 0!=h.caret?(e=h.caret.begin,g=h.caret.end):b.setSelectionRange?(e=b.selectionStart,g=b.selectionEnd):document.selection&&document.selection.createRange&&(b=document.selection.createRange(),e=0-b.duplicate().moveStart("character",-1E5),g=e+b.text.length),e=l(e),g=l(g),{begin:e,
end:g}}function l(b){!x||"number"!=typeof b||f.greedy&&""==f.placeholder||(b=c.value.length-b);return b}function r(b,e){if("multiMaskScope"!=b){if(d.isFunction(f.determineActiveMasksetIndex))u=f.determineActiveMasksetIndex.call(s,b,e);else{var g=-1,l=-1,q=-1;d.each(e,function(b,c){var e=d(c).data("_inputmask").maskset,f=-1,m=0,s=h(c).begin,w;for(w in e.validPositions)e=parseInt(w),e>f&&(f=e),m++;if(m>g||m==g&&l>s&&q>f||m==g&&l==s&&q<f)g=m,l=s,u=b,q=f})}var w=s.data("_inputmask-multi")||{activeMasksetIndex:0,
elmasks:e};w.activeMasksetIndex=u;s.data("_inputmask-multi",w)}-1==["focus"].indexOf(b)&&c.value!=e[u]._valueGet()&&(w=""==d(e[u]).val()?e[u]._valueGet():d(e[u]).val(),c.value=w);-1==["blur","focus"].indexOf(b)&&d(e[u]).hasClass("focus.inputmask")&&(w=h(e[u]),h(c,w.begin,w.end))}f.multi=!0;var s=d(c),x="rtl"==c.dir||f.numericInput,u=0,q=d.map(e,function(b,c){var e='<input type="text" ';s.attr("value")&&(e+='value="'+s.attr("value")+'" ');s.attr("dir")&&(e+='dir="'+s.attr("dir")+'" ');e=d(e+"/>")[0];
D(d.extend(!0,{},b),f,{action:"mask",el:e});return e});s.data("_inputmask-multi",{activeMasksetIndex:0,elmasks:q});("rtl"==c.dir||f.rightAlign)&&s.css("text-align","right");c.dir="ltr";s.removeAttr("dir");""!=s.attr("value")&&r("init",q);s.bind("mouseenter blur focus mouseleave click dblclick keydown keypress keypress",function(b){var e=h(c),g,t=!0;if("keydown"==b.type){g=b.keyCode;if(g==f.keyCode.DOWN&&u<q.length-1)return u++,r("multiMaskScope",q),!1;if(g==f.keyCode.UP&&0<u)return u--,r("multiMaskScope",
q),!1;if(b.ctrlKey||b.shiftKey||b.altKey)return!0}else if("keypress"==b.type&&(b.ctrlKey||b.shiftKey||b.altKey))return!0;d.each(q,function(c,s){if("keydown"==b.type){g=b.keyCode;if(g==f.keyCode.BACKSPACE&&s._valueGet().length<e.begin)return;if(g==f.keyCode.TAB)t=!1;else{if(g==f.keyCode.RIGHT){h(s,e.begin+1,e.end+1);t=!1;return}if(g==f.keyCode.LEFT){h(s,e.begin-1,e.end-1);t=!1;return}}}if(-1!=["click"].indexOf(b.type)&&(h(s,l(e.begin),l(e.end)),e.begin!=e.end)){t=!1;return}-1!=["keydown"].indexOf(b.type)&&
e.begin!=e.end&&h(s,e.begin,e.end);d(s).triggerHandler(b)});t&&setTimeout(function(){r(b.type,q)},0)});s.bind(S+" dragdrop drop setvalue",function(b){h(c);setTimeout(function(){d.each(q,function(e,g){g._valueSet(c.value);d(g).triggerHandler(b)});setTimeout(function(){r(b.type,q)},0)},0)});(function(b){if(void 0==d.valHooks[b]||!0!=d.valHooks[b].inputmaskmultipatch){var c=d.valHooks[b]&&d.valHooks[b].get?d.valHooks[b].get:function(b){return b.value},e=d.valHooks[b]&&d.valHooks[b].set?d.valHooks[b].set:
function(b,d){b.value=d;return b};d.valHooks[b]={get:function(b){var e=d(b);return e.data("_inputmask-multi")?(b=e.data("_inputmask-multi"),c(b.elmasks[b.activeMasksetIndex])):c(b)},set:function(b,c){var f=d(b),h=e(b,c);f.data("_inputmask-multi")&&f.triggerHandler("setvalue");return h},inputmaskmultipatch:!0}}})(c.type)};d.inputmask={defaults:{placeholder:"_",optionalmarker:{start:"[",end:"]"},quantifiermarker:{start:"{",end:"}"},groupmarker:{start:"(",end:")"},alternatormarker:"|",escapeChar:"\\",
mask:null,oncomplete:d.noop,onincomplete:d.noop,oncleared:d.noop,repeat:0,greedy:!0,autoUnmask:!1,clearMaskOnLostFocus:!0,insertMode:!0,clearIncomplete:!1,aliases:{},onKeyUp:d.noop,onKeyDown:d.noop,onBeforeMask:void 0,onBeforePaste:void 0,onUnMask:void 0,showMaskOnFocus:!0,showMaskOnHover:!0,onKeyValidation:d.noop,skipOptionalPartCharacter:" ",showTooltip:!1,numericInput:!1,getLastValidPosition:void 0,rightAlign:!1,radixPoint:"",definitions:{9:{validator:"[0-9]",cardinality:1,definitionSymbol:"*"},
a:{validator:"[A-Za-z\u0410-\u044f\u0401\u0451]",cardinality:1,definitionSymbol:"*"},"*":{validator:"[A-Za-z\u0410-\u044f\u0401\u04510-9]",cardinality:1}},keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,
SPACE:32,TAB:9,UP:38,WINDOWS:91},ignorables:[8,9,13,19,27,33,34,35,36,37,38,39,40,45,46,93,112,113,114,115,116,117,118,119,120,121,122,123],isComplete:void 0,multi:!1,nojumps:!1,nojumpsThreshold:0,determineActiveMasksetIndex:void 0},masksCache:{},escapeRegex:function(d){return d.replace(RegExp("(\\/|\\.|\\*|\\+|\\?|\\||\\(|\\)|\\[|\\]|\\{|\\}|\\\\)","gim"),"\\$1")},format:function(c,e){var f=d.extend(!0,{},d.inputmask.defaults,e);G(f.alias,e,f);return D(K(f),f,{action:"format",value:c})},isValid:function(c,
e){var f=d.extend(!0,{},d.inputmask.defaults,e);G(f.alias,e,f);return D(K(f),f,{action:"isValid",value:c})}};d.fn.inputmask=function(c,e){function f(c,e){var f=d(c),h;for(h in e){var b=f.data("inputmask-"+h.toLowerCase());void 0!=b&&(e[h]=b)}return e}var h=d.extend(!0,{},d.inputmask.defaults,e),l;if("string"===typeof c)switch(c){case "mask":return G(h.alias,e,h),l=K(h),0==l.length?this:this.each(function(){d.isArray(l)?M(this,l,f(this,h)):D(d.extend(!0,{},l),f(this,h),{action:"mask",el:this})});case "unmaskedvalue":var r=
d(this);return r.data("_inputmask")?(l=r.data("_inputmask").maskset,h=r.data("_inputmask").opts,D(l,h,{action:"unmaskedvalue",$input:r})):r.val();case "remove":return this.each(function(){var c=d(this);if(c.data("_inputmask")){l=c.data("_inputmask").maskset;h=c.data("_inputmask").opts;this._valueSet(D(l,h,{action:"unmaskedvalue",$input:c,skipDatepickerCheck:!0}));c.unbind(".inputmask");c.removeClass("focus.inputmask");c.removeData("_inputmask");var e;Object.getOwnPropertyDescriptor&&(e=Object.getOwnPropertyDescriptor(this,
"value"));e&&e.get?this._valueGet&&Object.defineProperty(this,"value",{get:this._valueGet,set:this._valueSet}):document.__lookupGetter__&&this.__lookupGetter__("value")&&this._valueGet&&(this.__defineGetter__("value",this._valueGet),this.__defineSetter__("value",this._valueSet));try{delete this._valueGet,delete this._valueSet}catch(f){this._valueSet=this._valueGet=void 0}}});case "getemptymask":return this.data("_inputmask")?(l=this.data("_inputmask").maskset,l._buffer.join("")):"";case "hasMaskedValue":return this.data("_inputmask")?
!this.data("_inputmask").opts.autoUnmask:!1;case "isComplete":return this.data("_inputmask")?(l=this.data("_inputmask").maskset,h=this.data("_inputmask").opts,D(l,h,{action:"isComplete",buffer:this[0]._valueGet().split(""),el:this})):!0;case "getmetadata":if(this.data("_inputmask"))return l=this.data("_inputmask").maskset,l.metadata;break;default:return G(c,e,h)||(h.mask=c),l=K(h),void 0==l?this:this.each(function(){d.isArray(l)?M(this,l,f(this,h)):D(d.extend(!0,{},l),f(this,h),{action:"mask",el:this})})}else{if("object"==
typeof c)return h=d.extend(!0,{},d.inputmask.defaults,c),G(h.alias,c,h),l=K(h),void 0==l?this:this.each(function(){d.isArray(l)?M(this,l,f(this,h)):D(d.extend(!0,{},l),f(this,h),{action:"mask",el:this})});if(void 0==c)return this.each(function(){var c=d(this).attr("data-inputmask");if(c&&""!=c)try{var c=c.replace(RegExp("'","g"),'"'),f=d.parseJSON("{"+c+"}");d.extend(!0,f,e);h=d.extend(!0,{},d.inputmask.defaults,f);G(h.alias,f,h);h.alias=void 0;d(this).inputmask(h)}catch(l){}})}}}})(jQuery);
