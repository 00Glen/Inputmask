/*
 Input Mask plugin for jquery
 http://github.com/RobinHerbots/jquery.inputmask
 Copyright (c) 2010 - 2013 Robin Herbots
 Licensed under the MIT license (http://www.opensource.org/licenses/mit-license.php)
 Version: 2.3.37
*/
(function(b){void 0==b.fn.inputmask&&(b.inputmask={defaults:{placeholder:"_",optionalmarker:{start:"[",end:"]"},quantifiermarker:{start:"{",end:"}"},groupmarker:{start:"(",end:")"},escapeChar:"\\",mask:null,oncomplete:b.noop,onincomplete:b.noop,oncleared:b.noop,repeat:0,greedy:!0,autoUnmask:!1,clearMaskOnLostFocus:!0,insertMode:!0,clearIncomplete:!1,aliases:{},onKeyUp:b.noop,onKeyDown:b.noop,showMaskOnFocus:!0,showMaskOnHover:!0,onKeyValidation:b.noop,skipOptionalPartCharacter:" ",showTooltip:!1,
numericInput:!1,isNumeric:!1,radixPoint:"",skipRadixDance:!1,rightAlignNumerics:!0,definitions:{9:{validator:"[0-9]",cardinality:1},a:{validator:"[A-Za-z\u0410-\u044f\u0401\u0451]",cardinality:1},"*":{validator:"[A-Za-z\u0410-\u044f\u0401\u04510-9]",cardinality:1}},keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,
NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91},ignorables:[8,9,13,19,27,33,34,35,36,37,38,39,40,45,46,93,112,113,114,115,116,117,118,119,120,121,122,123],getMaskLength:function(b,A,B,G){var C=b.length;A||("*"==B?C=G.length+1:1<B&&(C+=b.length*(B-1)));return C}},escapeRegex:function(b){return b.replace(RegExp("(\\/|\\.|\\*|\\+|\\?|\\||\\(|\\)|\\[|\\]|\\{|\\}|\\\\)","gim"),"\\$1")}},b.fn.inputmask=function(z,
A){function B(a){var b=document.createElement("input"),a="on"+a,c=a in b;c||(b.setAttribute(a,"return;"),c="function"==typeof b[a]);return c}function G(d,f){var c=a.aliases[d];return c?(c.alias&&G(c.alias),b.extend(!0,a,c),b.extend(!0,a,f),!0):!1}function C(d){a.numericInput&&(d=d.split("").reverse().join(""));var f=!1,c=0,h=a.greedy,j=a.repeat;"*"==j&&(h=!1);!0==h&&""==a.placeholder&&(a.placeholder=" ");1==d.length&&!1==h&&(a.placeholder="");for(var d=b.map(d.split(""),function(b){var g=[];if(b==
a.escapeChar)f=true;else if(b!=a.optionalmarker.start&&b!=a.optionalmarker.end||f){var d=a.definitions[b];if(d&&!f)for(b=0;b<d.cardinality;b++)g.push(M(c+b));else{g.push(b);f=false}c=c+g.length;return g}}),g=d.slice(),W=1;W<j&&h;W++)g=g.concat(d.slice());return{mask:g,repeat:j,greedy:h}}function K(d){a.numericInput&&(d=d.split("").reverse().join(""));var f=!1,c=!1,h=!1;return b.map(d.split(""),function(b){var g=[];if(b==a.escapeChar)c=!0;else if(b==a.optionalmarker.start&&!c)h=f=!0;else if(b==a.optionalmarker.end&&
!c)f=!1,h=!0;else{var d=a.definitions[b];if(d&&!c){for(var r=d.prevalidator,q=r?r.length:0,e=1;e<d.cardinality;e++){var p=q>=e?r[e-1]:[],u=p.validator,p=p.cardinality;g.push({fn:u?"string"==typeof u?RegExp(u):new function(){this.test=u}:/./,cardinality:p?p:1,optionality:f,newBlockMarker:!0==f?h:!1,offset:0,casing:d.casing,def:d.definitionSymbol|b});!0==f&&(h=!1)}g.push({fn:d.validator?"string"==typeof d.validator?RegExp(d.validator):new function(){this.test=d.validator}:/./,cardinality:d.cardinality,
optionality:f,newBlockMarker:h,offset:0,casing:d.casing,def:d.definitionSymbol|b})}else g.push({fn:null,cardinality:0,optionality:f,newBlockMarker:h,offset:0,casing:null,def:b}),c=!1;h=!1;return g}})}function I(){function d(b){var c=b.length;for(i=0;i<c&&b.charAt(i)!=a.optionalmarker.start;i++);var d=[b.substring(0,i)];i<c&&d.push(b.substring(i+1,c));return d}function f(j,g,o){var r=0,q=0,e=g.length;for(i=0;i<e&&!(g.charAt(i)==a.optionalmarker.start&&r++,g.charAt(i)==a.optionalmarker.end&&q++,0<r&&
r==q);i++);r=[g.substring(0,i)];i<e&&r.push(g.substring(i+1,e));q=d(r[0]);if(1<q.length){if(g=j+q[0]+(a.optionalmarker.start+q[1]+a.optionalmarker.end)+(1<r.length?r[1]:""),-1==b.inArray(g,h)&&(h.push(g),e=C(g),c.push({mask:g,_buffer:e.mask,buffer:e.mask.slice(),tests:K(g),lastValidPosition:void 0,greedy:e.greedy,repeat:e.repeat,metadata:o})),g=j+q[0]+(1<r.length?r[1]:""),-1==b.inArray(g,h)&&(h.push(g),e=C(g),c.push({mask:g,_buffer:e.mask,buffer:e.mask.slice(),tests:K(g),lastValidPosition:void 0,
greedy:e.greedy,repeat:e.repeat,metadata:o})),1<d(q[1]).length&&f(j+q[0],q[1]+r[1],o),1<r.length&&1<d(r[1]).length)f(j+q[0]+(a.optionalmarker.start+q[1]+a.optionalmarker.end),r[1],o),f(j+q[0],r[1],o)}else g=j+r,-1==b.inArray(g,h)&&(h.push(g),e=C(g),c.push({mask:g,_buffer:e.mask,buffer:e.mask.slice(),tests:K(g),lastValidPosition:void 0,greedy:e.greedy,repeat:e.repeat,metadata:o}))}var c=[],h=[];b.isFunction(a.mask)&&(a.mask=a.mask.call(this,a));b.isArray(a.mask)?b.each(a.mask,function(a,b){b.mask!=
void 0?f("",b.mask.toString(),b):f("",b.toString())}):f("",a.mask.toString());return a.greedy?c:c.sort(function(a,b){return a.mask.length-b.mask.length})}function M(b){return a.placeholder.charAt(b%a.placeholder.length)}function D(d,f){function c(){return d[f]}function h(){return c().tests}function j(){return c()._buffer}function g(){return c().buffer}function o(m,x,Q){function J(b,c,m,g){for(var n=e(b),x=m?1:0,R="",d=c.buffer,k=c.tests[n].cardinality;k>x;k--)R+=H(d,n-(k-1));m&&(R+=m);return null!=
c.tests[n].fn?c.tests[n].fn.test(R,d,b,g,a):m==H(j(),b,!0)||m==a.skipOptionalPartCharacter?{refresh:!0,c:H(j(),b,!0),pos:b}:!1}if(Q=!0===Q){var E=J(m,c(),x,Q);!0===E&&(E={pos:m});return E}var h=[],E=!1,r=f,s=g().slice(),l=c().lastValidPosition,y=w(m),B=[];b.each(d,function(b,a){if("object"==typeof a){f=b;var j=m;if(r!=f){var e=c().lastValidPosition,n;if(e==l&&1<j-(void 0==l?-1:l))for(e=void 0==e?0:e;e<j&&!(n=J(e,c(),s[e],!0),!1===n);e++)if(z(g(),e,s[e],!0),!0===n&&(n={pos:e}),n=n.pos||e,void 0==c().lastValidPosition||
c().lastValidPosition<n)c().lastValidPosition=n;!q(j)&&c().lastValidPosition==y&&(!J(j,c(),x,Q)&&d[r].lastValidPosition<j)&&(j=u(m),B.push(f))}if((void 0==c().lastValidPosition&&j==u(-1)||c().lastValidPosition>=(void 0==l?d[r].lastValidPosition-1:l))&&0<=j&&j<p()){E=J(j,c(),x,Q);if(!1!==E&&(!0===E&&(E={pos:j}),n=E.pos||j,void 0==c().lastValidPosition||c().lastValidPosition<n))c().lastValidPosition=n;h.push({activeMasksetIndex:b,result:E})}}});f=r;return function(a,c){var m=!1;b.each(c,function(c,
n){if(m=-1==b.inArray(n.activeMasksetIndex,a)&&!1!==n.result)return!1});m&&(c=b.map(c,function(c){if(-1==b.inArray(c.activeMasksetIndex,a))return c;d[c.activeMasksetIndex].lastValidPosition=l}));return c}(B,h)}function r(){var a=f,x={activeMasksetIndex:0,lastValidPosition:-1};b.each(d,function(b,a){"object"==typeof a&&(void 0!=this.lastValidPosition&&this.lastValidPosition>x.lastValidPosition)&&(x.activeMasksetIndex=b,x.lastValidPosition=this.lastValidPosition)});f=x.activeMasksetIndex;a!=f&&(G(g(),
u(x.lastValidPosition),p()),c().writeOutBuffer=!0)}function q(b){b=e(b);b=h()[b];return void 0!=b?b.fn:!1}function e(b){return b%h().length}function p(){return a.getMaskLength(j(),c().greedy,c().repeat,g(),a)}function u(b){var a=p();if(b>=a)return a;for(;++b<a&&!q(b););return b}function w(b){if(0>=b)return 0;for(;0<--b&&!q(b););return b}function z(b,a,c,g){g&&(a=C(b,a));var g=h()[e(a)],d=c;if(void 0!=d)switch(g.casing){case "upper":d=c.toUpperCase();break;case "lower":d=c.toLowerCase()}b[a]=d}function H(b,
a,c){c&&(a=C(b,a));return b[a]}function C(b,a){for(var c;void 0==b[a]&&b.length<p();)for(c=0;void 0!==j()[c];)b.push(j()[c++]);return a}function y(b,a,c){b._valueSet(a.join(""));void 0!=c&&s(b,c)}function G(b,a,c){for(var g=p();a<c&&a<g;a++)z(b,a,H(j().slice(),a,!0))}function A(b,a){var c=e(a);z(b,a,H(j(),c))}function B(a,g,e,h){h=void 0!=h?h.slice():K(a._valueGet()).split("");b.each(d,function(b,a){"object"==typeof a&&(a.buffer=a._buffer.slice(),a.lastValidPosition=void 0,a.p=0)});!0!==e&&(f=0);
g&&a._valueSet("");p();b.each(h,function(d,f){var h=c().lastValidPosition,p=c().p,p=void 0==h?d:p,h=void 0==h?-1:h;(e&&q(d)||(f!=H(j().slice(),d,!0)||q(d))&&-1==b.inArray(f,j().slice(h+1,p)))&&b(a).trigger("keypress",[!0,f.charCodeAt(0),g,e,d])});!0===e&&(c().lastValidPosition=w(c().p))}function D(a){return b.inputmask.escapeRegex.call(this,a)}function K(a){return a.replace(RegExp("("+D(j().join(""))+")*$"),"")}function I(a){var b=g(),c=b.slice(),d,f;for(f=c.length-1;0<=f;f--)if(d=e(f),h()[d].optionality)if(!q(f)||
!o(f,b[f],!0))c.pop();else break;else break;y(a,c)}function V(a,c){return h()&&(!0===c||!a.hasClass("hasDatepicker"))?b.map(g(),function(a,b){return q(b)&&o(b,a,!0)?a:null}).join(""):a[0]._valueGet()}function s(c,d,f){function e(a){F&&"number"==typeof a&&(a=g().length-a);return a}var j=c.jquery&&0<c.length?c[0]:c;if("number"==typeof d)d=e(d),f=e(f),b(c).is(":visible")&&(f="number"==typeof f?f:d,!1==a.insertMode&&d==f&&f++,j.setSelectionRange?(j.selectionStart=d,j.selectionEnd=S?d:f):j.createTextRange&&
(c=j.createTextRange(),c.collapse(!0),c.moveEnd("character",f),c.moveStart("character",d),c.select()));else{if(!b(c).is(":visible"))return{begin:0,end:0};j.setSelectionRange?(d=j.selectionStart,f=j.selectionEnd):document.selection&&document.selection.createRange&&(c=document.selection.createRange(),d=0-c.duplicate().moveStart("character",-1E5),f=d+c.text.length);d=e(d);f=e(f);return{begin:d,end:f}}}function T(a){var c=!1,g=0,h=f;b.each(d,function(b,d){if("object"==typeof d){f=b;var h=w(p());if(void 0!=
d.lastValidPosition&&d.lastValidPosition>=g&&d.lastValidPosition==h){for(var o=!0,l=0;l<=h;l++){var r=q(l),s=e(l);if(r&&(void 0==a[l]||a[l]==M(l))||!r&&a[l]!=j()[s]){o=!1;break}}if(c=c||o)return!1}g=d.lastValidPosition}});f=h;return c}function $(b,c){return F?1<b-c||1==b-c&&a.insertMode:1<c-b||1==c-b&&a.insertMode}var F=!1,O=g().join("");this.unmaskedvalue=function(a,b){F=a.data("_inputmask").isRTL;return V(a,b)};this.isComplete=function(a){return T(a)};this.mask=function(m){function x(a){a=b._data(a).events;
b.each(a,function(a,c){b.each(c,function(a,b){if("inputmask"==b.namespace){var c=b.handler;b.handler=function(a){if(this.readOnly||this.disabled)a.preventDefault;else return c.apply(this,arguments)}}})})}function C(a){var c;Object.getOwnPropertyDescriptor&&(c=Object.getOwnPropertyDescriptor(a,"value"));if(c&&c.get){if(!a._valueGet){var d=c.get,g=c.set;a._valueGet=function(){return F?d.call(this).split("").reverse().join(""):d.call(this)};a._valueSet=function(a){g.call(this,F?a.split("").reverse().join(""):
a)};Object.defineProperty(a,"value",{get:function(){var a=b(this),c=b(this).data("_inputmask"),g=c.masksets,n=c.activeMasksetIndex;return c&&c.opts.autoUnmask?a.inputmask("unmaskedvalue"):d.call(this)!=g[n]._buffer.join("")?d.call(this):""},set:function(a){g.call(this,a);b(this).triggerHandler("setvalue.inputmask")}})}}else if(document.__lookupGetter__&&a.__lookupGetter__("value"))a._valueGet||(d=a.__lookupGetter__("value"),g=a.__lookupSetter__("value"),a._valueGet=function(){return F?d.call(this).split("").reverse().join(""):
d.call(this)},a._valueSet=function(a){g.call(this,F?a.split("").reverse().join(""):a)},a.__defineGetter__("value",function(){var a=b(this),c=b(this).data("_inputmask"),g=c.masksets,n=c.activeMasksetIndex;return c&&c.opts.autoUnmask?a.inputmask("unmaskedvalue"):d.call(this)!=g[n]._buffer.join("")?d.call(this):""}),a.__defineSetter__("value",function(a){g.call(this,a);b(this).triggerHandler("setvalue.inputmask")}));else if(a._valueGet||(a._valueGet=function(){return F?this.value.split("").reverse().join(""):
this.value},a._valueSet=function(a){this.value=F?a.split("").reverse().join(""):a}),void 0==b.valHooks.text||!0!=b.valHooks.text.inputmaskpatch)d=b.valHooks.text&&b.valHooks.text.get?b.valHooks.text.get:function(){return this.value},g=b.valHooks.text&&b.valHooks.text.set?b.valHooks.text.set:function(a){return this.value=a},jQuery.extend(b.valHooks,{text:{get:function(a){var c=b(a);if(c.data("_inputmask")){if(c.data("_inputmask").opts.autoUnmask)return c.inputmask("unmaskedvalue");a=d.call(a);c=c.data("_inputmask");
return a!=c.masksets[c.activeMasksetIndex]._buffer.join("")?a:""}return d.call(a)},set:function(a,c){var d=b(a),n=g.call(a,c);d.data("_inputmask")&&d.triggerHandler("setvalue.inputmask");return n},inputmaskpatch:!0}})}function J(a,b,d){for(var f=g();!q(a)&&0<=a-1;)a--;for(var k=a;k<b&&k<p();k++)if(q(k)){A(f,k);var P=u(k),l=H(f,P);if(l!=M(P))if(P<p()&&!1!==o(k,l,!0)&&h()[e(k)].def==h()[e(P)].def)z(f,k,H(f,P),!0),P<b&&A(f,P);else if(q(k))break}else A(f,k);void 0!=d&&z(f,w(b),d);if(!1==c().greedy){b=
K(f.join("")).split("");f.length=b.length;k=0;for(d=f.length;k<d;k++)f[k]=b[k];0==f.length&&(c().buffer=j().slice())}return a}function E(a,b,d,f){for(var k=g();a<=b&&a<p();a++)if(q(a)){var l=H(k,a,!0);z(k,a,d,!0);if(l!=M(a))if(d=u(a),d<p())if(!1!==o(d,l,!0)&&h()[e(a)].def==h()[e(d)].def)d=l;else if(q(d))break;else d=l;else break;else if(d=l,!0!==f)break}else A(k,a);f=k.length;if(!1==c().greedy){d=K(k.join("")).split("");k.length=d.length;a=0;for(l=k.length;a<l;a++)k[a]=d[a];0==k.length&&(c().buffer=
j().slice())}return b-(f-k.length)}function D(n){U=!1;var e=this,h=n.keyCode,v=s(e);if(h==a.keyCode.BACKSPACE||h==a.keyCode.DELETE||ba&&127==h||n.ctrlKey&&88==h){n.preventDefault();if(a.numericInput||F)switch(h){case a.keyCode.BACKSPACE:h=a.keyCode.DELETE;break;case a.keyCode.DELETE:h=a.keyCode.BACKSPACE}if($(v.begin,v.end)){if(F){var k=v.end;v.end=v.begin;v.begin=k}G(g(),v.begin,v.end);if(0==v.begin&&v.end==p())b.each(d,function(a,b){"object"==typeof b&&(b.buffer=b._buffer.slice(),b.lastValidPosition=
void 0,b.p=0)});else{k=p();if(!1==a.greedy)J(v.begin,k);else for(var o=v.begin;o<v.end;o++)q(o)&&J(v.begin,k);B(e,!1,!0,g())}}else b.each(d,function(b,d){if("object"==typeof d){f=b;var e=aa?v.end:v.begin,n=g(),k=u(-1),l=p();h==a.keyCode.BACKSPACE&&e--;e<k&&(e=k);e<l&&(a.isNumeric&&(""!=a.radixPoint&&n[e]==a.radixPoint)&&(e=n.length-1==e?e:u(e)),e=J(e,l),void 0!=c().lastValidPosition&&(-1!=c().lastValidPosition&&g()[c().lastValidPosition]==j()[c().lastValidPosition]&&(c().lastValidPosition=0==c().lastValidPosition?
-1:w(c().lastValidPosition)),c().lastValidPosition<k?(c().lastValidPosition=void 0,c().p=k):(c().writeOutBuffer=!0,c().p=e)))}});r();y(e,g(),c().p);e._valueGet()==j().join("")&&b(e).trigger("cleared");a.showTooltip&&l.prop("title",c().mask)}else h==a.keyCode.END||h==a.keyCode.PAGE_DOWN?setTimeout(function(){var b=u(c().lastValidPosition);!a.insertMode&&(b==p()&&!n.shiftKey)&&b--;s(e,n.shiftKey?v.begin:b,b)},0):h==a.keyCode.HOME&&!n.shiftKey||h==a.keyCode.PAGE_UP?s(e,0,n.shiftKey?v.begin:0):h==a.keyCode.ESCAPE?
B(e,!0,!0,O):h==a.keyCode.INSERT&&!n.shiftKey&&!n.ctrlKey?(a.insertMode=!a.insertMode,s(e,!a.insertMode&&v.begin==p()?v.begin-1:v.begin)):!1==a.insertMode&&!n.shiftKey&&(h==a.keyCode.RIGHT?setTimeout(function(){var a=s(e);s(e,a.begin)},0):h==a.keyCode.LEFT&&setTimeout(function(){var a=s(e);s(e,a.begin-1)},0));k=s(e);a.onKeyDown.call(this,n,g(),a);s(e,k.begin,k.end);X=-1!=b.inArray(h,a.ignorables)}function S(e,h,j,l,k,m){if(void 0==j&&U)return!1;U=!0;var C=b(this),e=e||window.event,j=j||e.which||e.charCode||
e.keyCode,x=String.fromCharCode(j);if((!e.ctrlKey||!e.altKey)&&(e.ctrlKey||e.metaKey||X)&&!0!==h)return!0;if(j){var t,A;h?(j=k?m:c().p,t={begin:j,end:j}):t=s(this);var j=$(t.begin,t.end),D=!1;j&&(F&&(m=t.end,t.end=t.begin,t.begin=m),m=f,b.each(d,function(b,d){if(typeof d=="object"){f=b;c().undoBuffer=g().join("");var e=t.end<p()?t.end:p();c().lastValidPosition>t.begin&&c().lastValidPosition<e?c().lastValidPosition=w(t.begin):D=true;G(g(),t.begin,e);var h=p();if(a.greedy==false)J(t.begin,h);else for(var j=
t.begin;j<e;j++)q(j)&&J(t.begin,h)}}),!0===D&&(f=m,B(this,!1,!0,g()),a.insertMode||b.each(d,function(a,b){if(typeof b=="object"){f=a;E(t.begin,p(),M(t.begin),true);c().lastValidPosition=u(c().lastValidPosition)}})),f=m);a.isNumeric&&(x==a.radixPoint&&!0!==h)&&(m=g().join("").indexOf(a.radixPoint),-1!=m&&(t.begin=t.begin==m?u(m):m,t.end=t.begin,s(this,t.begin)));var L=u(t.begin-1),m=o(L,x,k);!0===k&&(m=[{activeMasksetIndex:f,result:m}]);b.each(m,function(b,d){f=d.activeMasksetIndex;c().writeOutBuffer=
true;var e=d.result;if(e!==false){var h=false,j=g();if(e!==true){h=e.refresh;L=e.pos!=void 0?e.pos:L;x=e.c!=void 0?e.c:x}if(h!==true)if(a.insertMode==true){e=p();for(h=j.slice();H(h,e,true)!=M(e)&&e>=L;)e=e==0?-1:w(e);if(e>=L){E(L,j.length,x);j=c().lastValidPosition;e=u(j);e!=p()&&(j>=L&&H(g(),e)!=M(e))&&(c().lastValidPosition=e)}else c().writeOutBuffer=false}else z(j,L,x,true);c().p=u(L)}});!0!==k&&r();if(!1!==l&&(b.each(m,function(a,b){if(b.activeMasksetIndex==f){A=b;return false}}),void 0!=A)){var K=
this;setTimeout(function(){a.onKeyValidation.call(K,A.result,a)},0);if(c().writeOutBuffer&&!1!==A.result){var I=g();y(this,I,h?void 0:a.numericInput?w(c().p):c().p);!0!==h&&setTimeout(function(){T(I)&&C.trigger("complete")},0)}else j&&(c().buffer=c().undoBuffer.split(""))}a.showTooltip&&C.prop("title",c().mask);e.preventDefault()}}function V(c){var d=b(this),e=c.keyCode,f=g(),h=s(this);a.onKeyUp.call(this,c,f,a);s(this,h.begin,h.end);e==a.keyCode.TAB&&(d.hasClass("focus.inputmask")&&0==this._valueGet().length&&
a.showMaskOnFocus)&&(f=j().slice(),y(this,f),s(this,0),O=g().join(""))}var l=b(m);if(l.is(":input")){l.data("_inputmask",{masksets:d,activeMasksetIndex:f,opts:a,isRTL:!1});a.showTooltip&&l.prop("title",c().mask);c().greedy=c().greedy?c().greedy:0==c().repeat;if(null!=l.attr("maxLength")){var N=l.prop("maxLength");-1<N&&b.each(d,function(a,b){"object"==typeof b&&"*"==b.repeat&&(b.repeat=N)});p()>N&&-1<N&&(N<j().length&&(j().length=N),!1==c().greedy&&(c().repeat=Math.round(N/j().length)),l.prop("maxLength",
2*p()))}C(m);var U=!1,X=!1;a.numericInput&&(a.isNumeric=a.numericInput);("rtl"==m.dir||a.numericInput&&a.rightAlignNumerics||a.isNumeric&&a.rightAlignNumerics)&&l.css("text-align","right");if("rtl"==m.dir||a.numericInput){m.dir="ltr";l.removeAttr("dir");var Y=l.data("_inputmask");Y.isRTL=!0;l.data("_inputmask",Y);F=!0}l.unbind(".inputmask");l.removeClass("focus.inputmask");l.closest("form").bind("submit",function(){O!=g().join("")&&l.change()}).bind("reset",function(){b.each(d,function(a,b){if(typeof b==
"object"){b.buffer=b._buffer.slice();b.lastValidPosition=void 0;b.p=-1}})});l.bind("mouseenter.inputmask",function(){!b(this).hasClass("focus.inputmask")&&a.showMaskOnHover&&this._valueGet()!=g().join("")&&y(this,g())}).bind("blur.inputmask",function(){var c=b(this),e=this._valueGet(),h=g();c.removeClass("focus.inputmask");O!=g().join("")&&c.change();a.clearMaskOnLostFocus&&e!=""&&(e==j().join("")?this._valueSet(""):I(this));if(!T(h)){c.trigger("incomplete");if(a.clearIncomplete){b.each(d,function(a,
b){if(typeof b=="object"){b.buffer=b._buffer.slice();b.lastValidPosition=void 0;b.p=0}});f=0;if(a.clearMaskOnLostFocus)this._valueSet("");else{h=j().slice();y(this,h)}}}}).bind("focus.inputmask",function(){var d=b(this),e=this._valueGet();a.showMaskOnFocus&&!d.hasClass("focus.inputmask")&&(!a.showMaskOnHover||a.showMaskOnHover&&e=="")&&this._valueGet()!=g().join("")&&y(this,g(),c().p);d.addClass("focus.inputmask");O=g().join("");d.click()}).bind("mouseleave.inputmask",function(){var c=b(this);a.clearMaskOnLostFocus&&
(c.hasClass("focus.inputmask")||(this._valueGet()==j().join("")||this._valueGet()==""?this._valueSet(""):I(this)))}).bind("click.inputmask",function(){var d=this;setTimeout(function(){var e=s(d),f=g();if(e.begin==e.end){var e=e.begin,h=c().lastValidPosition,h=a.isNumeric?a.skipRadixDance===false&&a.radixPoint!=""&&b.inArray(a.radixPoint,f)!=-1?a.numericInput?u(b.inArray(a.radixPoint,f)):b.inArray(a.radixPoint,f):p():u(h==void 0?-1:h);s(d,e<h&&(o(e,f[e],true)!==false||!q(e))?e:h)}},0)}).bind("dblclick.inputmask",
function(){var a=this;c().lastValidPosition!=void 0&&setTimeout(function(){s(a,0,u(c().lastValidPosition))},0)}).bind("keydown.inputmask",D).bind("keypress.inputmask",S).bind("keyup.inputmask",V).bind(ca+".inputmask dragdrop.inputmask drop.inputmask",function(a){var c=this,d=b(c);if(a.type=="propertychange"&&c._valueGet().length<=p())return true;setTimeout(function(){B(c,true,false);T(g())&&d.trigger("complete");d.click()},0)}).bind("setvalue.inputmask",function(){B(this,true);O=g().join("");this._valueGet()==
j().join("")&&this._valueSet("")}).bind("complete.inputmask",a.oncomplete).bind("incomplete.inputmask",a.onincomplete).bind("cleared.inputmask",a.oncleared);B(m,!0,!1);O=g().join("");var Z;try{Z=document.activeElement}catch(da){}Z===m?(l.addClass("focus.inputmask"),s(m,c().p)):a.clearMaskOnLostFocus?g().join("")==j().join("")?m._valueSet(""):I(m):y(m,g());x(m)}};return this}var a=b.extend(!0,{},b.inputmask.defaults,A),ba=null!==navigator.userAgent.match(/iphone/i),S=null!==navigator.userAgent.match(/android.*safari.*/i),
ca=B("paste")?"paste":B("input")?"input":"propertychange",aa,o,w=0;if(S){var y=navigator.userAgent.match(/safari.*/i);aa=537>=parseInt(RegExp(/[0-9]+/).exec(y))}if("string"===typeof z)switch(z){case "mask":return G(a.alias,A),o=I(),this.each(function(){D(b.extend(!0,{},o),0).mask(this)});case "unmaskedvalue":return y=b(this),y.data("_inputmask")?(o=y.data("_inputmask").masksets,w=y.data("_inputmask").activeMasksetIndex,a=y.data("_inputmask").opts,D(o,w).unmaskedvalue(y)):y.val();case "remove":return this.each(function(){var d=
b(this);if(d.data("_inputmask")){o=d.data("_inputmask").masksets;w=d.data("_inputmask").activeMasksetIndex;a=d.data("_inputmask").opts;this._valueSet(D(o,w).unmaskedvalue(d,!0));d.removeData("_inputmask");d.unbind(".inputmask");d.removeClass("focus.inputmask");var f;Object.getOwnPropertyDescriptor&&(f=Object.getOwnPropertyDescriptor(this,"value"));f&&f.get?this._valueGet&&Object.defineProperty(this,"value",{get:this._valueGet,set:this._valueSet}):document.__lookupGetter__&&this.__lookupGetter__("value")&&
this._valueGet&&(this.__defineGetter__("value",this._valueGet),this.__defineSetter__("value",this._valueSet));try{delete this._valueGet,delete this._valueSet}catch(c){this._valueSet=this._valueGet=void 0}}});case "getemptymask":return this.data("_inputmask")?(o=this.data("_inputmask").masksets,w=this.data("_inputmask").activeMasksetIndex,o[w]._buffer.join("")):"";case "hasMaskedValue":return this.data("_inputmask")?!this.data("_inputmask").opts.autoUnmask:!1;case "isComplete":return o=this.data("_inputmask").masksets,
w=this.data("_inputmask").activeMasksetIndex,a=this.data("_inputmask").opts,D(o,w).isComplete(this[0]._valueGet().split(""));case "getmetadata":if(this.data("_inputmask"))return o=this.data("_inputmask").masksets,w=this.data("_inputmask").activeMasksetIndex,o[w].metadata;return;default:return G(z,A)||(a.mask=z),o=I(),this.each(function(){D(b.extend(true,{},o),w).mask(this)})}else{if("object"==typeof z)return a=b.extend(!0,{},b.inputmask.defaults,z),G(a.alias,z),o=I(),this.each(function(){D(b.extend(!0,
{},o),w).mask(this)});if(void 0==z)return this.each(function(){var d=b(this).attr("data-inputmask");if(d&&""!=d)try{var d=d.replace(RegExp("'","g"),'"'),f=b.parseJSON("{"+d+"}");b.extend(!0,f,A);a=b.extend(!0,{},b.inputmask.defaults,f);G(a.alias,f);a.alias=void 0;b(this).inputmask(a)}catch(c){}})}return this})})(jQuery);
