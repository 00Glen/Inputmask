/*
 Input Mask plugin for jquery
 http://github.com/RobinHerbots/jquery.inputmask
 Copyright (c) 2010 - 2013 Robin Herbots
 Licensed under the MIT license (http://www.opensource.org/licenses/mit-license.php)
 Version: 2.3.46
*/
(function(b){void 0===b.fn.inputmask&&(b.inputmask={defaults:{placeholder:"_",optionalmarker:{start:"[",end:"]"},quantifiermarker:{start:"{",end:"}"},groupmarker:{start:"(",end:")"},escapeChar:"\\",mask:null,oncomplete:b.noop,onincomplete:b.noop,oncleared:b.noop,repeat:0,greedy:!0,autoUnmask:!1,clearMaskOnLostFocus:!0,insertMode:!0,clearIncomplete:!1,aliases:{},onKeyUp:b.noop,onKeyDown:b.noop,showMaskOnFocus:!0,showMaskOnHover:!0,onKeyValidation:b.noop,skipOptionalPartCharacter:" ",showTooltip:!1,
numericInput:!1,isNumeric:!1,radixPoint:"",skipRadixDance:!1,rightAlignNumerics:!0,definitions:{9:{validator:"[0-9]",cardinality:1},a:{validator:"[A-Za-z\u0410-\u044f\u0401\u0451]",cardinality:1},"*":{validator:"[A-Za-z\u0410-\u044f\u0401\u04510-9]",cardinality:1}},keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,
NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91},ignorables:[8,9,13,19,27,33,34,35,36,37,38,39,40,45,46,93,112,113,114,115,116,117,118,119,120,121,122,123],getMaskLength:function(b,C,E,G){var t=b.length;C||("*"==E?t=G.length+1:1<E&&(t+=b.length*(E-1)));return t}},escapeRegex:function(b){return b.replace(RegExp("(\\/|\\.|\\*|\\+|\\?|\\||\\(|\\)|\\[|\\]|\\{|\\}|\\\\)","gim"),"\\$1")}},b.fn.inputmask=function(B,
C){function E(a){var b=document.createElement("input"),a="on"+a,c=a in b;c||(b.setAttribute(a,"return;"),c="function"==typeof b[a]);return c}function G(d,g){var c=a.aliases[d];return c?(c.alias&&G(c.alias),b.extend(!0,a,c),b.extend(!0,a,g),!0):!1}function t(d){a.numericInput&&(d=d.split("").reverse().join(""));var g=!1,c=0,h=a.greedy,k=a.repeat;"*"==k&&(h=!1);!0==h&&""==a.placeholder&&(a.placeholder=" ");1==d.length&&!1==h&&(a.placeholder="");for(var d=b.map(d.split(""),function(b){var f=[];if(b==
a.escapeChar)g=true;else if(b!=a.optionalmarker.start&&b!=a.optionalmarker.end||g){var d=a.definitions[b];if(d&&!g)for(b=0;b<d.cardinality;b++)f.push(N(c+b));else{f.push(b);g=false}c=c+f.length;return f}}),f=d.slice(),W=1;W<k&&h;W++)f=f.concat(d.slice());return{mask:f,repeat:k,greedy:h}}function I(d){a.numericInput&&(d=d.split("").reverse().join(""));var g=!1,c=!1,h=!1;return b.map(d.split(""),function(b){var f=[];if(b==a.escapeChar)c=!0;else if(b==a.optionalmarker.start&&!c)h=g=!0;else if(b==a.optionalmarker.end&&
!c)g=!1,h=!0;else{var d=a.definitions[b];if(d&&!c){for(var r=d.prevalidator,o=r?r.length:0,e=1;e<d.cardinality;e++){var n=o>=e?r[e-1]:[],u=n.validator,n=n.cardinality;f.push({fn:u?"string"==typeof u?RegExp(u):new function(){this.test=u}:/./,cardinality:n?n:1,optionality:g,newBlockMarker:!0==g?h:!1,offset:0,casing:d.casing,def:d.definitionSymbol||b});!0==g&&(h=!1)}f.push({fn:d.validator?"string"==typeof d.validator?RegExp(d.validator):new function(){this.test=d.validator}:/./,cardinality:d.cardinality,
optionality:g,newBlockMarker:h,offset:0,casing:d.casing,def:d.definitionSymbol||b})}else f.push({fn:null,cardinality:0,optionality:g,newBlockMarker:h,offset:0,casing:null,def:b}),c=!1;h=!1;return f}})}function L(){function d(b){var c=b.length;for(i=0;i<c&&b.charAt(i)!=a.optionalmarker.start;i++);var d=[b.substring(0,i)];i<c&&d.push(b.substring(i+1,c));return d}function g(k,f,p){var r=0,o=0,e=f.length;for(i=0;i<e&&!(f.charAt(i)==a.optionalmarker.start&&r++,f.charAt(i)==a.optionalmarker.end&&o++,0<
r&&r==o);i++);r=[f.substring(0,i)];i<e&&r.push(f.substring(i+1,e));o=d(r[0]);if(1<o.length){if(f=k+o[0]+(a.optionalmarker.start+o[1]+a.optionalmarker.end)+(1<r.length?r[1]:""),-1==b.inArray(f,h)&&(h.push(f),e=t(f),c.push({mask:f,_buffer:e.mask,buffer:e.mask.slice(),tests:I(f),lastValidPosition:-1,greedy:e.greedy,repeat:e.repeat,metadata:p})),f=k+o[0]+(1<r.length?r[1]:""),-1==b.inArray(f,h)&&(h.push(f),e=t(f),c.push({mask:f,_buffer:e.mask,buffer:e.mask.slice(),tests:I(f),lastValidPosition:-1,greedy:e.greedy,
repeat:e.repeat,metadata:p})),1<d(o[1]).length&&g(k+o[0],o[1]+r[1],p),1<r.length&&1<d(r[1]).length)g(k+o[0]+(a.optionalmarker.start+o[1]+a.optionalmarker.end),r[1],p),g(k+o[0],r[1],p)}else f=k+r,-1==b.inArray(f,h)&&(h.push(f),e=t(f),c.push({mask:f,_buffer:e.mask,buffer:e.mask.slice(),tests:I(f),lastValidPosition:-1,greedy:e.greedy,repeat:e.repeat,metadata:p}))}var c=[],h=[];b.isFunction(a.mask)&&(a.mask=a.mask.call(this,a));b.isArray(a.mask)?b.each(a.mask,function(a,b){b.mask!=void 0?g("",b.mask.toString(),
b):g("",b.toString())}):g("",a.mask.toString());return a.greedy?c:c.sort(function(a,b){return a.mask.length-b.mask.length})}function N(b){return a.placeholder.charAt(b%a.placeholder.length)}function A(d,g){function c(){return d[g]}function h(){return c().tests}function k(){return c()._buffer}function f(){return c().buffer}function p(m,q,P){function J(b,c,m,q){for(var f=e(b),S=m?1:0,v="",y=c.buffer,d=c.tests[f].cardinality;d>S;d--)v+=H(y,f-(d-1));m&&(v+=m);return null!=c.tests[f].fn?c.tests[f].fn.test(v,
y,b,q,a):m==H(k(),b,!0)||m==a.skipOptionalPartCharacter?{refresh:!0,c:H(k(),b,!0),pos:b}:!1}if(P=!0===P){var F=J(m,c(),q,P);!0===F&&(F={pos:m});return F}var h=[],F=!1,r=g,s=f().slice(),j=c().lastValidPosition;x(m);var z=[];b.each(d,function(b,a){if("object"==typeof a){g=b;var d=m,k=c().lastValidPosition,e;if(k==j&&1<d-j)for(k=-1==k?0:k;k<d&&!(e=J(k,c(),s[k],!0),!1===e);k++)B(f(),k,s[k],!0),!0===e&&(e={pos:k}),e=e.pos||k,c().lastValidPosition<e&&(c().lastValidPosition=e);!o(d)&&!J(d,c(),q,P)&&(d=u(m),
z.push(g));c().lastValidPosition>=j&&(0<=d&&d<n())&&(F=J(d,c(),q,P),!1!==F&&(!0===F&&(F={pos:d}),e=F.pos||d,c().lastValidPosition<e&&(c().lastValidPosition=e)),h.push({activeMasksetIndex:b,result:F}))}});g=r;return function(a,c){var m=!1;b.each(c,function(c,S){if(m=-1==b.inArray(S.activeMasksetIndex,a)&&!1!==S.result)return!1});if(m)c=b.map(c,function(c){if(-1==b.inArray(c.activeMasksetIndex,a))return c;d[c.activeMasksetIndex].lastValidPosition=j});else{var q=-1;b.each(c,function(c,m){if(-1!=b.inArray(m.activeMasksetIndex,
a)&&(-1==q||q>m.result.pos))q=m.result.pos});c=b.map(c,function(c){if(-1==b.inArray(c.activeMasksetIndex,a)||c.result.pos==q)return c;d[c.activeMasksetIndex].lastValidPosition=j})}return c}(z,h)}function r(){var a=g,q={activeMasksetIndex:0,lastValidPosition:-1,next:-1};b.each(d,function(a,b){if("object"==typeof b)if(g=a,c().lastValidPosition>q.lastValidPosition)q.activeMasksetIndex=a,q.lastValidPosition=c().lastValidPosition,q.next=u(c().lastValidPosition);else if(c().lastValidPosition==q.lastValidPosition&&
(-1==q.next||q.next>u(c().lastValidPosition)))q.activeMasksetIndex=a,q.lastValidPosition=c().lastValidPosition,q.next=u(c().lastValidPosition)});g=-1!=q.lastValidPosition&&d[a].lastValidPosition==q.lastValidPosition?a:q.activeMasksetIndex;a!=g&&(G(f(),u(q.lastValidPosition),n()),c().writeOutBuffer=!0)}function o(a){a=e(a);a=h()[a];return void 0!=a?a.fn:!1}function e(a){return a%h().length}function n(){return a.getMaskLength(k(),c().greedy,c().repeat,f(),a)}function u(a){var b=n();if(a>=b)return b;
for(;++a<b&&!o(a););return a}function x(a){if(0>=a)return 0;for(;0<--a&&!o(a););return a}function B(a,b,c,d){d&&(b=t(a,b));var d=h()[e(b)],f=c;if(void 0!=f)switch(d.casing){case "upper":f=c.toUpperCase();break;case "lower":f=c.toLowerCase()}a[b]=f}function H(a,b,c){c&&(b=t(a,b));return a[b]}function t(a,b){for(var c;void 0==a[b]&&a.length<n();)for(c=0;void 0!==k()[c];)a.push(k()[c++]);return b}function z(a,b,c){a._valueSet(b.join(""));void 0!=c&&s(a,c)}function G(a,b,c){for(var d=n();b<c&&b<d;b++)B(a,
b,H(k().slice(),b,!0))}function C(a,b){var c=e(b);B(a,b,H(k(),c))}function E(a,f,e,h){h=void 0!=h?h.slice():I(a._valueGet()).split("");b.each(d,function(a,b){"object"==typeof b&&(b.buffer=b._buffer.slice(),b.lastValidPosition=-1,b.p=0)});!0!==e&&(g=0);f&&a._valueSet("");n();b.each(h,function(d,g){var h=c().lastValidPosition,n=c().p,n=-1==h?d:n;(e&&o(d)||(g!=H(k().slice(),d,!0)||o(d))&&-1==b.inArray(g,k().slice(h+1,n)))&&b(a).trigger("_keypress",[!0,g.charCodeAt(0),f,e,d])});!0===e&&(c().lastValidPosition=
x(c().p))}function A(a){return b.inputmask.escapeRegex.call(this,a)}function I(a){return a.replace(RegExp("("+A(k().join(""))+")*$"),"")}function L(a){var b=f(),c=b.slice(),d,g;for(g=c.length-1;0<=g;g--)if(d=e(g),h()[d].optionality)if(!o(g)||!p(g,b[g],!0))c.pop();else break;else break;z(a,c)}function V(a,c){if(h()&&(!0===c||!a.hasClass("hasDatepicker"))){var d=b.map(f(),function(a,b){return o(b)&&p(b,a,!0)?a:null});return(D?d.reverse():d).join("")}return a[0]._valueGet()}function Q(a){D&&"number"==
typeof a&&(a=f().length-a);return a}function s(c,d,f){var g=c.jquery&&0<c.length?c[0]:c;if("number"==typeof d)d=Q(d),f=Q(f),b(c).is(":visible")&&(f="number"==typeof f?f:d,!1==a.insertMode&&d==f&&f++,g.setSelectionRange?(g.selectionStart=d,g.selectionEnd=R?d:f):g.createTextRange&&(c=g.createTextRange(),c.collapse(!0),c.moveEnd("character",f),c.moveStart("character",d),c.select()));else{if(!b(c).is(":visible"))return{begin:0,end:0};g.setSelectionRange?(d=g.selectionStart,f=g.selectionEnd):document.selection&&
document.selection.createRange&&(c=document.selection.createRange(),d=0-c.duplicate().moveStart("character",-1E5),f=d+c.text.length);d=Q(d);f=Q(f);return{begin:d,end:f}}}function T(a){var c=!1,f=0,h=g;b.each(d,function(b,d){if("object"==typeof d){g=b;var h=x(n());if(d.lastValidPosition>=f&&d.lastValidPosition==h){for(var p=!0,j=0;j<=h;j++){var r=o(j),s=e(j);if(r&&(void 0==a[j]||a[j]==N(j))||!r&&a[j]!=k()[s]){p=!1;break}}if(c=c||p)return!1}f=d.lastValidPosition}});g=h;return c}function $(b,c){return D?
1<b-c||1==b-c&&a.insertMode:1<c-b||1==c-b&&a.insertMode}var D=!1,O=f().join("");this.unmaskedvalue=function(a,b){D=a.data("_inputmask").isRTL;return V(a,b)};this.isComplete=function(a){return T(a)};this.mask=function(m){function q(a){a=b._data(a).events;b.each(a,function(a,c){b.each(c,function(a,b){if("inputmask"==b.namespace&&"setvalue"!=b.type&&"_keypress"!=b.type){var c=b.handler;b.handler=function(a){if(this.readOnly||this.disabled)a.preventDefault;else return c.apply(this,arguments)}}})})}function t(a){var c;
Object.getOwnPropertyDescriptor&&(c=Object.getOwnPropertyDescriptor(a,"value"));if(c&&c.get){if(!a._valueGet){var d=c.get,f=c.set;a._valueGet=function(){return D?d.call(this).split("").reverse().join(""):d.call(this)};a._valueSet=function(a){f.call(this,D?a.split("").reverse().join(""):a)};Object.defineProperty(a,"value",{get:function(){var a=b(this),c=b(this).data("_inputmask"),f=c.masksets,g=c.activeMasksetIndex;return c&&c.opts.autoUnmask?a.inputmask("unmaskedvalue"):d.call(this)!=f[g]._buffer.join("")?
d.call(this):""},set:function(a){f.call(this,a);b(this).triggerHandler("setvalue.inputmask")}})}}else if(document.__lookupGetter__&&a.__lookupGetter__("value"))a._valueGet||(d=a.__lookupGetter__("value"),f=a.__lookupSetter__("value"),a._valueGet=function(){return D?d.call(this).split("").reverse().join(""):d.call(this)},a._valueSet=function(a){f.call(this,D?a.split("").reverse().join(""):a)},a.__defineGetter__("value",function(){var a=b(this),c=b(this).data("_inputmask"),f=c.masksets,g=c.activeMasksetIndex;
return c&&c.opts.autoUnmask?a.inputmask("unmaskedvalue"):d.call(this)!=f[g]._buffer.join("")?d.call(this):""}),a.__defineSetter__("value",function(a){f.call(this,a);b(this).triggerHandler("setvalue.inputmask")}));else if(a._valueGet||(a._valueGet=function(){return D?this.value.split("").reverse().join(""):this.value},a._valueSet=function(a){this.value=D?a.split("").reverse().join(""):a}),void 0==b.valHooks.text||!0!=b.valHooks.text.inputmaskpatch)d=b.valHooks.text&&b.valHooks.text.get?b.valHooks.text.get:
function(){return this.value},f=b.valHooks.text&&b.valHooks.text.set?b.valHooks.text.set:function(a){return this.value=a},jQuery.extend(b.valHooks,{text:{get:function(a){var c=b(a);if(c.data("_inputmask")){if(c.data("_inputmask").opts.autoUnmask)return c.inputmask("unmaskedvalue");a=d.call(a);c=c.data("_inputmask");return a!=c.masksets[c.activeMasksetIndex]._buffer.join("")?a:""}return d.call(a)},set:function(a,c){var d=b(a),g=f.call(a,c);d.data("_inputmask")&&d.triggerHandler("setvalue.inputmask");
return g},inputmaskpatch:!0}})}function J(a,b,d){for(var g=f();!o(a)&&0<=a-1;)a--;for(var l=a;l<b&&l<n();l++)if(o(l)){C(g,l);var j=u(l),m=H(g,j);if(m!=N(j))if(j<n()&&!1!==p(l,m,!0)&&h()[e(l)].def==h()[e(j)].def)B(g,l,H(g,j),!0),j<b&&C(g,j);else if(o(l))break}else C(g,l);void 0!=d&&B(g,x(b),d);if(!1==c().greedy){b=I(g.join("")).split("");g.length=b.length;l=0;for(d=g.length;l<d;l++)g[l]=b[l];0==g.length&&(c().buffer=k().slice())}return a}function F(a,b,d,g){for(var l=f();a<=b&&a<n();a++)if(o(a)){var j=
H(l,a,!0);B(l,a,d,!0);if(j!=N(a))if(d=u(a),d<n())if(!1!==p(d,j,!0)&&h()[e(a)].def==h()[e(d)].def)d=j;else if(o(d))break;else d=j;else break;else if(d=j,!0!==g)break}else C(l,a);g=l.length;if(!1==c().greedy){d=I(l.join("")).split("");l.length=d.length;a=0;for(j=l.length;a<j;a++)l[a]=d[a];0==l.length&&(c().buffer=k().slice())}return b-(g-l.length)}function A(e){U=!1;var v=this,y=e.keyCode,h=s(v);if(y==a.keyCode.BACKSPACE||y==a.keyCode.DELETE||ba&&127==y||e.ctrlKey&&88==y){e.preventDefault();if(a.numericInput||
D)switch(y){case a.keyCode.BACKSPACE:y=a.keyCode.DELETE;break;case a.keyCode.DELETE:y=a.keyCode.BACKSPACE}if($(h.begin,h.end)){if(D){var l=h.end;h.end=h.begin;h.begin=l}G(f(),h.begin,h.end);if(0==h.begin&&h.end==n())b.each(d,function(a,b){"object"==typeof b&&(b.buffer=b._buffer.slice(),b.lastValidPosition=-1,b.p=0)});else{l=n();if(!1==a.greedy)J(h.begin,l);else for(var m=h.begin;m<h.end;m++)o(m)&&J(h.begin,l);E(v,!1,!0,f())}}else b.each(d,function(b,d){if("object"==typeof d){g=b;var e=aa?h.end:h.begin,
v=f(),l=u(-1),j=n();y==a.keyCode.BACKSPACE&&e--;e<l&&(e=l);e<j&&(a.isNumeric&&(""!=a.radixPoint&&v[e]==a.radixPoint)&&(e=v.length-1==e?e:u(e)),e=J(e,j),-1!=c().lastValidPosition&&f()[c().lastValidPosition]==k()[c().lastValidPosition]&&(c().lastValidPosition=0==c().lastValidPosition?-1:x(c().lastValidPosition)),c().lastValidPosition<l?(c().lastValidPosition=-1,c().p=l):(c().writeOutBuffer=!0,c().p=e))}});r();z(v,f(),c().p);v._valueGet()==k().join("")&&b(v).trigger("cleared");a.showTooltip&&j.prop("title",
c().mask)}else y==a.keyCode.END||y==a.keyCode.PAGE_DOWN?setTimeout(function(){var b=u(c().lastValidPosition);!a.insertMode&&(b==n()&&!e.shiftKey)&&b--;s(v,e.shiftKey?h.begin:b,b)},0):y==a.keyCode.HOME&&!e.shiftKey||y==a.keyCode.PAGE_UP?s(v,0,e.shiftKey?h.begin:0):y==a.keyCode.ESCAPE?E(v,!0,!0,O):y==a.keyCode.INSERT&&!e.shiftKey&&!e.ctrlKey?(a.insertMode=!a.insertMode,s(v,!a.insertMode&&h.begin==n()?h.begin-1:h.begin)):!1==a.insertMode&&!e.shiftKey&&(y==a.keyCode.RIGHT?setTimeout(function(){var a=
s(v);s(v,a.begin)},0):y==a.keyCode.LEFT&&setTimeout(function(){var a=s(v);s(v,a.begin-1)},0));l=s(v);a.onKeyDown.call(this,e,f(),a);s(v,l.begin,l.end);X=-1!=b.inArray(y,a.ignorables)}function R(e,h,j,k,l,m){if(void 0==j&&U)return!1;U=!0;var q=b(this),e=e||window.event,j=j||e.which||e.charCode||e.keyCode;if((!e.ctrlKey||!e.altKey)&&(e.ctrlKey||e.metaKey||X)&&!0!==h)return!0;if(j){!0!==h&&(46==j&&!1==e.shiftKey&&","==a.radixPoint)&&(j=44);var w,t,C,A=String.fromCharCode(j);h?(j=l?m:c().lastValidPosition+
1,w={begin:j,end:j}):w=s(this);var j=$(w.begin,w.end),I=!1,m=g;j&&(D&&(t=w.end,w.end=w.begin,w.begin=t),b.each(d,function(b,d){if(typeof d=="object"){g=b;c().undoBuffer=f().join("");var e=w.end<n()?w.end:n();c().lastValidPosition>w.begin&&c().lastValidPosition<e?c().lastValidPosition=x(w.begin):I=true;G(f(),w.begin,e);var h=n();if(a.greedy==false)J(w.begin,h);else for(var j=w.begin;j<e;j++)o(j)&&J(w.begin,h)}}),!0===I&&(g=m,E(this,!1,!0,f()),a.insertMode||b.each(d,function(a,b){if(typeof b=="object"){g=
a;F(w.begin,n(),N(w.begin),true);c().lastValidPosition=u(c().lastValidPosition)}})),g=m);a.isNumeric&&(A==a.radixPoint&&!0!==h)&&(t=f().join("").indexOf(a.radixPoint),-1!=t&&(w.begin=w.begin==t?u(t):t,w.end=w.begin,s(this,w.begin)));var M=w.begin;t=p(M,A,l);!0===l&&(t=[{activeMasksetIndex:g,result:t}]);b.each(t,function(b,d){g=d.activeMasksetIndex;c().writeOutBuffer=true;var e=d.result;if(e!==false){var h=false,j=f();if(e!==true){h=e.refresh;M=e.pos!=void 0?e.pos:M;A=e.c!=void 0?e.c:A}if(h!==true)if(a.insertMode==
true){e=n();for(h=j.slice();H(h,e,true)!=N(e)&&e>=M;)e=e==0?-1:x(e);if(e>=M){F(M,j.length,A);j=c().lastValidPosition;e=u(j);e!=n()&&(j>=M&&H(f(),e,true)!=N(e))&&(c().lastValidPosition=e)}else c().writeOutBuffer=false}else B(j,M,A,true);c().p=u(M)}});!0!==l&&(g=m,r());if(!1!==k&&(b.each(t,function(a,b){if(b.activeMasksetIndex==g){C=b;return false}}),void 0!=C)){var L=this;setTimeout(function(){a.onKeyValidation.call(L,C.result,a)},0);if(c().writeOutBuffer&&!1!==C.result){var K=f();z(this,K,h?void 0:
a.numericInput?x(c().p):c().p);!0!==h&&setTimeout(function(){T(K)&&q.trigger("complete")},0)}else j&&(c().buffer=c().undoBuffer.split(""))}a.showTooltip&&q.prop("title",c().mask);e.preventDefault()}}function V(c){var d=b(this),e=c.keyCode,g=f(),h=s(this);a.onKeyUp.call(this,c,g,a);s(this,h.begin,h.end);e==a.keyCode.TAB&&(d.hasClass("focus.inputmask")&&0==this._valueGet().length&&a.showMaskOnFocus)&&(g=k().slice(),z(this,g),s(this,0),O=f().join(""))}var j=b(m);if(j.is(":input")){j.data("_inputmask",
{masksets:d,activeMasksetIndex:g,opts:a,isRTL:!1});a.showTooltip&&j.prop("title",c().mask);c().greedy=c().greedy?c().greedy:0==c().repeat;if(null!=j.attr("maxLength")){var K=j.prop("maxLength");-1<K&&b.each(d,function(a,b){"object"==typeof b&&"*"==b.repeat&&(b.repeat=K)});n()>K&&-1<K&&(K<k().length&&(k().length=K),!1==c().greedy&&(c().repeat=Math.round(K/k().length)),j.prop("maxLength",2*n()))}t(m);var U=!1,X=!1;a.numericInput&&(a.isNumeric=a.numericInput);("rtl"==m.dir||a.numericInput&&a.rightAlignNumerics||
a.isNumeric&&a.rightAlignNumerics)&&j.css("text-align","right");if("rtl"==m.dir||a.numericInput){m.dir="ltr";j.removeAttr("dir");var Y=j.data("_inputmask");Y.isRTL=!0;j.data("_inputmask",Y);D=!0}j.unbind(".inputmask");j.removeClass("focus.inputmask");j.closest("form").bind("submit",function(){O!=f().join("")&&j.change()}).bind("reset",function(){b.each(d,function(a,b){if(typeof b=="object"){b.buffer=b._buffer.slice();b.lastValidPosition=-1;b.p=-1}})});j.bind("mouseenter.inputmask",function(){!b(this).hasClass("focus.inputmask")&&
a.showMaskOnHover&&this._valueGet()!=f().join("")&&z(this,f())}).bind("blur.inputmask",function(){var c=b(this),e=this._valueGet(),h=f();c.removeClass("focus.inputmask");O!=f().join("")&&c.change();a.clearMaskOnLostFocus&&e!=""&&(e==k().join("")?this._valueSet(""):L(this));if(!T(h)){c.trigger("incomplete");if(a.clearIncomplete){b.each(d,function(a,b){if(typeof b=="object"){b.buffer=b._buffer.slice();b.lastValidPosition=-1;b.p=0}});g=0;if(a.clearMaskOnLostFocus)this._valueSet("");else{h=k().slice();
z(this,h)}}}}).bind("focus.inputmask",function(){var d=b(this),e=this._valueGet();a.showMaskOnFocus&&!d.hasClass("focus.inputmask")&&(!a.showMaskOnHover||a.showMaskOnHover&&e=="")&&this._valueGet()!=f().join("")&&z(this,f(),c().p);d.addClass("focus.inputmask");O=f().join("")}).bind("mouseleave.inputmask",function(){var c=b(this);a.clearMaskOnLostFocus&&(c.hasClass("focus.inputmask")||(this._valueGet()==k().join("")||this._valueGet()==""?this._valueSet(""):L(this)))}).bind("click.inputmask",function(){var d=
this;setTimeout(function(){var e=s(d),g=f();if(e.begin==e.end){var e=a.isRTL?Q(e.begin):e.begin,h=c().lastValidPosition,g=a.isNumeric?a.skipRadixDance===false&&a.radixPoint!=""&&b.inArray(a.radixPoint,g)!=-1?a.numericInput?u(b.inArray(a.radixPoint,g)):b.inArray(a.radixPoint,g):u(h):u(h);e<g?o(e)?s(d,e):s(d,u(e)):s(d,g)}},0)}).bind("dblclick.inputmask",function(){var a=this;setTimeout(function(){s(a,0,u(c().lastValidPosition))},0)}).bind("keydown.inputmask",A).bind("keypress.inputmask",R).bind("keyup.inputmask",
V).bind(ca+".inputmask dragdrop.inputmask drop.inputmask",function(a){var c=this,d=b(c);if(a.type=="propertychange"&&c._valueGet().length<=n())return true;setTimeout(function(){E(c,true,false);T(f())&&d.trigger("complete");d.click()},0)}).bind("setvalue.inputmask",function(){E(this,true);O=f().join("");this._valueGet()==k().join("")&&this._valueSet("")}).bind("_keypress.inputmask",R).bind("complete.inputmask",a.oncomplete).bind("incomplete.inputmask",a.onincomplete).bind("cleared.inputmask",a.oncleared);
E(m,!0,!1);O=f().join("");var Z;try{Z=document.activeElement}catch(da){}Z===m?(j.addClass("focus.inputmask"),s(m,c().p)):a.clearMaskOnLostFocus?f().join("")==k().join("")?m._valueSet(""):L(m):z(m,f());q(m)}};return this}var a=b.extend(!0,{},b.inputmask.defaults,C),ba=null!==navigator.userAgent.match(/iphone/i),R=null!==navigator.userAgent.match(/android.*safari.*/i),ca=E("paste")?"paste":E("input")?"input":"propertychange",aa,p,x=0;if(R){var z=navigator.userAgent.match(/safari.*/i);aa=537>=parseInt(RegExp(/[0-9]+/).exec(z))}if("string"===
typeof B)switch(B){case "mask":return G(a.alias,C),p=L(),this.each(function(){A(b.extend(!0,{},p),0).mask(this)});case "unmaskedvalue":return z=b(this),z.data("_inputmask")?(p=z.data("_inputmask").masksets,x=z.data("_inputmask").activeMasksetIndex,a=z.data("_inputmask").opts,A(p,x).unmaskedvalue(z)):z.val();case "remove":return this.each(function(){var d=b(this);if(d.data("_inputmask")){p=d.data("_inputmask").masksets;x=d.data("_inputmask").activeMasksetIndex;a=d.data("_inputmask").opts;this._valueSet(A(p,
x).unmaskedvalue(d,!0));d.removeData("_inputmask");d.unbind(".inputmask");d.removeClass("focus.inputmask");var g;Object.getOwnPropertyDescriptor&&(g=Object.getOwnPropertyDescriptor(this,"value"));g&&g.get?this._valueGet&&Object.defineProperty(this,"value",{get:this._valueGet,set:this._valueSet}):document.__lookupGetter__&&this.__lookupGetter__("value")&&this._valueGet&&(this.__defineGetter__("value",this._valueGet),this.__defineSetter__("value",this._valueSet));try{delete this._valueGet,delete this._valueSet}catch(c){this._valueSet=
this._valueGet=void 0}}});case "getemptymask":return this.data("_inputmask")?(p=this.data("_inputmask").masksets,x=this.data("_inputmask").activeMasksetIndex,p[x]._buffer.join("")):"";case "hasMaskedValue":return this.data("_inputmask")?!this.data("_inputmask").opts.autoUnmask:!1;case "isComplete":return p=this.data("_inputmask").masksets,x=this.data("_inputmask").activeMasksetIndex,a=this.data("_inputmask").opts,A(p,x).isComplete(this[0]._valueGet().split(""));case "getmetadata":if(this.data("_inputmask"))return p=
this.data("_inputmask").masksets,x=this.data("_inputmask").activeMasksetIndex,p[x].metadata;return;default:return G(B,C)||(a.mask=B),p=L(),this.each(function(){A(b.extend(true,{},p),x).mask(this)})}else{if("object"==typeof B)return a=b.extend(!0,{},b.inputmask.defaults,B),G(a.alias,B),p=L(),this.each(function(){A(b.extend(!0,{},p),x).mask(this)});if(void 0==B)return this.each(function(){var d=b(this).attr("data-inputmask");if(d&&""!=d)try{var d=d.replace(RegExp("'","g"),'"'),g=b.parseJSON("{"+d+"}");
b.extend(!0,g,C);a=b.extend(!0,{},b.inputmask.defaults,g);G(a.alias,g);a.alias=void 0;b(this).inputmask(a)}catch(c){}})}return this})})(jQuery);
