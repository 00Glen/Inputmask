/*
 Input Mask plugin for jquery
 http://github.com/RobinHerbots/jquery.inputmask
 Copyright (c) 2010 - 2014 Robin Herbots
 Licensed under the MIT license (http://www.opensource.org/licenses/mit-license.php)
 Version: 3.0.11
*/
(function(d){if(void 0===d.fn.inputmask){var R=function(e){var c=document.createElement("input");e="on"+e;var d=e in c;d||(c.setAttribute(e,"return;"),d="function"==typeof c[e]);return d},H=function(e,c,a){return(e=a.aliases[e])?(e.alias&&H(e.alias,void 0,a),d.extend(!0,a,e),d.extend(!0,a,c),!0):!1},I=function(e){function c(c){function d(c,g,e,a){this.matches=[];this.isGroup=c||!1;this.isOptional=g||!1;this.isQuantifier=e||!1;this.isAlternator=a||!1;this.quantifier={min:1,max:1}}function a(c,g,d){var h=
e.definitions[g],n=0==c.matches.length;d=void 0!=d?d:c.matches.length;if(h&&!v){for(var p=h.prevalidator,l=p?p.length:0,f=1;f<h.cardinality;f++){var s=l>=f?p[f-1]:[],q=s.validator,s=s.cardinality;c.matches.splice(d++,0,{fn:q?"string"==typeof q?RegExp(q):new function(){this.test=q}:/./,cardinality:s?s:1,optionality:c.isOptional,newBlockMarker:n,casing:h.casing,def:h.definitionSymbol||g})}c.matches.splice(d++,0,{fn:h.validator?"string"==typeof h.validator?RegExp(h.validator):new function(){this.test=
h.validator}:/./,cardinality:h.cardinality,optionality:c.isOptional,newBlockMarker:n,casing:h.casing,def:h.definitionSymbol||g})}else c.matches.splice(d++,0,{fn:null,cardinality:0,optionality:c.isOptional,newBlockMarker:n,casing:null,def:g}),v=!1}for(var f=/(?:[?*+]|\{[0-9\+\*]+(?:,[0-9\+\*]*)?\})\??|[^.?*+^${[]()|\\]+|./g,v=!1,q=new d,g,h=[],p=[];g=f.exec(c);)switch(g=g[0],g.charAt(0)){case e.optionalmarker.end:case e.groupmarker.end:var l=h.pop();0<h.length?h[h.length-1].matches.push(l):q.matches.push(l);
break;case e.optionalmarker.start:h.push(new d(!1,!0));break;case e.groupmarker.start:h.push(new d(!0));break;case e.quantifiermarker.start:l=new d(!1,!1,!0);g=g.replace(/[{}]/g,"");var u=g.split(",");g=isNaN(u[0])?u[0]:parseInt(u[0]);u=1==u.length?g:isNaN(u[1])?u[1]:parseInt(u[1]);if("*"==u||"+"==u)g="*"==g?0:1,e.greedy=!1;l.quantifier={min:g,max:u};if(0<h.length){u=h[h.length-1].matches;g=u.pop();if(!g.isGroup){var z=new d(!0);z.matches.push(g);g=z}u.push(g);u.push(l)}else g=q.matches.pop(),g.isGroup||
(z=new d(!0),z.matches.push(g),g=z),q.matches.push(g),q.matches.push(l);break;case e.escapeChar:v=!0;break;case e.alternatormarker:break;default:0<h.length?a(h[h.length-1],g):(0<q.matches.length&&(l=q.matches[q.matches.length-1],l.isGroup&&(l.isGroup=!1,a(l,e.groupmarker.start,0),a(l,e.groupmarker.end))),a(q,g))}0<q.matches.length&&p.push(q);return p}function a(a,f){e.numericInput&&(a=a.split("").reverse().join(""));if(void 0!=a&&""!=a){if(0<e.repeat||"*"==e.repeat||"+"==e.repeat)a=e.groupmarker.start+
a+e.groupmarker.end+e.quantifiermarker.start+("*"==e.repeat?0:"+"==e.repeat?1:e.repeat)+","+e.repeat+e.quantifiermarker.end;void 0==d.inputmask.masksCache[a]&&(d.inputmask.masksCache[a]={mask:a,maskToken:c(a),validPositions:{},_buffer:void 0,buffer:void 0,tests:{},metadata:f});return d.extend(!0,{},d.inputmask.masksCache[a])}}var f=[];d.isFunction(e.mask)&&(e.mask=e.mask.call(this,e));d.isArray(e.mask)?d.each(e.mask,function(c,d){void 0!=d.mask?f.push(a(d.mask.toString(),d)):f.push(a(d.toString()))}):
(1==e.mask.length&&!1==e.greedy&&0!=e.repeat&&(e.placeholder=""),f=void 0!=e.mask.mask?a(e.mask.mask.toString(),e.mask):a(e.mask.toString()));return f},ca="function"===typeof ScriptEngineMajorVersion?ScriptEngineMajorVersion():10<=(new Function("/*@cc_on return @_jscript_version; @*/"))(),x=navigator.userAgent,da=null!==x.match(/iphone/i),ea=null!==x.match(/android.*safari.*/i),fa=null!==x.match(/android.*chrome.*/i),X=null!==x.match(/android.*firefox.*/i),Y=/Kindle/i.test(x)||/Silk/i.test(x)||/KFTT/i.test(x)||
/KFOT/i.test(x)||/KFJWA/i.test(x)||/KFJWI/i.test(x)||/KFSOWI/i.test(x)||/KFTHWA/i.test(x)||/KFTHWI/i.test(x)||/KFAPWA/i.test(x)||/KFAPWI/i.test(x),S=R("paste")?"paste":R("input")?"input":"propertychange",F=function(e,c,a){function f(b,m,g){m=m||0;var d=[],w,k=0,a;do{if(!0===b&&e.validPositions[k]){var h=e.validPositions[k];a=h.match;w=h.locator.slice();d.push(null==a.fn?a.def:!0===g?h.input:c.placeholder.charAt(k%c.placeholder.length))}else w=v(k,w,k-1),a=w[0].match,w=w[m>k||c.greedy||!0===a.optionality&&
!1===a.newBlockMarker&&!0!==a.optionalQuantifier?0:w.length-1],a=w.match,w=w.locator.slice(),d.push(null==a.fn?a.def:c.placeholder.charAt(k%c.placeholder.length));k++}while((void 0==K||k-1<K)&&null!=a.fn||null==a.fn&&""!=a.def||m>=k);d.pop();return d}function n(b){var m=e;m.buffer=void 0;m.tests={};!0!==b&&(m._buffer=void 0,m.validPositions={},m.p=-1)}function s(b){b=-1;var m=e.validPositions,c;for(c in m)m=parseInt(c),m>b&&(b=m);return b}function C(b,m,g){if(c.insertMode&&void 0!=e.validPositions[b]&&
void 0==g){g=d.extend(!0,{},e.validPositions);var D=s(),a;for(a=b;a<=D;a++)delete e.validPositions[a];e.validPositions[b]=m;m=!0;for(a=b;a<=D;){b=A(a);var k=g[a];if(void 0!=k)if(a=N(b,k.locator.slice(),a),null==a.fn&&""==a.def)m=!1;else if(null==k.match.fn||k.match.def==a.def)m=m&&!1!==l(b,k.input,!0,!0);if(!m)break;a=b}if(!m)return e.validPositions=d.extend(!0,{},g),!1}else e.validPositions[b]=m;return!0}function N(b,m,c){return e.validPositions[b]?e.validPositions[b].match:v(b,m,c)[0].match}function v(b,
m,c){function g(c,m,d,e){function G(d,e,f){if(k==b&&void 0==d.matches)return a.push({match:d,locator:e.reverse()}),!0;if(void 0!=d.matches)if(d.isGroup&&!0!==f){if(d=G(c.matches[w+1],e))return!0}else if(d.isOptional){var p=d;if(d=g(d,m,e,f))d=a[a.length-1].match,(d=0==p.matches.indexOf(d))&&(h=!0),k=b}else{if(!d.isAlternator)if(d.isQuantifier&&!0!==f)for(p=d,f=0<m.length&&!0!==f?m.shift():0;f<(isNaN(p.quantifier.max)?f+1:p.quantifier.max)&&k<=b;f++){var l=c.matches[c.matches.indexOf(p)-1];if(d=G(l,
[f].concat(e),!0))if(d=a[a.length-1].match,d.optionalQuantifier=f>p.quantifier.min-1,d=0==l.matches.indexOf(d))if(f>p.quantifier.min-1){h=!0;k=b;break}else return!0;else return!0}else if(d=g(d,m,e,f))return!0}else k++}for(var w=0<m.length?m.shift():0;w<c.matches.length;w++)if(!0!==c.matches[w].isQuantifier){var f=G(c.matches[w],[w].concat(d),e);if(f&&k==b)return f;if(k>b)break}}var d=e.maskToken,k=m?c:0;c=m||[0];var a=[],h=!1;if(void 0==m){m=b-1;for(var f;void 0==(f=e.validPositions[m])&&-1<m;)m--;
if(void 0!=f&&-1<m)k=m,c=f.locator.slice();else{for(m=b-1;void 0==(f=e.tests[m])&&-1<m;)m--;void 0!=f&&-1<m&&(k=m,c=f[0].locator.slice())}}for(m=c.shift();m<d.length&&!(g(d[m],c,[m])&&k==b||k>b);m++);(0==a.length||h)&&a.push({match:{fn:null,cardinality:0,optionality:!0,casing:null,def:""},locator:[]});return e.tests[b]=a}function q(){void 0==e._buffer&&(e._buffer=f(!1,1));return e._buffer}function g(){void 0==e.buffer&&(e.buffer=f(!0,s(),!0));return e.buffer}function h(b,d){for(var e=g().slice(),
a=b;a<d;a++)e[a]!=P(a)&&e[a]!=c.skipOptionalPartCharacter&&l(a,e[a],!0,!0)}function p(b,d){switch(d.casing){case "upper":b=b.toUpperCase();break;case "lower":b=b.toLowerCase()}return b}function l(b,m,G,a){function f(b,m,a,G){var k=!1;d.each(v(b),function(D,f){for(var w=f.match,l=m?1:0,r="",ga=g(),q=w.cardinality;q>l;q--)r+=void 0==e.validPositions[b-(q-1)]?P(b-(q-1)):e.validPositions[b-(q-1)].input;m&&(r+=m);k=null!=w.fn?w.fn.test(r,ga,b,a,c):m!=w.def&&m!=c.skipOptionalPartCharacter||""==w.def?!1:
{c:w.def,pos:b};if(!1!==k){l=void 0!=k.c?k.c:m;l=l==c.skipOptionalPartCharacter&&null===w.fn?w.def:l;r=b;if(k.refreshFromBuffer){r=k.refreshFromBuffer;a=!0;!0===r?(e.validPositions={},e.tests={},h(0,g().length)):h(r.start,r.end);if(void 0==k.pos&&void 0==k.c)return k.pos=s(),!1;r=void 0!=k.pos?k.pos:b;f=v(r)[0]}else!0!==k&&k.pos!=b&&(r=k.pos,h(b,r),f=v(r)[0]);0<D&&n(!0);C(r,d.extend({},f,{input:p(l,w)}),G)||(k=!1);return!1}});return k}G=!0===G;var k=f(b,m,G,a);if(!G&&(c.insertMode||void 0==e.validPositions[A(b)])&&
!1===k&&!u(b))for(var l=b+1,r=A(b);l<=r;l++)if(k=f(l,m,G,a),!1!==k){b=l;break}!0===k&&(k={pos:b});return k}function u(b){b=N(b);return null!=b.fn?b.fn:!1}function z(){var b;K=t.prop("maxLength");-1==K&&(K=void 0);if(!1==c.greedy){var d;d=s();b=e.validPositions[d];var a=void 0!=b?b.locator.slice():void 0;for(d+=1;void 0==b||null!=b.match.fn||null==b.match.fn&&""!=b.match.def;d++)b=v(d,a,d-1),a=b[0].match,b=b[c.greedy||!0===a.optionality&&!1===a.newBlockMarker&&!0!==a.optionalQuantifier?0:b.length-
1],a=b.locator.slice();b=d}else b=g().length;return void 0==K||b<K?b:K}function A(b){var d=z();if(b>=d)return d;for(;++b<d&&!u(b)&&(!0!==c.nojumps||c.nojumpsThreshold>b););return b}function x(b){if(0>=b)return 0;for(;0<--b&&!u(b););return b}function E(b,d,c){b._valueSet(d.join(""));void 0!=c&&y(b,c)}function P(b,d){d=d||N(b);return null==d.fn?d.def:c.placeholder.charAt(b%c.placeholder.length)}function M(b,c,a,D,f){D=void 0!=D?D.slice():H(b._valueGet()).split("");n();c&&b._valueSet("");d.each(D,function(c,
g){if(!0===f){var m=e.p,m=-1==m?m:x(m),D=-1==m?c:A(m);-1==d.inArray(g,q().slice(m+1,D))&&T.call(b,void 0,!0,g.charCodeAt(0),!1,a,c)}else T.call(b,void 0,!0,g.charCodeAt(0),!1,a,c),a=a||0<c&&c>e.p});c&&E(b,g(),A(s()))}function F(b){return d.inputmask.escapeRegex.call(this,b)}function H(b){return b.replace(RegExp("("+F(q().join(""))+")*$"),"")}function I(b){var d=g().slice(),a,D=s(),f={},k=e.validPositions[D].locator.slice();for(a=D+1;a<d.length;a++){var k=v(a,k,a-1),h=k[0].match,k=k[c.greedy||!0===
h.optionality&&!1===h.newBlockMarker&&!0!==h.optionalQuantifier?0:k.length-1];f[a]=k;k=k.locator.slice()}for(a=d.length-1;a>D;a--)if(k=f[a].match,k.optionality&&d[a]==P(a,k))d.pop();else break;E(b,d)}function Q(b,m){if(!b.data("_inputmask")||!0!==m&&b.hasClass("hasDatepicker"))return b[0]._valueGet();var a=d.map(g(),function(b,d){return u(d)&&l(d,b,!0)?b:null}),a=(B?a.reverse():a).join(""),e=(B?g().reverse():g()).join("");return d.isFunction(c.onUnMask)?c.onUnMask.call(b,e,a,c):a}function J(b){!B||
"number"!=typeof b||c.greedy&&""==c.placeholder||(b=g().length-b);return b}function y(b,g,a){b=b.jquery&&0<b.length?b[0]:b;if("number"==typeof g){g=J(g);a=J(a);a="number"==typeof a?a:g;var e=d(b).data("_inputmask")||{};e.caret={begin:g,end:a};d(b).data("_inputmask",e);d(b).is(":visible")&&(b.scrollLeft=b.scrollWidth,!1==c.insertMode&&g==a&&a++,b.setSelectionRange?(b.selectionStart=g,b.selectionEnd=a):b.createTextRange&&(b=b.createTextRange(),b.collapse(!0),b.moveEnd("character",a),b.moveStart("character",
g),b.select()))}else return e=d(b).data("_inputmask"),!d(b).is(":visible")&&e&&void 0!=e.caret?(g=e.caret.begin,a=e.caret.end):b.setSelectionRange?(g=b.selectionStart,a=b.selectionEnd):document.selection&&document.selection.createRange&&(b=document.selection.createRange(),g=0-b.duplicate().moveStart("character",-1E5),a=g+b.text.length),g=J(g),a=J(a),{begin:g,end:a}}function O(b){if(d.isFunction(c.isComplete))return c.isComplete.call(t,b,c);if("*"!=c.repeat){var g=!1,a=x(z());if(s()==a)for(var g=!0,
e=0;e<=a;e++){var f=u(e);if(f&&(void 0==b[e]||b[e]==P(e))||!f&&b[e]!=P(e)){g=!1;break}}return g}}function R(b){b=d._data(b).events;d.each(b,function(b,c){d.each(c,function(b,d){if("inputmask"==d.namespace&&"setvalue"!=d.type){var c=d.handler;d.handler=function(b){if(this.readOnly||this.disabled)b.preventDefault;else return c.apply(this,arguments)}}})})}function ha(b){function c(b){if(void 0==d.valHooks[b]||!0!=d.valHooks[b].inputmaskpatch){var a=d.valHooks[b]&&d.valHooks[b].get?d.valHooks[b].get:
function(b){return b.value},g=d.valHooks[b]&&d.valHooks[b].set?d.valHooks[b].set:function(b,d){b.value=d;return b};d.valHooks[b]={get:function(b){var c=d(b);if(c.data("_inputmask")){if(c.data("_inputmask").opts.autoUnmask)return c.inputmask("unmaskedvalue");b=a(b);c=(c=c.data("_inputmask").maskset._buffer)?c.join(""):"";return b!=c?b:""}return a(b)},set:function(b,c){var a=d(b),e=g(b,c);a.data("_inputmask")&&a.triggerHandler("setvalue.inputmask");return e},inputmaskpatch:!0}}}var g;Object.getOwnPropertyDescriptor&&
(g=Object.getOwnPropertyDescriptor(b,"value"));if(g&&g.get){if(!b._valueGet){var a=g.get,e=g.set;b._valueGet=function(){return B?a.call(this).split("").reverse().join(""):a.call(this)};b._valueSet=function(b){e.call(this,B?b.split("").reverse().join(""):b)};Object.defineProperty(b,"value",{get:function(){var b=d(this),c=d(this).data("_inputmask"),g=c.maskset;return c&&c.opts.autoUnmask?b.inputmask("unmaskedvalue"):a.call(this)!=g._buffer.join("")?a.call(this):""},set:function(b){e.call(this,b);d(this).triggerHandler("setvalue.inputmask")}})}}else document.__lookupGetter__&&
b.__lookupGetter__("value")?b._valueGet||(a=b.__lookupGetter__("value"),e=b.__lookupSetter__("value"),b._valueGet=function(){return B?a.call(this).split("").reverse().join(""):a.call(this)},b._valueSet=function(b){e.call(this,B?b.split("").reverse().join(""):b)},b.__defineGetter__("value",function(){var b=d(this),c=d(this).data("_inputmask"),g=c.maskset;return c&&c.opts.autoUnmask?b.inputmask("unmaskedvalue"):a.call(this)!=g._buffer.join("")?a.call(this):""}),b.__defineSetter__("value",function(b){e.call(this,
b);d(this).triggerHandler("setvalue.inputmask")})):(b._valueGet||(b._valueGet=function(){return B?this.value.split("").reverse().join(""):this.value},b._valueSet=function(b){this.value=B?b.split("").reverse().join(""):b}),c(b.type))}function Z(b,d,a){if(c.numericInput||B){switch(d){case c.keyCode.BACKSPACE:d=c.keyCode.DELETE;break;case c.keyCode.DELETE:d=c.keyCode.BACKSPACE}B&&(b=a.end,a.end=a.begin,a.begin=b)}a.begin==a.end?(b=d==c.keyCode.BACKSPACE?a.begin-1:a.begin,c.isNumeric&&""!=c.radixPoint&&
g()[b]==c.radixPoint&&(a.begin=g().length-1==b?a.begin:d==c.keyCode.BACKSPACE?b:A(b),a.end=a.begin),d==c.keyCode.BACKSPACE?a.begin=x(a.begin):d==c.keyCode.DELETE&&a.end++):1!=a.end-a.begin||c.insertMode||d==c.keyCode.BACKSPACE&&a.begin--;b=a.begin;var f=a.end;for(d=A(b-1);b<f;b++)delete e.validPositions[b];for(b=A(f-1);b<=s();b=A(b)){var f=e.validPositions[b],h=e.validPositions[d];void 0!=f&&void 0==h&&(N(d).def==f.match.def&&!1!==l(d,f.input,!0)&&delete e.validPositions[b],d=A(d))}for(d=s();0<d&&
(void 0==e.validPositions[d]||null==e.validPositions[d].match.fn);)delete e.validPositions[d],d--;n(!0);d=A(-1);s()<d?e.p=d:e.p=a.begin}function U(b){V=!1;var a=this,f=d(a),l=b.keyCode,p=y(a);l==c.keyCode.BACKSPACE||l==c.keyCode.DELETE||da&&127==l||b.ctrlKey&&88==l?(b.preventDefault(),88==l&&(L=g().join("")),Z(a,l,p),E(a,g(),e.p),a._valueGet()==q().join("")&&f.trigger("cleared"),c.showTooltip&&f.prop("title",e.mask)):l==c.keyCode.END||l==c.keyCode.PAGE_DOWN?setTimeout(function(){var d=A(s());c.insertMode||
d!=z()||b.shiftKey||d--;y(a,b.shiftKey?p.begin:d,d)},0):l==c.keyCode.HOME&&!b.shiftKey||l==c.keyCode.PAGE_UP?y(a,0,b.shiftKey?p.begin:0):l==c.keyCode.ESCAPE||90==l&&b.ctrlKey?(M(a,!0,!1,L.split("")),f.click()):l!=c.keyCode.INSERT||b.shiftKey||b.ctrlKey?!1!=c.insertMode||b.shiftKey||(l==c.keyCode.RIGHT?setTimeout(function(){var b=y(a);y(a,b.begin)},0):l==c.keyCode.LEFT&&setTimeout(function(){var b=y(a);y(a,b.begin-1)},0)):(c.insertMode=!c.insertMode,y(a,c.insertMode||p.begin!=z()?p.begin:p.begin-1));
var f=y(a),k=c.onKeyDown.call(this,b,g(),c);k&&!0===k.refreshFromBuffer&&(e.validPositions={},e.tests={},h(0,g().length),n(!0),E(a,g()),y(a,f.begin,f.end));$=-1!=d.inArray(l,c.ignorables)}function T(b,a,f,h,p,k){if(void 0==f&&V)return!1;V=!0;var q=d(this);b=b||window.event;f=a?f:b.which||b.charCode||b.keyCode;if(!(!0===a||b.ctrlKey&&b.altKey)&&(b.ctrlKey||b.metaKey||$))return!0;if(f){!0!==a&&46==f&&!1==b.shiftKey&&","==c.radixPoint&&(f=44);var r,u;f=String.fromCharCode(f);a?(k=p?k:s()+1,r={begin:k,
end:k}):r=y(this);if(k=B?1<r.begin-r.end||1==r.begin-r.end&&c.insertMode:1<r.end-r.begin||1==r.end-r.begin&&c.insertMode)e.undoPositions=d.extend(!0,{},e.validPositions),Z(this,c.keyCode.DELETE,r),c.insertMode||(c.insertMode=!c.insertMode,C(r.begin,p),c.insertMode=!c.insertMode),k=!c.multi;var t=g().join("").indexOf(c.radixPoint);c.isNumeric&&!0!==a&&-1!=t&&(c.greedy&&r.begin<=t?(r.begin=x(r.begin),r.end=r.begin):f==c.radixPoint&&(r.begin=t,r.end=r.begin));e.writeOutBuffer=!0;r=r.begin;var z=l(r,
f,p);!1!==z&&(!0!==z&&(r=void 0!=z.pos?z.pos:r,f=void 0!=z.c?z.c:f),n(!0),u=void 0!=z.caret?z.caret:A(r),e.p=u);if(!1!==h){var v=this;setTimeout(function(){c.onKeyValidation.call(v,z,c)},0);if(e.writeOutBuffer&&!1!==z){var N=g();h=a?void 0:c.numericInput?r>t?x(u):f==c.radixPoint?u-1:x(u-1):u;E(this,N,h);!0!==a&&setTimeout(function(){!0===O(N)&&q.trigger("complete");W=!0;q.trigger("input")},0)}else k&&(e.buffer=void 0,e.validPositions=e.undoPositions)}else k&&(e.buffer=void 0,e.validPositions=e.undoPositions);
c.showTooltip&&q.prop("title",e.mask);b&&!0!=a&&(b.preventDefault?b.preventDefault():b.returnValue=!1)}}function aa(b){var a=d(this),f=b.keyCode,l=g();(b=c.onKeyUp.call(this,b,l,c))&&!0===b.refreshFromBuffer&&(e.validPositions={},e.tests={},h(0,g().length),n(!0),E(this,g()));f==c.keyCode.TAB&&c.showMaskOnFocus&&(a.hasClass("focus.inputmask")&&0==this._valueGet().length?(n(),l=g(),E(this,l),y(this,0),L=g().join("")):(E(this,l),l.join("")==q().join("")&&-1!=d.inArray(c.radixPoint,l)?(y(this,J(0)),a.click()):
y(this,J(0),J(z()))))}function ba(b){if(!0===W&&"input"==b.type)return W=!1,!0;var a=this,e=d(a);if("propertychange"==b.type&&a._valueGet().length<=z())return!0;setTimeout(function(){var b=d.isFunction(c.onBeforePaste)?c.onBeforePaste.call(a,a._valueGet(),c):a._valueGet();M(a,!0,!1,b.split(""),!0);!0===O(g())&&e.trigger("complete");e.click()},0)}function ia(b){var a=d(this),e=y(this),f=this._valueGet(),f=f.replace(RegExp("("+F(q().join(""))+")*"),"");e.begin>f.length&&(y(this,f.length),e=y(this));
1!=g().length-f.length||f.charAt(e.begin)==g()[e.begin]||f.charAt(e.begin+1)==g()[e.begin]||u(e.begin)?(M(this,!0,!1,f.split("")),!0===O(g())&&a.trigger("complete"),a.click()):(b.keyCode=c.keyCode.BACKSPACE,U.call(this,b));b.preventDefault()}function ja(b){t=d(b);if(t.is(":input")){t.data("_inputmask",{maskset:e,opts:c,isRTL:!1});c.showTooltip&&t.prop("title",e.mask);ha(b);c.numericInput&&(c.isNumeric=c.numericInput);("rtl"==b.dir||c.numericInput&&c.rightAlignNumerics||c.isNumeric&&c.rightAlignNumerics)&&
t.css("text-align","right");if("rtl"==b.dir||c.numericInput){b.dir="ltr";t.removeAttr("dir");var a=t.data("_inputmask");a.isRTL=!0;t.data("_inputmask",a);B=!0}t.unbind(".inputmask");t.removeClass("focus.inputmask");t.closest("form").bind("submit",function(){L!=g().join("")&&t.change()}).bind("reset",function(){setTimeout(function(){t.trigger("setvalue")},0)});t.bind("mouseenter.inputmask",function(){!d(this).hasClass("focus.inputmask")&&c.showMaskOnHover&&this._valueGet()!=g().join("")&&E(this,g())}).bind("blur.inputmask",
function(){var b=d(this),a=this._valueGet(),e=g();b.removeClass("focus.inputmask");L!=g().join("")&&b.change();c.clearMaskOnLostFocus&&""!=a&&(a==q().join("")?this._valueSet(""):I(this));!1===O(e)&&(b.trigger("incomplete"),c.clearIncomplete&&(n(),c.clearMaskOnLostFocus?this._valueSet(""):(e=q().slice(),E(this,e))))}).bind("focus.inputmask",function(){var b=d(this),a=this._valueGet();c.showMaskOnFocus&&!b.hasClass("focus.inputmask")&&(!c.showMaskOnHover||c.showMaskOnHover&&""==a)&&this._valueGet()!=
g().join("")&&E(this,g(),A(s()));b.addClass("focus.inputmask");L=g().join("")}).bind("mouseleave.inputmask",function(){var b=d(this);c.clearMaskOnLostFocus&&(b.hasClass("focus.inputmask")||this._valueGet()==b.attr("placeholder")||(this._valueGet()==q().join("")||""==this._valueGet()?this._valueSet(""):I(this)))}).bind("click.inputmask",function(){var b=this;setTimeout(function(){var a=y(b),e=g();if(a.begin==a.end){var a=B?J(a.begin):a.begin,f=s(a),e=c.isNumeric?!1===c.skipRadixDance&&""!=c.radixPoint&&
-1!=d.inArray(c.radixPoint,e)?c.numericInput?A(d.inArray(c.radixPoint,e)):d.inArray(c.radixPoint,e):A(f):A(f);a<e?u(a)?y(b,a):y(b,A(a)):y(b,e)}},0)}).bind("dblclick.inputmask",function(){var b=this;setTimeout(function(){y(b,0,A(s()))},0)}).bind(S+".inputmask dragdrop.inputmask drop.inputmask",ba).bind("setvalue.inputmask",function(){M(this,!0);L=g().join("");this._valueGet()==q().join("")&&this._valueSet("")}).bind("complete.inputmask",c.oncomplete).bind("incomplete.inputmask",c.onincomplete).bind("cleared.inputmask",
c.oncleared);t.bind("keydown.inputmask",U).bind("keypress.inputmask",T).bind("keyup.inputmask",aa);if(ea||X||fa||Y)if(t.attr("autocomplete","off").attr("autocorrect","off").attr("autocapitalize","off").attr("spellcheck",!1),X||Y)t.unbind("keydown.inputmask",U).unbind("keypress.inputmask",T).unbind("keyup.inputmask",aa),"input"==S&&t.unbind(S+".inputmask"),t.bind("input.inputmask",ia);ca&&t.bind("input.inputmask",ba);a=d.isFunction(c.onBeforeMask)?c.onBeforeMask.call(b,b._valueGet(),c):b._valueGet();
M(b,!0,!1,a.split(""),!0);L=g().join("");var f;try{f=document.activeElement}catch(h){}f===b?(t.addClass("focus.inputmask"),y(b,A(s()))):c.clearMaskOnLostFocus?g().join("")==q().join("")?b._valueSet(""):I(b):E(b,g());R(b)}}var B=!1,L=g().join(""),t,V=!1,W=!1,$=!1,K;if(void 0!=a)switch(a.action){case "isComplete":return t=d(a.el),O(a.buffer);case "unmaskedvalue":return t=a.$input,B=a.$input.data("_inputmask").isRTL,Q(a.$input,a.skipDatepickerCheck);case "mask":ja(a.el);break;case "format":return t=
d({}),t.data("_inputmask",{maskset:e,opts:c,isRTL:c.numericInput}),c.numericInput&&(c.isNumeric=c.numericInput,B=!0),a=a.value.split(""),M(t,!1,!1,B?a.reverse():a,!0),B?g().reverse().join(""):g().join("");case "isValid":return t=d({}),t.data("_inputmask",{maskset:e,opts:c,isRTL:c.numericInput}),c.numericInput&&(c.isNumeric=c.numericInput,B=!0),a=a.value.split(""),M(t,!1,!0,B?a.reverse():a),O(g())}},Q=function(e,c,a){function f(c,f,p){c=c.jquery&&0<c.length?c[0]:c;if("number"==typeof f){f=n(f);p=n(p);
p="number"==typeof p?p:f;if(c!=e){var l=d(c).data("_inputmask")||{};l.caret={begin:f,end:p};d(c).data("_inputmask",l)}d(c).is(":visible")&&(c.scrollLeft=c.scrollWidth,!1==a.insertMode&&f==p&&p++,c.setSelectionRange?(c.selectionStart=f,c.selectionEnd=p):c.createTextRange&&(c=c.createTextRange(),c.collapse(!0),c.moveEnd("character",p),c.moveStart("character",f),c.select()))}else return d(c).is(":visible")||void 0==d(c).data("_inputmask").caret?c.setSelectionRange?(f=c.selectionStart,p=c.selectionEnd):
document.selection&&document.selection.createRange&&(c=document.selection.createRange(),f=0-c.duplicate().moveStart("character",-1E5),p=f+c.text.length):(l=d(c).data("_inputmask"),f=l.caret.begin,p=l.caret.end),f=n(f),p=n(p),{begin:f,end:p}}function n(d){!x||"number"!=typeof d||a.greedy&&""==a.placeholder||(d=e.value.length-d);return d}function s(c,h){if("multiMaskScope"!=c){var p=-1,l=-1,q=-1;d.each(h,function(a,c){var e=d(c).data("_inputmask").maskset,g=-1,h=0,n=f(c).begin,s;for(s in e.validPositions)e=
parseInt(s),e>g&&(g=e),h++;if(h>p||h==p&&l>n&&q>g||h==p&&l==n&&q<g)p=h,l=n,v=a,q=g});d.isFunction(a.determineActiveMasksetIndex)&&(v=a.determineActiveMasksetIndex.call(C,c,h));var n=C.data("_inputmask-multi")||{activeMasksetIndex:0,elmasks:h};n.activeMasksetIndex=v;C.data("_inputmask-multi",n)}-1==["focus"].indexOf(c)&&e.value!=h[v]._valueGet()&&(n=""==d(h[v]).val()?h[v]._valueGet():d(h[v]).val(),e.value=n);-1==["blur","focus"].indexOf(c)&&d(h[v]).hasClass("focus.inputmask")&&(n=f(h[v]),f(e,n.begin,
n.end))}a.multi=!0;var C=d(e),x="rtl"==e.dir||a.numericInput,v=0,q=d.map(c,function(c,e){var f='<input type="text" ';C.attr("value")&&(f+='value="'+C.attr("value")+'" ');C.attr("dir")&&(f+='dir="'+C.attr("dir")+'" ');f=d(f+"/>")[0];F(d.extend(!0,{},c),a,{action:"mask",el:f});return f});C.data("_inputmask-multi",{activeMasksetIndex:0,elmasks:q});("rtl"==e.dir||a.numericInput&&a.rightAlignNumerics||a.isNumeric&&a.rightAlignNumerics)&&C.css("text-align","right");e.dir="ltr";C.removeAttr("dir");""!=C.attr("value")&&
s("init",q);C.bind("mouseenter blur focus mouseleave click dblclick keydown keypress keypress",function(c){var h=f(e),p,l=!0;if("keydown"==c.type){p=c.keyCode;if(p==a.keyCode.DOWN&&v<q.length-1)return v++,s("multiMaskScope",q),!1;if(p==a.keyCode.UP&&0<v)return v--,s("multiMaskScope",q),!1;if(c.ctrlKey||c.shiftKey||c.altKey)return!0}else if("keypress"==c.type&&(c.ctrlKey||c.shiftKey||c.altKey))return!0;d.each(q,function(e,q){if("keydown"==c.type){p=c.keyCode;if(p==a.keyCode.BACKSPACE&&q._valueGet().length<
h.begin)return;if(p==a.keyCode.TAB)l=!1;else{if(p==a.keyCode.RIGHT){f(q,h.begin+1,h.end+1);l=!1;return}if(p==a.keyCode.LEFT){f(q,h.begin-1,h.end-1);l=!1;return}}}if(-1!=["click"].indexOf(c.type)&&(f(q,n(h.begin),n(h.end)),h.begin!=h.end)){l=!1;return}-1!=["keydown"].indexOf(c.type)&&h.begin!=h.end&&f(q,h.begin,h.end);d(q).triggerHandler(c)});l&&setTimeout(function(){s(c.type,q)},0)});C.bind(S+" dragdrop drop setvalue",function(a){f(e);setTimeout(function(){d.each(q,function(c,f){f._valueSet(e.value);
d(f).triggerHandler(a)});setTimeout(function(){s(a.type,q)},0)},0)});(function(a){if(void 0==d.valHooks[a]||!0!=d.valHooks[a].inputmaskmultipatch){var c=d.valHooks[a]&&d.valHooks[a].get?d.valHooks[a].get:function(a){return a.value},e=d.valHooks[a]&&d.valHooks[a].set?d.valHooks[a].set:function(a,c){a.value=c;return a};d.valHooks[a]={get:function(a){var e=d(a);return e.data("_inputmask-multi")?(a=e.data("_inputmask-multi"),c(a.elmasks[a.activeMasksetIndex])):c(a)},set:function(a,c){var f=d(a),g=e(a,
c);f.data("_inputmask-multi")&&f.triggerHandler("setvalue");return g},inputmaskmultipatch:!0}}})(e.type)};d.inputmask={defaults:{placeholder:"_",optionalmarker:{start:"[",end:"]"},quantifiermarker:{start:"{",end:"}"},groupmarker:{start:"(",end:")"},alternatormarker:"|",escapeChar:"\\",mask:null,oncomplete:d.noop,onincomplete:d.noop,oncleared:d.noop,repeat:0,greedy:!0,autoUnmask:!1,clearMaskOnLostFocus:!0,insertMode:!0,clearIncomplete:!1,aliases:{},onKeyUp:d.noop,onKeyDown:d.noop,onBeforeMask:void 0,
onBeforePaste:void 0,onUnMask:void 0,showMaskOnFocus:!0,showMaskOnHover:!0,onKeyValidation:d.noop,skipOptionalPartCharacter:" ",showTooltip:!1,numericInput:!1,isNumeric:!1,radixPoint:"",skipRadixDance:!1,rightAlignNumerics:!0,definitions:{9:{validator:"[0-9]",cardinality:1,definitionSymbol:"*"},a:{validator:"[A-Za-z\u0410-\u044f\u0401\u0451]",cardinality:1,definitionSymbol:"*"},"*":{validator:"[A-Za-z\u0410-\u044f\u0401\u04510-9]",cardinality:1}},keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,
COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91},ignorables:[8,9,13,19,27,33,34,35,36,37,38,39,40,45,46,93,112,113,114,115,116,117,118,119,120,121,122,123],isComplete:void 0,multi:!1,nojumps:!1,nojumpsThreshold:0,determineActiveMasksetIndex:void 0},
masksCache:{},escapeRegex:function(d){return d.replace(RegExp("(\\/|\\.|\\*|\\+|\\?|\\||\\(|\\)|\\[|\\]|\\{|\\}|\\\\)","gim"),"\\$1")},format:function(e,c){var a=d.extend(!0,{},d.inputmask.defaults,c);H(a.alias,c,a);return F(I(a),a,{action:"format",value:e})},isValid:function(e,c){var a=d.extend(!0,{},d.inputmask.defaults,c);H(a.alias,c,a);return F(I(a),a,{action:"isValid",value:e})}};d.fn.inputmask=function(e,c){function a(a,c){var e=d(a),f;for(f in c){var g=e.data("inputmask-"+f.toLowerCase());
void 0!=g&&(c[f]=g)}return c}var f=d.extend(!0,{},d.inputmask.defaults,c),n;if("string"===typeof e)switch(e){case "mask":return H(f.alias,c,f),n=I(f),0==n.length?this:this.each(function(){d.isArray(n)?Q(this,n,a(this,f)):F(d.extend(!0,{},n),a(this,f),{action:"mask",el:this})});case "unmaskedvalue":var s=d(this);return s.data("_inputmask")?(n=s.data("_inputmask").maskset,f=s.data("_inputmask").opts,F(n,f,{action:"unmaskedvalue",$input:s})):s.val();case "remove":return this.each(function(){var a=d(this);
if(a.data("_inputmask")){n=a.data("_inputmask").maskset;f=a.data("_inputmask").opts;this._valueSet(F(n,f,{action:"unmaskedvalue",$input:a,skipDatepickerCheck:!0}));a.removeData("_inputmask");a.unbind(".inputmask");a.removeClass("focus.inputmask");var c;Object.getOwnPropertyDescriptor&&(c=Object.getOwnPropertyDescriptor(this,"value"));c&&c.get?this._valueGet&&Object.defineProperty(this,"value",{get:this._valueGet,set:this._valueSet}):document.__lookupGetter__&&this.__lookupGetter__("value")&&this._valueGet&&
(this.__defineGetter__("value",this._valueGet),this.__defineSetter__("value",this._valueSet));try{delete this._valueGet,delete this._valueSet}catch(e){this._valueSet=this._valueGet=void 0}}});case "getemptymask":return this.data("_inputmask")?(n=this.data("_inputmask").maskset,n._buffer.join("")):"";case "hasMaskedValue":return this.data("_inputmask")?!this.data("_inputmask").opts.autoUnmask:!1;case "isComplete":return this.data("_inputmask")?(n=this.data("_inputmask").maskset,f=this.data("_inputmask").opts,
F(n,f,{action:"isComplete",buffer:this[0]._valueGet().split(""),el:this})):!0;case "getmetadata":if(this.data("_inputmask"))return n=this.data("_inputmask").maskset,n.metadata;break;default:return H(e,c,f)||(f.mask=e),n=I(f),void 0==n?this:this.each(function(){d.isArray(n)?Q(this,n,a(this,f)):F(d.extend(!0,{},n),a(this,f),{action:"mask",el:this})})}else{if("object"==typeof e)return f=d.extend(!0,{},d.inputmask.defaults,e),H(f.alias,e,f),n=I(f),void 0==n?this:this.each(function(){d.isArray(n)?Q(this,
n,a(this,f)):F(d.extend(!0,{},n),a(this,f),{action:"mask",el:this})});if(void 0==e)return this.each(function(){var a=d(this).attr("data-inputmask");if(a&&""!=a)try{var a=a.replace(RegExp("'","g"),'"'),e=d.parseJSON("{"+a+"}");d.extend(!0,e,c);f=d.extend(!0,{},d.inputmask.defaults,e);H(f.alias,e,f);f.alias=void 0;d(this).inputmask(f)}catch(n){}})}}}})(jQuery);
