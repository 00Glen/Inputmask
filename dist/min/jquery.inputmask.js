/*
 Input Mask plugin for jquery
 http://github.com/RobinHerbots/jquery.inputmask
 Copyright (c) 2010 - 2013 Robin Herbots
 Licensed under the MIT license (http://www.opensource.org/licenses/mit-license.php)
 Version: 2.2.50
*/
(function(c){void 0==c.fn.inputmask&&(c.inputmask={defaults:{placeholder:"_",optionalmarker:{start:"[",end:"]"},escapeChar:"\\",mask:null,oncomplete:c.noop,onincomplete:c.noop,oncleared:c.noop,repeat:0,greedy:!0,autoUnmask:!1,clearMaskOnLostFocus:!0,insertMode:!0,clearIncomplete:!1,aliases:{},onKeyUp:c.noop,onKeyDown:c.noop,showMaskOnFocus:!0,showMaskOnHover:!0,onKeyValidation:c.noop,skipOptionalPartCharacter:" ",showTooltip:!1,numericInput:!1,radixPoint:"",skipRadixDance:!1,rightAlignNumerics:!0,
definitions:{9:{validator:"[0-9]",cardinality:1},a:{validator:"[A-Za-z\u0410-\u044f\u0401\u0451]",cardinality:1},"*":{validator:"[A-Za-z\u0410-\u044f\u0401\u04510-9]",cardinality:1}},keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,
RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91},ignorables:[9,13,19,27,33,34,35,36,37,38,39,40,45,46,93,112,113,114,115,116,117,118,119,120,121,122,123],getMaskLength:function(c,E,C){var I=c.length;!E&&1<C&&(I+=c.length*(C-1));return I}},val:c.fn.val,escapeRegex:function(c){return c.replace(RegExp("(\\/|\\.|\\*|\\+|\\?|\\||\\(|\\)|\\[|\\]|\\{|\\}|\\\\)","gim"),"\\$1")}},c.fn.inputmask=function(L,E){function C(e,f){var g=b.aliases[e];return g?(g.alias&&C(g.alias),c.extend(!0,b,g),c.extend(!0,b,
f),!0):!1}function I(e){var f=!1,g=0,M=b.greedy,a=b.repeat;1==e.length&&!1==M&&(b.placeholder="");for(var e=c.map(e.split(""),function(a){var c=[];if(a==b.escapeChar)f=true;else if(a!=b.optionalmarker.start&&a!=b.optionalmarker.end||f){var d=b.definitions[a];if(d&&!f)for(a=0;a<d.cardinality;a++)c.push(o(g+a));else{c.push(a);f=false}g=g+c.length;return c}}),r=e.slice(),d=1;d<a&&M;d++)r=r.concat(e.slice());return{mask:r,repeat:a,greedy:M}}function N(e){var f=!1,g=!1,M=!1;return c.map(e.split(""),function(a){var c=
[];if(a==b.escapeChar)g=!0;else if(a==b.optionalmarker.start&&!g)M=f=!0;else if(a==b.optionalmarker.end&&!g)f=!1,M=!0;else{var d=b.definitions[a];if(d&&!g){for(var l=d.prevalidator,e=l?l.length:0,w=1;w<d.cardinality;w++){var s=e>=w?l[w-1]:[],o=s.validator,s=s.cardinality;c.push({fn:o?"string"==typeof o?RegExp(o):new function(){this.test=o}:/./,cardinality:s?s:1,optionality:f,newBlockMarker:!0==f?M:!1,offset:0,casing:d.casing,def:d.definitionSymbol|a});!0==f&&(M=!1)}c.push({fn:d.validator?"string"==
typeof d.validator?RegExp(d.validator):new function(){this.test=d.validator}:/./,cardinality:d.cardinality,optionality:f,newBlockMarker:M,offset:0,casing:d.casing,def:d.definitionSymbol|a})}else c.push({fn:null,cardinality:0,optionality:f,newBlockMarker:M,offset:0,casing:null,def:a}),g=!1;M=!1;return c}})}function J(){function e(a){var c=a.length;for(i=0;i<c&&a.charAt(i)!=b.optionalmarker.start;i++);var f=[a.substring(0,i)];i<c&&f.push(a.substring(i+1,c));return f}function f(a,r){var d=0,l=0,k=r.length;
for(i=0;i<k&&!(r.charAt(i)==b.optionalmarker.start&&d++,r.charAt(i)==b.optionalmarker.end&&l++,0<d&&d==l);i++);d=[r.substring(0,i)];i<k&&d.push(r.substring(i+1,k));var w=e(d[0]);if(1<w.length){if(k=a+w[0]+(b.optionalmarker.start+w[1]+b.optionalmarker.end)+(1<d.length?d[1]:""),-1==c.inArray(k,o)&&(o.push(k),l=I(k),g.push({mask:k,_buffer:l.mask,buffer:l.mask.slice(),tests:N(k),lastValidPosition:void 0,greedy:l.greedy,repeat:l.repeat})),k=a+w[0]+(1<d.length?d[1]:""),-1==c.inArray(k,o)&&(o.push(k),l=
I(k),g.push({mask:k,_buffer:l.mask,buffer:l.mask.slice(),tests:N(k),lastValidPosition:void 0,greedy:l.greedy,repeat:l.repeat})),1<e(w[1]).length&&f(a+w[0],w[1]+d[1]),1<d.length&&1<e(d[1]).length)f(a+w[0]+(b.optionalmarker.start+w[1]+b.optionalmarker.end),d[1]),f(a+w[0],d[1])}else k=a+d,-1==c.inArray(k,o)&&(o.push(k),l=I(k),g.push({mask:k,_buffer:l.mask,buffer:l.mask.slice(),tests:N(k),lastValidPosition:void 0,greedy:l.greedy,repeat:l.repeat}))}var g=[],o=[];c.isArray(b.mask)?c.each(b.mask,function(a,
b){f("",b.toString())}):f("",b.mask.toString());return g}function o(c){return b.placeholder.charAt(c%b.placeholder.length)}function K(e,f){var g,D;function a(){return e[f]}function r(){return a().tests}function d(){return a()._buffer}function l(){return a().buffer}function k(j,T,d,R){function u(a,j){for(var c=t(a),f=T?1:0,l="",u=j.buffer,e=j.tests[c].cardinality;e>f;e--)l+=P(u,c-(e-1));T&&(l+=T);return null!=j.tests[c].fn?j.tests[c].fn.test(l,u,a,d,b):!1}if(d=!0===d){var g=u(j,a());!0===g&&(g={pos:j});
return g}var k=[],g=!1,o=f;c.each(e,function(a){f=a;if(o!=f&&!s(j)){if(T==this._buffer[j]||T==b.skipOptionalPartCharacter)return k.push({activeMasksetIndex:a,result:{refresh:!0,c:this._buffer[j]}}),this.lastValidPosition=j,!1;this.lastValidPosition=R?n()+1:-1}if((void 0==this.lastValidPosition&&j==(R?F(n()):p(-1))||R||b.numericInput?this.lastValidPosition<=b.numericInput?n():p(j):this.lastValidPosition>=F(j))&&0<=j&&j<n()){g=u(j,this);if(!1!==g){!0===g&&(g={pos:j});var c=g.pos||j;if(void 0==this.lastValidPosition||
(R?b.greedy?this.lastValidPosition>c:c==l().length-1:this.lastValidPosition<c))this.lastValidPosition=c}k.push({activeMasksetIndex:a,result:g})}});f=o;return k}function w(j){var d=f,z={activeMasksetIndex:0,lastValidPosition:j?n()+1:-1};c.each(e,function(a){if(void 0!=this.lastValidPosition&&(j||b.numericInput?this.lastValidPosition<z.lastValidPosition:this.lastValidPosition>z.lastValidPosition))z.activeMasksetIndex=a,z.lastValidPosition=this.lastValidPosition});f=z.activeMasksetIndex;d!=f&&(j?I(l(),
0,F(z.lastValidPosition)):I(l(),p(z.lastValidPosition),n()),a().writeOutBuffer=!0)}function s(a){a=t(a);a=r()[a];return void 0!=a?a.fn:!1}function t(a){return a%r().length}function n(){return b.getMaskLength(d(),a().greedy,a().repeat,l(),b)}function p(a){var b=n();if(a>=b)return b;for(;++a<b&&!s(a););return a}function F(a){if(0>=a)return 0;for(;0<--a&&!s(a););return a}function B(a,b,c,f,d){f&&(b=L(a,b,d));f=r()[t(b)];d=c;if(void 0!=d)switch(f.casing){case "upper":d=c.toUpperCase();break;case "lower":d=
c.toLowerCase()}a[b]=d}function P(a,b,c){c&&(b=L(a,b));return a[b]}function L(a,b,c){if(c)for(;0>b&&a.length<n();){c=d().length-1;for(b=d().length;void 0!==d()[c];)a.unshift(d()[c--])}else for(;void 0==a[b]&&a.length<n();)for(c=0;void 0!==d()[c];)a.push(d()[c++]);return b}function C(a,b,c){a._valueSet(b.join(""));void 0!=c&&y(a,c)}function I(a,b,c){for(var f=n();b<c&&b<f;b++)B(a,b,P(d().slice(),b,!0))}function x(a,b){var c=t(b);B(a,b,P(d(),c))}function S(j,l,g,k){var u=c(j).data("_inputmask").isRTL,
k=void 0!=k?k.slice():K(j._valueGet(),u).split("");c.each(e,function(a,b){b.buffer=b._buffer.slice();b.lastValidPosition=void 0;b.p=u?n():0});!0!==g&&(f=0);u&&!b.numericInput&&(k=k.reverse());var o=n();c.each(k,function(a,f){var e=u?b.numericInput?o:o-a:a;(s(u?e-1:e)||!0!==g&&f!=P(d(),u?e-1:e,!0))&&c(j).trigger("keypress",[!0,f.charCodeAt(0),l,g,e])});!0===g&&(a().lastValidPosition=u?p(a().p):F(a().p))}function E(a){return c.inputmask.escapeRegex.call(this,a)}function K(a,b){return b?a.replace(RegExp("^("+
E(d().join(""))+")*"),""):a.replace(RegExp("("+E(d().join(""))+")*$"),"")}function N(a){var b=l(),f=b.slice(),d,e;if(c(a).data("_inputmask").isRTL)for(e=0;e<=f.length-1;e++)if(d=t(e),r()[d].optionality)if(!s(e)||!k(e,b[e],!0))f.splice(0,1);else break;else break;else for(e=f.length-1;0<=e;e--)if(d=t(e),r()[d].optionality)if(!s(e)||!k(e,b[e],!0))f.pop();else break;else break;C(a,f)}function J(a,b){var f=a[0];return r()&&(!0===b||!a.hasClass("hasDatepicker"))?(S(f,!1,!0),c.map(l(),function(a,b){return s(b)&&
k(b,a,!0)?a:null}).join("")):f._valueGet()}function y(a,f,d){var e=a.jquery&&0<a.length?a[0]:a;if("number"==typeof f)c(a).is(":visible")&&(d="number"==typeof d?d:f,!1==b.insertMode&&f==d&&d++,e.setSelectionRange?V?(setTimeout(function(){e.selectionStart=f;e.selectionEnd=V?f:d},10),g=f,D=d):(e.selectionStart=f,e.selectionEnd=d):e.createTextRange&&(a=e.createTextRange(),a.collapse(!0),a.moveEnd("character",d),a.moveStart("character",f),a.select()));else{if(!c(a).is(":visible"))return{begin:0,end:0};
e.setSelectionRange?(f=e.selectionStart,d=e.selectionEnd):document.selection&&document.selection.createRange&&(a=document.selection.createRange(),f=0-a.duplicate().moveStart("character",-1E5),d=f+a.text.length);return{begin:f,end:d}}}function U(a){var b=!1,l=0,g=f;c.each(e,function(c,e){f=c;var g=F(n());if(void 0!=e.lastValidPosition&&e.lastValidPosition>=l&&e.lastValidPosition==g){for(var k=!0,p=0;p<=g;p++){var r=s(p),w=t(p);if(r&&(void 0==a[p]||a[p]==o(p))||!r&&a[p]!=d()[w]){k=!1;break}}if(b=b||
k)return!1}l=e.lastValidPosition});f=g;return b}this.unmaskedvalue=function(a,b){return J(a,b)};this.isComplete=function(a){return U(a)};this.mask=function(j){function E(a){a=c._data(a).events;c.each(a,function(a,b){c.each(b,function(a,b){if("inputmask"==b.namespace){var c=b.handler;b.handler=function(a){if(this.readOnly||this.disabled)a.preventDefault;else return c.apply(this,arguments)}}})})}function z(a){var b;Object.getOwnPropertyDescriptor&&(b=Object.getOwnPropertyDescriptor(a,"value"));if(b&&
b.get)a._valueGet||(a._valueGet=b.get,a._valueSet=b.set,Object.defineProperty(a,"value",{get:function(){var a=c(this),b=c(this).data("_inputmask"),f=b.masksets,d=b.activeMasksetIndex;return b&&b.opts.autoUnmask?a.inputmask("unmaskedvalue"):this._valueGet()!=f[d]._buffer.join("")?this._valueGet():""},set:function(a){this._valueSet(a);c(this).triggerHandler("setvalue.inputmask")}}));else if(document.__lookupGetter__&&a.__lookupGetter__("value"))a._valueGet||(a._valueGet=a.__lookupGetter__("value"),
a._valueSet=a.__lookupSetter__("value"),a.__defineGetter__("value",function(){var a=c(this),b=c(this).data("_inputmask"),f=b.masksets,d=b.activeMasksetIndex;return b&&b.opts.autoUnmask?a.inputmask("unmaskedvalue"):this._valueGet()!=f[d]._buffer.join("")?this._valueGet():""}),a.__defineSetter__("value",function(a){this._valueSet(a);c(this).triggerHandler("setvalue.inputmask")}));else if(a._valueGet||(a._valueGet=function(){return this.value},a._valueSet=function(a){this.value=a}),!0!=c.fn.val.inputmaskpatch)c.fn.val=
function(){if(arguments.length==0){var a=c(this);if(a.data("_inputmask")){if(a.data("_inputmask").opts.autoUnmask)return a.inputmask("unmaskedvalue");var a=c.inputmask.val.apply(a),b=c(this).data("_inputmask");return a!=b.masksets[b.activeMasksetIndex]._buffer.join("")?a:""}return c.inputmask.val.apply(a)}var f=arguments;return this.each(function(){var a=c(this),b=c.inputmask.val.apply(a,f);a.data("_inputmask")&&a.triggerHandler("setvalue.inputmask");return b})},c.extend(c.fn.val,{inputmaskpatch:!0})}
function R(a,c){if(b.numericInput&&""!=b.radixPoint&&!1===b.skipRadixDance){var f=a._valueGet().indexOf(b.radixPoint);m=c.begin<=f||c.end<=f||-1==f}}function u(b,c,f){for(var e=l();!s(b)&&0<=b-1;)b--;for(var h=b;h<c&&h<n();h++)if(s(h)){x(e,h);var g=p(h),j=P(e,g);if(j!=o(g))if(g<n()&&!1!==k(h,j,!0,m)&&r()[t(h)].def==r()[t(g)].def)B(e,h,P(e,g),!0,m),g<c&&x(e,g);else if(s(h))break}else x(e,h);void 0!=f&&B(e,m?c:F(c),f);if(!1==a().greedy){c=K(e.join(""),m).split("");e.length=c.length;h=0;for(f=e.length;h<
f;h++)e[h]=c[h];0==e.length&&(a().buffer=d().slice())}return b}function Q(b,c,f,e){for(var h=l();b<=c&&b<n();b++)if(s(b)){var g=P(h,b);B(h,b,f,!0,m);if(g!=o(b))if(f=p(b),f<n())if(!1!==k(f,g,!0,m)&&r()[t(b)].def==r()[t(f)].def)f=g;else if(s(f))break;else f=g;else break;else if(f=g,!0!==e)break}else x(h,b);e=h.length;if(!1==a().greedy){f=K(h.join(""),m).split("");h.length=f.length;b=0;for(g=h.length;b<g;b++)h[b]=f[b];0==h.length&&(a().buffer=d().slice())}return c-(e-h.length)}function J(g){W=!1;var k=
this,G=g.keyCode,q=y(k);R(k,q);if(G==b.keyCode.BACKSPACE||G==b.keyCode.DELETE||ba&&127==G||g.ctrlKey&&88==G){g.preventDefault();var h=q.begin;if(0==q.begin&&q.end==n())I(l(),q.begin,q.end),c.each(e,function(a,b){b.buffer=b._buffer.slice();b.lastValidPosition=void 0;b.p=m?n():0});else if(1<q.end-q.begin||1==q.end-q.begin&&b.insertMode){I(l(),q.begin,q.end);var j=n();if(!1==b.greedy)m?Q(0,q.end-1,o(q.end),!0):u(q.begin,j);else for(var r=q.begin;r<q.end;r++)s(r)&&(m?Q(0,q.end-1,o(q.end),!0):u(q.begin,
j));S(k,!1,!0,l())}else c.each(e,function(c){f=c;h=Z?q.end:q.begin;var c=l(),e=m?F(n()+1):p(-1),g=n();if(G==b.keyCode.DELETE){if(m?h>e:h<e)h=e;if(h<g&&(b.numericInput&&""!=b.radixPoint&&c[h]==b.radixPoint?(h=c.length-1==h?h:p(h),h=u(h,g)):m?(h=Q(0,h,o(h),!0),h=p(h)):h=u(h,g),void 0!=a().lastValidPosition))-1!=a().lastValidPosition&&l()[a().lastValidPosition]==d()[a().lastValidPosition]&&(a().lastValidPosition=m?p(a().lastValidPosition):0==a().lastValidPosition?-1:F(a().lastValidPosition)),(m?a().lastValidPosition>
e:a().lastValidPosition<e)?(a().lastValidPosition=void 0,a().p=e):(a().writeOutBuffer=!0,a().p=h)}else if(G==b.keyCode.BACKSPACE)if(m?h<=e:h>e){if(h-=1,b.numericInput&&""!=b.radixPoint&&c[h]==b.radixPoint?(h=Q(0,c.length-1==h?h:h-1,o(h),!0),h++):m?(h=Q(0,h,o(h),!0),h=c[h+1]==b.radixPoint?h+1:p(h)):h=u(h,g),void 0!=a().lastValidPosition)-1!=a().lastValidPosition&&l()[a().lastValidPosition]==d()[a().lastValidPosition]&&(a().lastValidPosition=m?p(a().lastValidPosition):0==a().lastValidPosition?-1:F(a().lastValidPosition)),
(m?a().lastValidPosition>e:a().lastValidPosition<e)?(a().lastValidPosition=void 0,a().p=e):(a().writeOutBuffer=!0,a().p=h)}else 0<f&&(a().lastValidPosition=void 0,a().writeOutBuffer=!0,a().p=e,f=0,a().buffer=d().slice(),a().p=m?F(n()+1):p(-1),a().lastValidPosition=void 0)});w(m);C(k,l(),a().p);k._valueGet()==d().join("")&&c(k).trigger("cleared");b.showTooltip&&A.prop("title",a().mask)}else G==b.keyCode.END||G==b.keyCode.PAGE_DOWN?setTimeout(function(){var c=m?a().lastValidPosition:p(a().lastValidPosition);
!b.insertMode&&(c==n()&&!g.shiftKey)&&c--;y(k,g.shiftKey?q.begin:c,c)},0):G==b.keyCode.HOME&&!g.shiftKey||G==b.keyCode.PAGE_UP?y(k,0,g.shiftKey?q.begin:0):G==b.keyCode.ESCAPE?(k._valueSet(a().undoBuffer),S(k,!0,!0)):G==b.keyCode.INSERT?(b.insertMode=!b.insertMode,y(k,!b.insertMode&&q.begin==n()?q.begin-1:q.begin)):!1==b.insertMode&&!g.shiftKey&&(G==b.keyCode.RIGHT?setTimeout(function(){var a=y(k);y(k,a.begin)},0):G==b.keyCode.LEFT&&setTimeout(function(){var a=y(k);y(k,a.begin-1)},0));b.onKeyDown.call(this,
g,l(),b);X=-1!=c.inArray(G,b.ignorables)}function aa(e,d,j,q,h,r){function A(c,f){var e=f<n()?f:n();I(l(),c,e);var d=n();if(!1==b.greedy)m?Q(0,e-1,o(e),!0):u(c,d);else for(var h=c;h<e;h++)s(h)&&(m?Q(0,e-1,o(e-1),!0):u(c,d));a().lastValidPosition>c&&a().lastValidPosition<e?a().lastValidPosition=m?e:c:(S(x,!1,!0,l()),b.insertMode||(m?u(0,e):Q(c,d,o(c),!0),a().lastValidPosition=m?F(a().lastValidPosition):p(a().lastValidPosition)))}if(void 0==j&&W)return!1;W=!0;var x=this,E=c(x),e=e||window.event,j=j||
e.which||e.charCode||e.keyCode,t=String.fromCharCode(j);if(b.numericInput&&t==b.radixPoint&&!0!==d){var K=x._valueGet().indexOf(b.radixPoint);y(x,p(-1!=K?K:n()))}if((e.ctrlKey||e.metaKey||X)&&!0!==d)return!0;if(j){var H,z;d?(j=h?r:b.numericInput?p(a().p):a().p,H={begin:j,end:j}):H=y(x);var O=1<H.end-H.begin||1==H.end-H.begin&&b.insertMode;if(m){var v=F(H.end),j=k(v,t,h,m);!0===h&&(j=[{activeMasksetIndex:f,result:j}]);c.each(j,function(c,e){f=e.activeMasksetIndex;a().writeOutBuffer=true;var d=e.result;
if(d!==false){O&&A(H.begin,H.end);var h=false,g=l();if(d!==true){h=d.refresh;v=d.pos!=void 0?d.pos:v;t=d.c!=void 0?d.c:t}if(h!==true){var h=n(),j=p(-1),d=j;if(b.insertMode==true){if(a().greedy==true)for(var k=g.slice();P(k,d,true)!=o(d)&&d<=v;)d=d==h?h+1:p(d);if(d<=v&&(a().greedy||g.length<h||P(g,v)==o(v))){if(g[j]!=o(j)&&g.length<h){g=L(g,-1,m);if((A?H.begin:H.end)!=0)v=v+g}u(d,v,t)}else a().writeOutBuffer=false}else B(g,v,t,true,m)}a().p=v}});!0!==h&&w(m);if(!1!==q&&(c.each(j,function(a,b){if(b.activeMasksetIndex==
f){z=b;return false}}),void 0!=z)){var N=this;setTimeout(function(){b.onKeyValidation.call(N,z.result,b)},0);if(a().writeOutBuffer&&!1!==z.result){var J=l();C(x,J,d?void 0:b.numericInput?p(a().p):a().p);setTimeout(function(){U(J)&&E.trigger("complete")},0)}else a().buffer=a().undoBuffer.split("")}}else v=p(H.begin-1),j=k(v,t,h,m),!0===h&&(j=[{activeMasksetIndex:f,result:j}]),c.each(j,function(c,e){f=e.activeMasksetIndex;a().writeOutBuffer=true;var d=e.result;if(d!==false){O&&A(H.begin,H.end);var h=
false,g=l();if(d!==true){h=d.refresh;v=d.pos!=void 0?d.pos:v;t=d.c!=void 0?d.c:t}if(h!==true)if(b.insertMode==true){d=n();for(h=g.slice();P(h,d,true)!=o(d)&&d>=v;)d=d==0?-1:F(d);d>=v?Q(v,g.length,t):a().writeOutBuffer=false}else B(g,v,t,true,m);a().p=p(v)}}),!0!==h&&w(m),!1!==q&&(c.each(j,function(a,b){if(b.activeMasksetIndex==f){z=b;return false}}),void 0!=z&&(N=this,setTimeout(function(){b.onKeyValidation.call(N,z.result,b)},0),a().writeOutBuffer&&!1!==z.result?(v=a().p,J=l(),C(x,J,d?void 0:v),
setTimeout(function(){U(J)&&E.trigger("complete")},0)):a().buffer=a().undoBuffer.split("")));V&&!0!==d&&y(x,g,D);b.showTooltip&&E.prop("title",a().mask);e.preventDefault()}}function $(e){var f=c(this),g=e.keyCode,j=l();b.onKeyUp.call(this,e,j,b);g==b.keyCode.TAB&&(f.hasClass("focus.inputmask")&&0==this._valueGet().length&&b.showMaskOnFocus)&&(j=d().slice(),C(this,j),m||y(this,0),a().undoBuffer=this._valueGet())}var A=c(j);if(A.is(":input")){A.data("_inputmask",{masksets:e,activeMasksetIndex:f,opts:b,
isRTL:!1});b.showTooltip&&A.prop("title",a().mask);a().greedy=a().greedy?a().greedy:0==a().repeat;var O=A.prop("maxLength");n()>O&&-1<O&&(O<d().length&&(d().length=O),!1==a().greedy&&(a().repeat=Math.round(O/d().length)),A.prop("maxLength",2*n()));z(j);a().undoBuffer=j._valueGet();var W=!1,X=!1,m=!1;if("rtl"==j.dir||b.numericInput)("rtl"==j.dir||b.numericInput&&b.rightAlignNumerics)&&A.css("text-align","right"),j.dir="ltr",A.removeAttr("dir"),O=A.data("_inputmask"),O.isRTL=!0,A.data("_inputmask",
O),m=!0;A.unbind(".inputmask");A.removeClass("focus.inputmask");A.bind("mouseenter.inputmask",function(){!c(this).hasClass("focus.inputmask")&&b.showMaskOnHover&&this._valueGet()!=l().join("")&&C(this,l())}).bind("blur.inputmask",function(){var g=c(this),j=this._valueGet(),k=l();g.removeClass("focus.inputmask");j!=a().undoBuffer&&g.change();b.clearMaskOnLostFocus&&j!=""&&(j==d().join("")?this._valueSet(""):N(this));if(!U(k)){g.trigger("incomplete");if(b.clearIncomplete){c.each(e,function(a,b){b.buffer=
b._buffer.slice();b.lastValidPosition=void 0;b.p=m?n():0});f=0;if(b.clearMaskOnLostFocus)this._valueSet("");else{k=d().slice();C(this,k)}}}}).bind("focus.inputmask",function(){var e=c(this),d=this._valueGet();b.showMaskOnFocus&&!e.hasClass("focus.inputmask")&&(!b.showMaskOnHover||b.showMaskOnHover&&d=="")&&this._valueGet()!=l().join("")&&C(this,l(),a().p);e.addClass("focus.inputmask");a().undoBuffer=this._valueGet()}).bind("mouseleave.inputmask",function(){var a=c(this);b.clearMaskOnLostFocus&&(a.hasClass("focus.inputmask")||
(this._valueGet()==d().join("")||this._valueGet()==""?this._valueSet(""):N(this)))}).bind("click.inputmask",function(){var e=this;setTimeout(function(){var d=y(e),f=l();if(d.begin==d.end){var g=d.begin,h=a().lastValidPosition;R(e,d);if(m){d=b.numericInput?b.skipRadixDance===false&&b.radixPoint!=""&&c.inArray(b.radixPoint,f)!=-1?c.inArray(b.radixPoint,f):n():F((h==void 0?n():h)+1);y(e,g>d&&(k(g,f[g],true,m)!==false||!s(g))?g:d)}else{d=p(h==void 0?-1:h);y(e,g<d&&(k(g,f[g],true,m)!==false||!s(g))?g:
d)}}},0)}).bind("dblclick.inputmask",function(){var b=this;a().lastValidPosition!=void 0&&setTimeout(function(){m?y(b,F(a().lastValidPosition),n()):y(b,0,p(a().lastValidPosition))},0)}).bind("keydown.inputmask",J).bind("keypress.inputmask",aa).bind("keyup.inputmask",$).bind(ca+".inputmask dragdrop.inputmask drop.inputmask",function(){var a=this,b=c(a);setTimeout(function(){S(a,true,false);U(l())&&b.trigger("complete");b.click()},0)}).bind("setvalue.inputmask",function(){a().undoBuffer=this._valueGet();
S(this,true);this._valueGet()==d().join("")&&this._valueSet("")}).bind("complete.inputmask",b.oncomplete).bind("incomplete.inputmask",b.onincomplete).bind("cleared.inputmask",b.oncleared);S(j,!0,!1);var Y;try{Y=document.activeElement}catch(da){}Y===j?(A.addClass("focus.inputmask"),y(j,a().p)):b.clearMaskOnLostFocus&&(l().join("")==d().join("")?j._valueSet(""):N(j));E(j)}};return this}var b=c.extend(!0,{},c.inputmask.defaults,E),x=null!==navigator.userAgent.match(/msie 10/i),ba=null!==navigator.userAgent.match(/iphone/i),
V=null!==navigator.userAgent.match(/android.*safari.*/i),ca=function(b){var c=document.createElement("input"),b="on"+b,g=b in c;g||(c.setAttribute(b,"return;"),g="function"==typeof c[b]);return g}("paste")&&!x?"paste":"input",Z,D,B=0;V&&(x=navigator.userAgent.match(/safari.*/i),Z=533>=parseInt(RegExp(/[0-9]+/).exec(x)));if("string"===typeof L)switch(L){case "mask":return C(b.alias,E),D=J(),this.each(function(){K(c.extend(true,{},D),0).mask(this)});case "unmaskedvalue":return x=c(this),D=x.data("_inputmask").masksets,
B=x.data("_inputmask").activeMasksetIndex,b=x.data("_inputmask").opts,K(D,B).unmaskedvalue(this);case "remove":return this.each(function(){var e=c(this),f=this;setTimeout(function(){if(e.data("_inputmask")){D=e.data("_inputmask").masksets;B=e.data("_inputmask").activeMasksetIndex;b=e.data("_inputmask").opts;f._valueSet(K(D,B).unmaskedvalue(e,true));e.removedata("_inputmask");e.unbind(".inputmask");e.removeClass("focus.inputmask");var c;Object.getOwnPropertyDescriptor&&(c=Object.getOwnPropertyDescriptor(f,
"value"));if(c&&c.get)f._valueGet&&Object.defineProperty(f,"value",{get:f._valueGet,set:f._valueSet});else if(document.__lookupGetter__&&f.__lookupGetter__("value")&&f._valueGet){f.__defineGetter__("value",f._valueGet);f.__defineSetter__("value",f._valueSet)}delete f._valueGet;delete f._valueSet}},0)});case "getemptymask":return this.data("_inputmask")?(D=this.data("_inputmask").masksets,B=this.data("_inputmask").activeMasksetIndex,D[B]._buffer.join("")):"";case "hasMaskedValue":return this.data("_inputmask")?
!this.data("_inputmask").opts.autoUnmask:!1;case "isComplete":return D=this.data("_inputmask").masksets,B=this.data("_inputmask").activeMasksetIndex,b=this.data("_inputmask").opts,K(D,B).isComplete(this[0]._valueGet().split(""));default:return C(L,E)||(b.mask=L),D=J(),this.each(function(){K(c.extend(true,{},D),B).mask(this)})}else{if("object"==typeof L)return b=c.extend(!0,{},c.inputmask.defaults,L),C(b.alias,L),D=J(),this.each(function(){K(c.extend(true,{},D),B).mask(this)});if(void 0==L)return this.each(function(){var e=
c(this).attr("data-inputmask");if(e&&e!="")try{var e=e.replace(RegExp("'","g"),'"'),f=c.parseJSON("{"+e+"}");c.extend(true,f,E);b=c.extend(true,{},c.inputmask.defaults,f);C(b.alias,f);b.alias=void 0;c(this).inputmask(b)}catch(g){}})}return this})})(jQuery);
