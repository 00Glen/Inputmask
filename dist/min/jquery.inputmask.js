/*
 Input Mask plugin for jquery
 http://github.com/RobinHerbots/jquery.inputmask
 Copyright (c) 2010 - 2013 Robin Herbots
 Licensed under the MIT license (http://www.opensource.org/licenses/mit-license.php)
 Version: 2.6.0
*/
(function(c){if(void 0===c.fn.inputmask){var e={},I=function(c){var e=document.createElement("input");c="on"+c;var a=c in e;a||(e.setAttribute(c,"return;"),a="function"==typeof e[c]);return a},C=function(k,g){var a=e.aliases[k];return a?(a.alias&&C(a.alias),c.extend(!0,e,a),c.extend(!0,e,g),!0):!1},O=function(k){e.numericInput&&(k=k.split("").reverse().join(""));var g=!1,a=0,d=e.greedy,h=e.repeat;"*"==h&&(d=!1);1==k.length&&!1==d&&0!=h&&(e.placeholder="");k=c.map(k.split(""),function(c,d){var l=[];
if(c==e.escapeChar)g=!0;else if(c!=e.optionalmarker.start&&c!=e.optionalmarker.end||g){var b=e.definitions[c];if(b&&!g)for(var f=0;f<b.cardinality;f++)l.push(e.placeholder.charAt((a+f)%e.placeholder.length));else l.push(c),g=!1;a+=l.length;return l}});for(var b=k.slice(),l=1;l<h&&d;l++)b=b.concat(k.slice());return{mask:b,repeat:h,greedy:d}},Q=function(){function k(a){function c(a,d,l){this.matches=[];this.isGroup=a||!1;this.isOptional=d||!1;this.isQuantifier=l||!1;this.mask;this.quantifier={min:1,
max:1}}function d(a,c,l){var f=e.definitions[c];l=void 0!=l?l:a.matches.length;if(f&&!k){for(var g=f.prevalidator,b=g?g.length:0,h=1;h<f.cardinality;h++){var D=b>=h?g[h-1]:[],m=D.validator,D=D.cardinality;a.matches.splice(l++,0,{fn:m?"string"==typeof m?RegExp(m):new function(){this.test=m}:/./,cardinality:D?D:1,optionality:a.isOptional,casing:f.casing,def:f.definitionSymbol||c})}a.matches.splice(l++,0,{fn:f.validator?"string"==typeof f.validator?RegExp(f.validator):new function(){this.test=f.validator}:
/./,cardinality:f.cardinality,optionality:a.isOptional,casing:f.casing,def:f.definitionSymbol||c})}else a.matches.splice(l++,0,{fn:null,cardinality:0,optionality:a.isOptional,casing:null,def:c}),k=!1}e.numericInput&&(a=a.split("").reverse().join(""));var g=/(?:[?*+]|\{[0-9]+(?:,[0-9]*)?\})\??|[^.?*+^${[]()|\\]+|./g,k=!1,f=new c,h,q,v=[];for(b=[];h=g.exec(a);)switch(q=h[0],q.charAt(0)){case e.optionalmarker.end:case e.groupmarker.end:h=v.pop();0<v.length?v[v.length-1].matches.push(h):(b.push(h),f=
h);break;case e.optionalmarker.start:!f.isGroup&&!f.isOptional&&0<f.matches.length&&b.push(f);f=new c(!1,!0);v.push(f);break;case e.groupmarker.start:!f.isGroup&&!f.isOptional&&0<f.matches.length&&b.push(f);f=new c(!0);v.push(f);break;case e.quantifiermarker.start:h=new c(!1,!1,!0);q=q.replace(/[{}]/g,"");q=q.split(",");h.quantifier=1==q.length?{min:q[0],max:q[0]}:{min:q[0],max:q[1]};0<v.length?v[v.length-1].matches.push(h):(f.matches.push(h),f=new c);break;case e.escapeChar:k=!0;break;default:0<
v.length?d(v[v.length-1],q):(f.isGroup?(f.isGroup=!1,d(f,e.groupmarker.start,0),d(f,e.groupmarker.end),b.pop()):f.isOptional&&(f=new c),d(f,q))}0<f.matches.length&&b.push(f);if(0<e.repeat||"*"==e.repeat||"+"==e.repeat)a=new c(!1,!1,!1),g=new c(!0),f=new c(!1,!1,!0),f.quantifier="*"==e.repeat?{min:0,max:"*"}:"+"==e.repeat?{min:1,max:"*"}:{min:e.greedy?e.repeat:1,max:e.repeat},g.matches=1<b.length?b:b[0].matches,a.matches.push(g),a.matches.push(f),b=[a];return b}function g(a){var c=a.length;for(i=0;i<
c&&a.charAt(i)!=e.optionalmarker.start;i++);var d=[a.substring(0,i)];i<c&&d.push(a.substring(i+1,c));return d}function a(l,b,M){var m=0,n=0,f=b.length;for(i=0;i<f&&!(b.charAt(i)==e.optionalmarker.start&&m++,b.charAt(i)==e.optionalmarker.end&&n++,0<m&&m==n);i++);m=[b.substring(0,i)];i<f&&m.push(b.substring(i+1,f));n=g(m[0]);1<n.length?(b=l+n[0]+(e.optionalmarker.start+n[1]+e.optionalmarker.end)+(1<m.length?m[1]:""),-1==c.inArray(b,h)&&""!=b&&(h.push(b),f=O(b),d.push({mask:b,maskToken:k(b),_buffer:f.mask,
buffer:f.mask.slice(),tests:{},lastValidPosition:-1,greedy:f.greedy,repeat:f.repeat,metadata:M})),b=l+n[0]+(1<m.length?m[1]:""),-1==c.inArray(b,h)&&""!=b&&(h.push(b),f=O(b),d.push({mask:b,maskToken:k(b),_buffer:f.mask,buffer:f.mask.slice(),tests:{},lastValidPosition:-1,greedy:f.greedy,repeat:f.repeat,metadata:M})),1<g(n[1]).length&&a(l+n[0],n[1]+m[1],M),1<m.length&&1<g(m[1]).length&&(a(l+n[0]+(e.optionalmarker.start+n[1]+e.optionalmarker.end),m[1],M),a(l+n[0],m[1],M))):(b=l+m,-1==c.inArray(b,h)&&
""!=b&&(h.push(b),f=O(b),d.push({mask:b,maskToken:k(b),validPositions:[],_buffer:f.mask,buffer:f.mask.slice(),tests:{},lastValidPosition:-1,greedy:f.greedy,repeat:f.repeat,metadata:M})))}var d=[],h=[],b=[];c.isFunction(e.mask)&&(e.mask=e.mask.call(this,e));c.isArray(e.mask)?c.each(e.mask,function(c,d){void 0!=d.mask?a("",d.mask.toString(),d):a("",d.toString())}):a("",e.mask.toString());return e.greedy?d:d.sort(function(a,c){return a.mask.length-c.mask.length})},aa=null!==navigator.userAgent.match(/msie 10/i),
ga=null!==navigator.userAgent.match(/iphone/i),ha=null!==navigator.userAgent.match(/android.*safari.*/i),ba=null!==navigator.userAgent.match(/android.*chrome.*/i),ia=I("paste")&&!aa?"paste":I("input")?"input":"propertychange",z=function(e,g,a){function d(){return e[g]}function h(a){function c(d,f,b,g){function s(b,g,K){if(e==a&&void 0==b.matches)return l=l.concat(g),b;if(void 0!=b.matches)if(b.isGroup&&!0!==K){if(b=s(d.matches[h+1],g))return b}else if(b.isOptional){if(b=c(b,f,g,K))return b}else if(b.isQuantifier){K=
b;for(var N=0<f.length?f.shift():0;N<isNaN(K.quantifier.max)?N+1:K.quantifier.max;N++)if(b=s(d.matches[d.matches.indexOf(K)-1],[N].concat(g),!0))return b}else{if(b=c(b,f,g,K))return b}else e++}for(var h=0<f.length?f.shift():0;h<d.matches.length;h++)if((g=s(d.matches[h],[h].concat(b)))&&e==a)return g}var f=d().maskToken,e=0,b=[0],l;if(d().tests[a])return d().tests[a].match;d().tests[a-1]&&(e=a-1,b=d().tests[a-1].locator.slice());for(var g=b.shift();g<f.length;g++){l=[];var h=c(f[g],b,[]);if(h&&e==
a)return l.push(g),d().tests[a]={match:h,locator:l.reverse()},h}return{fn:null,cardinality:0,optionality:!0,casing:null,def:""}}function b(){return d()._buffer}function l(){return d().buffer}function D(b,T,s){function x(c,d,b){for(var w=d?1:0,f="",K=l(),N=h(c).cardinality;N>w;N--)f+=v(K,c-(N-1),!0);d&&(f+=d);return null!=h(c).fn?h(c).fn.test(f,K,c,b,a):d==F(c)||d==a.skipOptionalPartCharacter?{refresh:!0,c:F(c),pos:c}:!1}if(s=!0===s){var A=x(b,T,s);!0===A&&(A={pos:b});return A}var p=[],A=!1,r=g,X=
l().slice(),U=d().lastValidPosition;H(b);var y=[];c.each(e,function(a,c){if("object"==typeof c){g=a;var e=b,h=d().lastValidPosition,k;if(h==U){if(1<e-U){for(h=-1==h?0:h;h<e&&(k=x(h,X[h],!0),!1!==k);h++)q(l(),h,X[h],!0),!0===k&&(k={pos:h}),k=k.pos||h,d().lastValidPosition<k&&(d().lastValidPosition=k);p.push({activeMasksetIndex:a,result:A})}if(!m(e)&&!x(e,T,s)){h=f(e)-e;for(k=0;k<h&&!1===x(++e,T,s);k++);y.push(g)}}(d().lastValidPosition>=U||g==r)&&0<=e&&e<n()&&(A=x(e,T,s),!1!==A&&(!0===A&&(A={pos:e}),
k=A.pos||e,d().lastValidPosition<k&&(d().lastValidPosition=k)),p.push({activeMasksetIndex:a,result:A}))}});var D=function(a,f){var h=!1;c.each(f,function(d,b){if(h=-1==c.inArray(b.activeMasksetIndex,a)&&!1!==b.result)return!1});if(h)f=c.map(f,function(d,b){if(-1==c.inArray(d.activeMasksetIndex,a))return d;e[d.activeMasksetIndex].lastValidPosition=U});else{var s=-1,m=-1;c.each(f,function(d,b){-1!=c.inArray(b.activeMasksetIndex,a)&&!1!==b.result&(-1==s||s>b.result.pos)&&(s=b.result.pos,m=b.activeMasksetIndex)});
f=c.map(f,function(f,N){if(-1!=c.inArray(f.activeMasksetIndex,a)){if(f.result.pos==s)return f;if(!1!==f.result){g=f.activeMasksetIndex;for(var P=b;P<s;P++){rsltValid=x(P,e[m].buffer[P],!0);if(!1===rsltValid){d().lastValidPosition=s-1;break}else q(l(),P,e[m].buffer[P],!0),d().lastValidPosition=P;var t=rsltValid.pos||P;d().lastValidPosition<t&&(d().lastValidPosition=t)}rsltValid=x(s,T,!0);!1!==rsltValid&&(q(l(),s,T,!0),d().lastValidPosition=s);return f}a.push(g)}})}return f}(y,p);g=r;return D}function M(){var a=
g,b={activeMasksetIndex:0,lastValidPosition:-1,next:-1};c.each(e,function(a,c){"object"==typeof c&&(g=a,d().lastValidPosition>b.lastValidPosition?(b.activeMasksetIndex=a,b.lastValidPosition=d().lastValidPosition,b.next=f(d().lastValidPosition)):d().lastValidPosition==b.lastValidPosition&&(-1==b.next||b.next>f(d().lastValidPosition))&&(b.activeMasksetIndex=a,b.lastValidPosition=d().lastValidPosition,b.next=f(d().lastValidPosition)))});g=-1!=b.lastValidPosition&&e[a].lastValidPosition==b.lastValidPosition?
a:b.activeMasksetIndex;a!=g&&(C(l(),f(b.lastValidPosition),n()),d().writeOutBuffer=!0);p.data("_inputmask").activeMasksetIndex=g}function m(a){a=h(a);return void 0!=a?a.fn:!1}function n(){return a.getMaskLength(b(),d().greedy,d().repeat,l(),a)}function f(a){var c=n();if(a>=c)return c;for(;++a<c&&!m(a););return a}function H(a){if(0>=a)return 0;for(;0<--a&&!m(a););return a}function q(a,c,b,d){d&&(c=z(a,c));d=h(c);if(void 0!=b&&void 0!=d){switch(d.casing){case "upper":b.toUpperCase();break;case "lower":b.toLowerCase()}return c}a[c]=
b}function v(a,c,b){b&&(c=z(a,c));return a[c]}function z(a,c){for(var d;void 0==a[c]&&a.length<n();)for(d=0;void 0!==b()[d];)a.push(b()[d++]);return c}function J(a,c,b){a._valueSet(c.join(""));void 0!=b&&r(a,b)}function C(a,c,b,d){for(var f=n();c<b&&c<f;c++)!0===d?m(c)||q(a,c,""):q(a,c,F(c))}function V(a){q(l(),a,F(a))}function F(c){var b=h(c);return null==b.fn?b.def:a.placeholder.charAt(c%a.placeholder.length)}function S(a,l,h,m,q){m=void 0!=m?m.slice():Q(a._valueGet()).split("");c.each(e,function(a,
c){"object"==typeof c&&(c.buffer=c._buffer.slice(),c.lastValidPosition=-1,c.p=-1)});!0!==h&&(g=0);l&&a._valueSet("");n();c.each(m,function(e,g){if(!0===q){var k=d().p,k=-1==k?k:H(k),m=-1==k?e:f(k);-1==c.inArray(g,b().slice(k+1,m))&&c(a).trigger("_keypress",[!0,g.charCodeAt(0),l,h,e])}else c(a).trigger("_keypress",[!0,g.charCodeAt(0),l,h,e])});!0===h&&-1!=d().p&&(d().lastValidPosition=H(d().p))}function O(a){return c.inputmask.escapeRegex.call(this,a)}function Q(a){return a.replace(RegExp("("+O(b().join(""))+
")*$"),"")}function Z(a){var c=l(),b=c.slice(),d;for(d=b.length-1;0<=d;d--)if(h(d).optionality)if(m(d)&&D(d,c[d],!0))break;else b.pop();else break;J(a,b)}function I(b,d){if(!b.data("_inputmask")||!0!==d&&b.hasClass("hasDatepicker"))return b[0]._valueGet();var f=c.map(l(),function(a,c){return m(c)&&D(c,a,!0)?a:null}),f=(y?f.reverse():f).join("");return void 0!=a.onUnMask?a.onUnMask.call(this,l().join(""),f):f}function E(c){!y||"number"!=typeof c||a.greedy&&""==a.placeholder||(c=l().length-c);return c}
function r(b,d,f){var e=b.jquery&&0<b.length?b[0]:b;if("number"==typeof d)d=E(d),f=E(f),c(b).is(":visible")&&(f="number"==typeof f?f:d,e.scrollLeft=e.scrollWidth,!1==a.insertMode&&d==f&&f++,e.setSelectionRange?(e.selectionStart=d,e.selectionEnd=ha?d:f):e.createTextRange&&(b=e.createTextRange(),b.collapse(!0),b.moveEnd("character",f),b.moveStart("character",d),b.select()));else{if(!c(b).is(":visible"))return{begin:0,end:0};e.setSelectionRange?(d=e.selectionStart,f=e.selectionEnd):document.selection&&
document.selection.createRange&&(b=document.selection.createRange(),d=0-b.duplicate().moveStart("character",-1E5),f=d+b.text.length);d=E(d);f=E(f);return{begin:d,end:f}}}function Y(b){if("*"!=a.repeat){var d=!1,f=0,l=g;c.each(e,function(a,c){if("object"==typeof c){g=a;var e=H(n());if(c.lastValidPosition>=f&&c.lastValidPosition==e){for(var l=!0,h=0;h<=e;h++){var k=m(h);if(k&&(void 0==b[h]||b[h]==F(h))||!k&&b[h]!=F(h)){l=!1;break}}if(d=d||l)return!1}f=c.lastValidPosition}});g=l;return d}}var y=!1,L=
l().join(""),p,fa;this.unmaskedvalue=function(a,c){y=a.data("_inputmask").isRTL;return I(a,c)};this.isComplete=function(a){return Y(a)};this.mask=function(w){function z(a){a=c._data(a).events;c.each(a,function(a,b){c.each(b,function(a,c){if("inputmask"==c.namespace&&"setvalue"!=c.type&&"_keypress"!=c.type){var b=c.handler;c.handler=function(a){if(this.readOnly||this.disabled)a.preventDefault;else return b.apply(this,arguments)}}})})}function s(a){var b;Object.getOwnPropertyDescriptor&&(b=Object.getOwnPropertyDescriptor(a,
"value"));if(b&&b.get){if(!a._valueGet){var d=b.get,f=b.set;a._valueGet=function(){return y?d.call(this).split("").reverse().join(""):d.call(this)};a._valueSet=function(a){f.call(this,y?a.split("").reverse().join(""):a)};Object.defineProperty(a,"value",{get:function(){var a=c(this),b=c(this).data("_inputmask"),f=b.masksets,e=b.activeMasksetIndex;return b&&b.opts.autoUnmask?a.inputmask("unmaskedvalue"):d.call(this)!=f[e]._buffer.join("")?d.call(this):""},set:function(a){f.call(this,a);c(this).triggerHandler("setvalue.inputmask")}})}}else if(document.__lookupGetter__&&
a.__lookupGetter__("value"))a._valueGet||(d=a.__lookupGetter__("value"),f=a.__lookupSetter__("value"),a._valueGet=function(){return y?d.call(this).split("").reverse().join(""):d.call(this)},a._valueSet=function(a){f.call(this,y?a.split("").reverse().join(""):a)},a.__defineGetter__("value",function(){var a=c(this),b=c(this).data("_inputmask"),f=b.masksets,e=b.activeMasksetIndex;return b&&b.opts.autoUnmask?a.inputmask("unmaskedvalue"):d.call(this)!=f[e]._buffer.join("")?d.call(this):""}),a.__defineSetter__("value",
function(a){f.call(this,a);c(this).triggerHandler("setvalue.inputmask")}));else if(a._valueGet||(a._valueGet=function(){return y?this.value.split("").reverse().join(""):this.value},a._valueSet=function(a){this.value=y?a.split("").reverse().join(""):a}),void 0==c.valHooks.text||!0!=c.valHooks.text.inputmaskpatch)d=c.valHooks.text&&c.valHooks.text.get?c.valHooks.text.get:function(a){return a.value},f=c.valHooks.text&&c.valHooks.text.set?c.valHooks.text.set:function(a,c){a.value=c;return a},c.extend(c.valHooks,
{text:{get:function(a){var b=c(a);if(b.data("_inputmask")){if(b.data("_inputmask").opts.autoUnmask)return b.inputmask("unmaskedvalue");a=d(a);b=b.data("_inputmask");return a!=b.masksets[b.activeMasksetIndex]._buffer.join("")?a:""}return d(a)},set:function(a,b){var d=c(a),e=f(a,b);d.data("_inputmask")&&d.triggerHandler("setvalue.inputmask");return e},inputmaskpatch:!0}})}function x(a,c,e,t){var g=l();if(!1!==t)for(;!m(a)&&0<=a-1;)a--;for(t=a;t<c&&t<n();t++)if(m(t)){V(t);var k=f(t),p=v(g,k);if(p!=F(k))if(k<
n()&&!1!==D(t,p,!0)&&h(t).def==h(k).def)q(g,t,p,!0),k<c&&V(k);else if(m(t))break}else V(t);void 0!=e&&q(g,H(c),e);if(!1==d().greedy){c=Q(g.join("")).split("");g.length=c.length;t=0;for(e=g.length;t<e;t++)g[t]=c[t];0==g.length&&(d().buffer=b().slice())}return a}function A(a,c,f){var e=l();if(v(e,a,!0)!=F(a))for(var g=H(c);g>a&&0<=g;g--)if(m(g)){var k=H(g),n=v(e,k);n!=F(k)&&!1!==D(k,n,!0)&&h(g).def==h(k).def&&(q(e,g,n,!0),V(k))}else V(g);void 0!=f&&v(e,a)==F(a)&&q(e,a,f);a=e.length;if(!1==d().greedy){f=
Q(e.join("")).split("");e.length=f.length;g=0;for(k=e.length;g<k;g++)e[g]=f[g];0==e.length&&(d().buffer=b().slice())}return c-(a-e.length)}function O(c,b,g){if(a.numericInput||y){switch(b){case a.keyCode.BACKSPACE:b=a.keyCode.DELETE;break;case a.keyCode.DELETE:b=a.keyCode.BACKSPACE}if(y){var h=g.end;g.end=g.begin;g.begin=h}}h=!0;g.begin==g.end?(h=b==a.keyCode.BACKSPACE?g.begin-1:g.begin,a.isNumeric&&""!=a.radixPoint&&l()[h]==a.radixPoint&&(g.begin=l().length-1==h?g.begin:b==a.keyCode.BACKSPACE?h:
f(h),g.end=g.begin),h=!1,b==a.keyCode.BACKSPACE?g.begin--:b==a.keyCode.DELETE&&g.end++):1!=g.end-g.begin||a.insertMode||(h=!1,b==a.keyCode.BACKSPACE&&g.begin--);C(l(),g.begin,g.end);var p=n();if(!1==a.greedy)x(g.begin,p,void 0,!y&&b==a.keyCode.BACKSPACE&&!h);else{for(var q=g.begin,r=g.begin;r<g.end;r++)if(m(r)||!h)q=x(g.begin,p,void 0,!y&&b==a.keyCode.BACKSPACE&&!h);h||(g.begin=q)}b=f(-1);C(l(),g.begin,g.end,!0);S(c,!1,void 0==e[1]||b>=g.end,l());d().lastValidPosition<b?(d().lastValidPosition=-1,
d().p=b):d().p=g.begin}function I(e){$=!1;var g=this,h=c(g),k=e.keyCode,m=r(g);k==a.keyCode.BACKSPACE||k==a.keyCode.DELETE||ga&&127==k||e.ctrlKey&&88==k?(e.preventDefault(),88==k&&(L=l().join("")),O(g,k,m),M(),J(g,l(),d().p),g._valueGet()==b().join("")&&h.trigger("cleared"),a.showTooltip&&h.prop("title",d().mask)):k==a.keyCode.END||k==a.keyCode.PAGE_DOWN?setTimeout(function(){var b=f(d().lastValidPosition);a.insertMode||b!=n()||e.shiftKey||b--;r(g,e.shiftKey?m.begin:b,b)},0):k==a.keyCode.HOME&&!e.shiftKey||
k==a.keyCode.PAGE_UP?r(g,0,e.shiftKey?m.begin:0):k==a.keyCode.ESCAPE||90==k&&e.ctrlKey?(S(g,!0,!1,L.split("")),h.click()):k!=a.keyCode.INSERT||e.shiftKey||e.ctrlKey?!1!=a.insertMode||e.shiftKey||(k==a.keyCode.RIGHT?setTimeout(function(){var a=r(g);r(g,a.begin)},0):k==a.keyCode.LEFT&&setTimeout(function(){var a=r(g);r(g,a.begin-1)},0)):(a.insertMode=!a.insertMode,r(g,a.insertMode||m.begin!=n()?m.begin:m.begin-1));h=r(g);!0===a.onKeyDown.call(this,e,l(),a)&&r(g,h.begin,h.end);ca=-1!=c.inArray(k,a.ignorables)}
function X(b,h,m,t,p,s){if(void 0==m&&$)return!1;$=!0;var w=c(this);b=b||window.event;m=m||b.which||b.charCode||b.keyCode;if((!b.ctrlKey||!b.altKey)&&(b.ctrlKey||b.metaKey||ca)&&!0!==h)return!0;if(m){!0!==h&&46==m&&!1==b.shiftKey&&","==a.radixPoint&&(m=44);var u,z,x=String.fromCharCode(m);h?(m=p?s:d().lastValidPosition+1,u={begin:m,end:m}):u=r(this);s=y?1<u.begin-u.end||1==u.begin-u.end&&a.insertMode:1<u.end-u.begin||1==u.end-u.begin&&a.insertMode;var C=g;s&&(g=C,c.each(e,function(a,b){"object"==
typeof b&&(g=a,d().undoBuffer=l().join(""))}),O(this,a.keyCode.DELETE,u),a.insertMode||c.each(e,function(a,b){"object"==typeof b&&(g=a,A(u.begin,n()),d().lastValidPosition=f(d().lastValidPosition))}),g=C);var E=l().join("").indexOf(a.radixPoint);a.isNumeric&&!0!==h&&-1!=E&&(a.greedy&&u.begin<=E?(u.begin=H(u.begin),u.end=u.begin):x==a.radixPoint&&(u.begin=E,u.end=u.begin));var B=u.begin;m=D(B,x,p);!0===p&&(m=[{activeMasksetIndex:g,result:m}]);var G=-1;c.each(m,function(b,c){g=c.activeMasksetIndex;
d().writeOutBuffer=!0;var e=c.result;if(!1!==e){var h=!1,k=l();!0!==e&&(h=e.refresh,B=void 0!=e.pos?e.pos:B,x=void 0!=e.c?e.c:x);if(!0!==h){if(!0==a.insertMode){e=n();for(k=k.slice();v(k,e,!0)!=F(e)&&e>=B;)e=0==e?-1:H(e);e>=B?(A(B,n(),x),k=d().lastValidPosition,e=f(k),e!=n()&&k>=B&&v(l(),e,!0)!=F(e)&&(d().lastValidPosition=e)):d().writeOutBuffer=!1}else q(k,B,x,!0);if(-1==G||G>f(B))G=f(B)}else!p&&(k=B<n()?B+1:B,-1==G||G>k)&&(G=k);G>d().p&&(d().p=G)}});!0!==p&&(g=C,M());if(!1!==t&&(c.each(m,function(a,
b){if(b.activeMasksetIndex==g)return z=b,!1}),void 0!=z)){var L=this;setTimeout(function(){a.onKeyValidation.call(L,z.result,a)},0);if(d().writeOutBuffer&&!1!==z.result){var I=l();t=h?void 0:a.numericInput?B>E?H(G):x==a.radixPoint?G-1:H(G-1):G;J(this,I,t);!0!==h&&setTimeout(function(){!0===Y(I)&&w.trigger("complete");W=!0;w.trigger("input")},0)}else s&&(d().buffer=d().undoBuffer.split(""))}a.showTooltip&&w.prop("title",d().mask);b.preventDefault()}}function U(d){var e=c(this),f=d.keyCode,g=l();ba&&
f==a.keyCode.BACKSPACE&&fa==this._valueGet()&&I.call(this,d);a.onKeyUp.call(this,d,g,a);f==a.keyCode.TAB&&a.showMaskOnFocus&&(e.hasClass("focus.inputmask")&&0==this._valueGet().length?(g=b().slice(),J(this,g),r(this,0),L=l().join("")):(J(this,g),g.join("")==b().join("")&&-1!=c.inArray(a.radixPoint,g)?(r(this,E(0)),e.click()):r(this,E(0),E(n()))))}p=c(w);if(p.is(":input")){p.data("_inputmask",{masksets:e,activeMasksetIndex:g,opts:a,isRTL:!1});a.showTooltip&&p.prop("title",d().mask);d().greedy=d().greedy?
d().greedy:0==d().repeat;if(null!=p.attr("maxLength")){var R=p.prop("maxLength");-1<R&&c.each(e,function(a,b){"object"==typeof b&&"*"==b.repeat&&(b.repeat=R)});n()>=R&&-1<R&&(R<b().length&&(b().length=R),!1==d().greedy&&(d().repeat=Math.round(R/b().length)),p.prop("maxLength",2*n()))}s(w);var $=!1,W=!1,ca=!1;a.numericInput&&(a.isNumeric=a.numericInput);("rtl"==w.dir||a.numericInput&&a.rightAlignNumerics||a.isNumeric&&a.rightAlignNumerics)&&p.css("text-align","right");if("rtl"==w.dir||a.numericInput){w.dir=
"ltr";p.removeAttr("dir");var ea=p.data("_inputmask");ea.isRTL=!0;p.data("_inputmask",ea);y=!0}p.unbind(".inputmask");p.removeClass("focus.inputmask");p.closest("form").bind("submit",function(){L!=l().join("")&&p.change()}).bind("reset",function(){setTimeout(function(){p.trigger("setvalue")},0)});p.bind("mouseenter.inputmask",function(){!c(this).hasClass("focus.inputmask")&&a.showMaskOnHover&&this._valueGet()!=l().join("")&&J(this,l())}).bind("blur.inputmask",function(){var d=c(this),f=this._valueGet(),
h=l();d.removeClass("focus.inputmask");L!=l().join("")&&d.change();a.clearMaskOnLostFocus&&""!=f&&(f==b().join("")?this._valueSet(""):Z(this));!1===Y(h)&&(d.trigger("incomplete"),a.clearIncomplete&&(c.each(e,function(a,b){"object"==typeof b&&(b.buffer=b._buffer.slice(),b.lastValidPosition=-1)}),g=0,a.clearMaskOnLostFocus?this._valueSet(""):(h=b().slice(),J(this,h))))}).bind("focus.inputmask",function(){var b=c(this),e=this._valueGet();a.showMaskOnFocus&&!b.hasClass("focus.inputmask")&&(!a.showMaskOnHover||
a.showMaskOnHover&&""==e)&&this._valueGet()!=l().join("")&&J(this,l(),f(d().lastValidPosition));b.addClass("focus.inputmask");L=l().join("")}).bind("mouseleave.inputmask",function(){var d=c(this);a.clearMaskOnLostFocus&&(d.hasClass("focus.inputmask")||this._valueGet()==d.attr("placeholder")||(this._valueGet()==b().join("")||""==this._valueGet()?this._valueSet(""):Z(this)))}).bind("click.inputmask",function(){var b=this;setTimeout(function(){var e=r(b),g=l();if(e.begin==e.end){var e=a.isRTL?E(e.begin):
e.begin,h=d().lastValidPosition,g=a.isNumeric?!1===a.skipRadixDance&&""!=a.radixPoint&&-1!=c.inArray(a.radixPoint,g)?a.numericInput?f(c.inArray(a.radixPoint,g)):c.inArray(a.radixPoint,g):f(h):f(h);e<g?m(e)?r(b,e):r(b,f(e)):r(b,g)}},0)}).bind("dblclick.inputmask",function(){var a=this;setTimeout(function(){r(a,0,f(d().lastValidPosition))},0)}).bind(ia+".inputmask dragdrop.inputmask drop.inputmask",function(b){if(!0===W)return W=!1,!0;var d=this,e=c(d);if("propertychange"==b.type&&d._valueGet().length<=
n())return!0;setTimeout(function(){var b=void 0!=a.onBeforePaste?a.onBeforePaste.call(this,d._valueGet()):d._valueGet();S(d,!0,!1,b.split(""),!0);!0===Y(l())&&e.trigger("complete");e.click()},0)}).bind("setvalue.inputmask",function(){S(this,!0);L=l().join("");this._valueGet()==b().join("")&&this._valueSet("")}).bind("_keypress.inputmask",X).bind("complete.inputmask",a.oncomplete).bind("incomplete.inputmask",a.onincomplete).bind("cleared.inputmask",a.oncleared).bind("keyup.inputmask",U);ba?p.bind("input.inputmask",
function(a){if(!0===W)return W=!1,!0;a=c(this);fa=l().join("");S(this,!1,!1);J(this,l());!0===Y(l())&&a.trigger("complete");a.click()}):p.bind("keydown.inputmask",I).bind("keypress.inputmask",X);S(w,!0,!1);L=l().join("");var da;try{da=document.activeElement}catch(aa){}da===w?(p.addClass("focus.inputmask"),r(w,f(d().lastValidPosition))):a.clearMaskOnLostFocus?l().join("")==b().join("")?w._valueSet(""):Z(w):J(w,l());z(w)}};return this};c.inputmask={defaults:{placeholder:"_",optionalmarker:{start:"[",
end:"]"},quantifiermarker:{start:"{",end:"}"},groupmarker:{start:"(",end:")"},escapeChar:"\\",mask:null,oncomplete:c.noop,onincomplete:c.noop,oncleared:c.noop,repeat:0,greedy:!0,autoUnmask:!1,clearMaskOnLostFocus:!0,insertMode:!0,clearIncomplete:!1,aliases:{},onKeyUp:c.noop,onKeyDown:c.noop,onBeforePaste:void 0,onUnMask:void 0,showMaskOnFocus:!0,showMaskOnHover:!0,onKeyValidation:c.noop,skipOptionalPartCharacter:" ",showTooltip:!1,numericInput:!1,isNumeric:!1,radixPoint:"",skipRadixDance:!1,rightAlignNumerics:!0,
definitions:{9:{validator:"[0-9]",cardinality:1},a:{validator:"[A-Za-z\u0410-\u044f\u0401\u0451]",cardinality:1},"*":{validator:"[A-Za-z\u0410-\u044f\u0401\u04510-9]",cardinality:1}},keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,
RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91},ignorables:[8,9,13,19,27,33,34,35,36,37,38,39,40,45,46,93,112,113,114,115,116,117,118,119,120,121,122,123],getMaskLength:function(c,e,a,d,h){h=c.length;e||("*"==a?h=d.length+1:1<a&&(h+=c.length*(a-1)));return h}},escapeRegex:function(c){return c.replace(RegExp("(\\/|\\.|\\*|\\+|\\?|\\||\\(|\\)|\\[|\\]|\\{|\\}|\\\\)","gim"),"\\$1")},format:function(c,e){}};c.fn.inputmask=function(k,g){e=c.extend(!0,{},c.inputmask.defaults,g);var a,d=0;if("string"===
typeof k)switch(k){case "mask":return C(e.alias,g),a=Q(),0==a.length?this:this.each(function(){z(c.extend(!0,{},a),0,e).mask(this)});case "unmaskedvalue":var h=c(this);return h.data("_inputmask")?(a=h.data("_inputmask").masksets,d=h.data("_inputmask").activeMasksetIndex,e=h.data("_inputmask").opts,z(a,d,e).unmaskedvalue(h)):h.val();case "remove":return this.each(function(){var b=c(this);if(b.data("_inputmask")){a=b.data("_inputmask").masksets;d=b.data("_inputmask").activeMasksetIndex;e=b.data("_inputmask").opts;
this._valueSet(z(a,d,e).unmaskedvalue(b,!0));b.removeData("_inputmask");b.unbind(".inputmask");b.removeClass("focus.inputmask");var g;Object.getOwnPropertyDescriptor&&(g=Object.getOwnPropertyDescriptor(this,"value"));g&&g.get?this._valueGet&&Object.defineProperty(this,"value",{get:this._valueGet,set:this._valueSet}):document.__lookupGetter__&&this.__lookupGetter__("value")&&this._valueGet&&(this.__defineGetter__("value",this._valueGet),this.__defineSetter__("value",this._valueSet));try{delete this._valueGet,
delete this._valueSet}catch(h){this._valueSet=this._valueGet=void 0}}});case "getemptymask":return this.data("_inputmask")?(a=this.data("_inputmask").masksets,d=this.data("_inputmask").activeMasksetIndex,a[d]._buffer.join("")):"";case "hasMaskedValue":return this.data("_inputmask")?!this.data("_inputmask").opts.autoUnmask:!1;case "isComplete":return a=this.data("_inputmask").masksets,d=this.data("_inputmask").activeMasksetIndex,e=this.data("_inputmask").opts,z(a,d,e).isComplete(this[0]._valueGet().split(""));
case "getmetadata":if(this.data("_inputmask"))return a=this.data("_inputmask").masksets,d=this.data("_inputmask").activeMasksetIndex,a[d].metadata;break;default:return C(k,g)||(e.mask=k),a=Q(),0==a.length?this:this.each(function(){z(c.extend(!0,{},a),d,e).mask(this)})}else{if("object"==typeof k)return e=c.extend(!0,{},c.inputmask.defaults,k),C(e.alias,k),a=Q(),0==a.length?this:this.each(function(){z(c.extend(!0,{},a),d,e).mask(this)});if(void 0==k)return this.each(function(){var a=c(this).attr("data-inputmask");
if(a&&""!=a)try{var a=a.replace(RegExp("'","g"),'"'),d=c.parseJSON("{"+a+"}");c.extend(!0,d,g);e=c.extend(!0,{},c.inputmask.defaults,d);C(e.alias,d);e.alias=void 0;c(this).inputmask(e)}catch(h){}})}}}})(jQuery);
