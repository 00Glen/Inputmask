/*
 Input Mask plugin for jquery
 http://github.com/RobinHerbots/jquery.inputmask
 Copyright (c) 2010 - 2014 Robin Herbots
 Licensed under the MIT license (http://www.opensource.org/licenses/mit-license.php)
 Version: 3.0.30
*/
(function(b){if(void 0!=b.fn.inputmask){var s=function(a,h,g){function s(b){var e=document.createElement("input");b="on"+b;var k=b in e;k||(e.setAttribute(b,"return;"),k="function"==typeof e[b]);return k}function v(c){if(void 0==b.valHooks[c]||!0!=b.valHooks[c].inputmaskmultipatch){var e=b.valHooks[c]&&b.valHooks[c].get?b.valHooks[c].get:function(b){return b.value},k=b.valHooks[c]&&b.valHooks[c].set?b.valHooks[c].set:function(b,e){b.value=e;return b};b.valHooks[c]={get:function(c){var k=b(c);return k.data("_inputmask-multi")?
(c=k.data("_inputmask-multi"),e(c.elmasks[c.activeMasksetIndex])):e(c)},set:function(c,e){var a=b(c),d=k(c,e);a.data("_inputmask-multi")&&a.triggerHandler("setvalue");return d},inputmaskmultipatch:!0}}}function p(c,e,k){c=c.jquery&&0<c.length?c[0]:c;if("number"==typeof e){e=q(e);k=q(k);k="number"==typeof k?k:e;if(c!=f){var a=b(c).data("_inputmask")||{};a.caret={begin:e,end:k};b(c).data("_inputmask",a)}b(c).is(":visible")&&(c.scrollLeft=c.scrollWidth,!1==g.insertMode&&e==k&&k++,c.setSelectionRange?
(c.selectionStart=e,c.selectionEnd=k):c.createTextRange&&(c=c.createTextRange(),c.collapse(!0),c.moveEnd("character",k),c.moveStart("character",e),c.select()))}else return a=b(c).data("_inputmask"),!b(c).is(":visible")&&a&&void 0!=a.caret?(e=a.caret.begin,k=a.caret.end):c.setSelectionRange?(e=c.selectionStart,k=c.selectionEnd):document.selection&&document.selection.createRange&&(c=document.selection.createRange(),e=0-c.duplicate().moveStart("character",-1E5),k=e+c.text.length),e=q(e),k=q(k),{begin:e,
end:k}}function q(b){!n||"number"!=typeof b||g.greedy&&""==g.placeholder||(b=f.value.length-b);return b}function r(c,e){if("multiMaskScope"!=c){if(b.isFunction(g.determineActiveMasksetIndex))l=g.determineActiveMasksetIndex.call(d,c,e);else{var a=-1,t=-1,m=-1;b.each(e,function(e,c){var d=b(c).data("_inputmask").maskset,f=-1,g=0,h=p(c).begin,n;for(n in d.validPositions)d=parseInt(n),d>f&&(f=d),g++;if(g>a||g==a&&t>h&&m>f||g==a&&t==h&&m<f)a=g,t=h,l=e,m=f})}var h=d.data("_inputmask-multi")||{activeMasksetIndex:0,
elmasks:e};h.activeMasksetIndex=l;d.data("_inputmask-multi",h)}-1==b.inArray(c,["focus"])&&f.value!=e[l]._valueGet()&&(h=""==b(e[l]).val()?e[l]._valueGet():b(e[l]).val(),f.value=h);-1==b.inArray(c,["blur","focus"])&&b(e[l]).hasClass("focus.inputmask")&&(h=p(e[l]),p(f,h.begin,h.end))}function w(c){f=c;d=b(f);n="rtl"==f.dir||g.numericInput;l=0;m=b.map(h,function(e,c){var a='<input type="text" ';d.attr("value")&&(a+='value="'+d.attr("value")+'" ');d.attr("dir")&&(a+='dir="'+d.attr("dir")+'" ');a=b(a+
"/>")[0];b(a).inputmask(e.mask,g);return a});d.data("_inputmask-multi",{activeMasksetIndex:0,elmasks:m});("rtl"==f.dir||g.rightAlign)&&d.css("text-align","right");f.dir="ltr";d.removeAttr("dir");""!=d.attr("value")&&r("init",m);d.bind("mouseenter blur focus mouseleave click dblclick keydown keypress keypress",function(a){var c=p(f),d,h=!0;if("keydown"==a.type){d=a.keyCode;if(d==g.keyCode.DOWN&&l<m.length-1)return l++,r("multiMaskScope",m),!1;if(d==g.keyCode.UP&&0<l)return l--,r("multiMaskScope",m),
!1;if(a.ctrlKey||a.shiftKey||a.altKey)return!0}else if("keypress"==a.type&&(a.ctrlKey||a.shiftKey||a.altKey))return!0;b.each(m,function(f,l){if("keydown"==a.type){d=a.keyCode;if(d==g.keyCode.BACKSPACE&&l._valueGet().length<c.begin)return;if(d==g.keyCode.TAB)h=!1;else{if(d==g.keyCode.RIGHT){p(l,c.begin+1,c.end+1);h=!1;return}if(d==g.keyCode.LEFT){p(l,c.begin-1,c.end-1);h=!1;return}}}if(-1!=b.inArray(a.type,["click"])&&(p(l,q(c.begin),q(c.end)),c.begin!=c.end)){h=!1;return}-1!=b.inArray(a.type,["keydown"])&&
c.begin!=c.end&&p(l,c.begin,c.end);b(l).triggerHandler(a)});h&&setTimeout(function(){r(a.type,m)},0)});d.bind(x+" dragdrop drop setvalue",function(a){p(f);setTimeout(function(){b.each(m,function(c,d){d._valueSet(f.value);b(d).triggerHandler(a)});setTimeout(function(){r(a.type,m)},0)},0)});v(f.type)}var x=s("paste")?"paste":s("input")?"input":"propertychange",n,f,d,m,l;g.multi=!0;if(void 0!=a)switch(a.action){case "isComplete":return d=b(a.el),a=d.data("_inputmask-multi"),a=a.elmasks[a.activeMasksetIndex],
b(a).inputmask("isComplete");case "unmaskedvalue":return d=a.$input,a=d.data("_inputmask-multi"),a=a.elmasks[a.activeMasksetIndex],b(a).inputmask("unmaskedvalue");case "mask":w(a.el);break;case "format":return d=b({}),d.data("_inputmask",{maskset:maskset,opts:g,isRTL:g.numericInput}),g.numericInput&&(n=!0),a=a.value.split(""),checkVal(d,!1,!1,n?a.reverse():a,!0),n?getBuffer().reverse().join(""):getBuffer().join("");case "isValid":return d=b({}),d.data("_inputmask",{maskset:maskset,opts:g,isRTL:g.numericInput}),
g.numericInput&&(n=!0),a=a.value.split(""),checkVal(d,!1,!0,n?a.reverse():a),isComplete(getBuffer());case "getemptymask":return d=b(a.el),maskset=d.data("_inputmask").maskset,g=d.data("_inputmask").opts,getBufferTemplate();case "remove":f=a.el;d=b(f);maskset=d.data("_inputmask").maskset;g=d.data("_inputmask").opts;f._valueSet(unmaskedvalue(d));d.unbind(".inputmask");d.removeClass("focus.inputmask");d.removeData("_inputmask");var u;Object.getOwnPropertyDescriptor&&(u=Object.getOwnPropertyDescriptor(f,
"value"));u&&u.get?f._valueGet&&Object.defineProperty(f,"value",{get:f._valueGet,set:f._valueSet}):document.__lookupGetter__&&f.__lookupGetter__("value")&&f._valueGet&&(f.__defineGetter__("value",f._valueGet),f.__defineSetter__("value",f._valueSet));try{delete f._valueGet,delete f._valueSet}catch(y){f._valueGet=void 0,f._valueSet=void 0}}};b.extend(b.inputmask.defaults,{multi:!1,nojumps:!1,nojumpsThreshold:0,determineActiveMasksetIndex:void 0});b.inputmask._fn=b.fn.inputmask;b.fn.inputmask=function(a,
h){var g=b.extend(!0,{},b.inputmask.defaults,h);if("string"===typeof a)return g.mask=a,b.inputmask._fn("_detectScope",g)?b.inputmask._fn.call(this,a,h,s,"_inputmask-multi"):b.inputmask._fn.call(this,a,h);if("object"==typeof a)return g=b.extend(!0,{},b.inputmask.defaults,a),b.inputmask._fn("_detectScope",g)?b.inputmask._fn.call(this,a,h,s,"_inputmask-multi"):b.inputmask._fn.call(this,a,h);if(void 0==a)return b.inputmask._fn.call(this,a,h)}}})(jQuery);
